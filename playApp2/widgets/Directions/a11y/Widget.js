// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
define("dojo/_base/lang dojo/on dojo/query dojo/aspect dojo/_base/array dojo/_base/html jimu/utils dojo/keys".split(" "),function(c,k,e,l,h,d,f,g){return{a11y_init:function(){d.setAttr(this.domNode,"aria-label",this.nls._widgetLabel)},a11y_updateFocusNodes:function(b){if(this._dijitDirections&&this._dijitDirections._widgetContainer){var a=e(".esriResultsSummary",this._dijitDirections._resultsNode);a&&a[0]&&(d.setAttr(a[0],"tabindex","0"),d.setAttr(a[0],"role","document"));a=e("input",this._dijitDirections._widgetContainer);
h.some(a,c.hitch(this,function(a){if(f.isDomFocusable(a))return f.initFirstFocusNode(this.domNode,a),b&&b.isFouceToFirstNode&&a.focus(),!0}));"none"===d.getStyle(this._dijitDirections._savePrintBtnContainer,"display")?f.initLastFocusNode(this.domNode,this._dijitDirections._clearDirectionsButtonNode):(a=null,(a=e(".esriPrintFooter",this._dijitDirections._resultsNode))&&a[0]?(d.setAttr(a[0],"tabindex","0"),a=a[0]):(a=e('[tabindex $\x3d"0"]',this._dijitDirections._resultsNode),a=a[a.length-1]),f.initLastFocusNode(this.domNode,
a));(a=e("[data-blur-on-click]",this._dijitDirections.domNode))&&!1===d.hasClass(this._dijitDirections.domNode,"WAB-508")&&(h.forEach(a,c.hitch(this,function(a){this.own(k(a,"keydown",c.hitch(this,function(a){a.keyCode!==g.ENTER&&a.keyCode!==g.SPACE||this._delayFocus(a.target)})))})),this.own(l.after(this._dijitDirections._travelModeSelector,"openDropDown",c.hitch(this,function(){var a=e(".dijitMenuItem",this._dijitDirections._travelModeSelector.dropDown.domNode);h.forEach(a,c.hitch(this,function(a){d.removeAttr(a,
"aria-label")}))}),this)),d.addClass(this._dijitDirections.domNode,"WAB-508"))}},a11y_initEvents:function(){this._dijitDirections&&this._dijitDirections._clearResultsHTML&&this.own(l.after(this._dijitDirections,"_clearResultsHTML",c.hitch(this,this.a11y_updateFocusNodes),this));this.own(k(this._dijitDirections._clearDirectionsButtonNode,"keydown",c.hitch(this,function(b){b.keyCode!==g.ENTER&&b.keyCode!==g.SPACE||setTimeout(c.hitch(this,function(){this._dijitDirections._clearDirectionsButtonNode.focus()}),
150)})))},a11y_focusWhenFinish:function(){var b=e(".esriResultsSummary",this._dijitDirections._resultsNode);b&&b[0]&&this._delayFocus(b[0])},_delayFocus:function(b){setTimeout(c.hitch(this,function(){b.focus()}),80)},a11y_hackAttr:function(){}}});
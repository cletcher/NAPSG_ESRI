// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
define("dojo/Evented dojo/_base/declare dojo/Deferred dojo/_base/html dojo/has jimu/utils".split(" "),function(l,d,m,k,e,b){return d([l],{declaredClass:"saveJSON",config:null,constructor:function(a){d.safeMixin(this,a)},_getDownloadUrl:function(a){return window.Blob&&window.URL&&window.URL.createObjectURL?(a=new Blob([a],{type:"text/json"}),URL.createObjectURL(a)):"data:attachment/json;charset\x3dutf-8,"+encodeURIComponent(a)},exportsJson:function(a,c){c=JSON.stringify(c);var g=new m;try{if(e("ie")&&
10>e("ie")){var f=window.top.open("about:blank","_blank");f.document.write("sep\x3d,\r\n"+c);f.document.close();f.document.execCommand("SaveAs",!0,a);f.close();this.savePrompt()}else if(10===e("ie")||this._isIE11()||this._isEdge()){var d=new Blob([c],{type:"text/json"});navigator.msSaveBlob(d,a);this.savePrompt()}else{var h=k.create("a",{href:this._getDownloadUrl(c),target:"_blank",download:a},document.body);if(e("safari")){var b=document.createEvent("MouseEvents");b.initEvent("click",!0,!0);h.dispatchEvent(b)}else h.click();
this.savePrompt();k.destroy(h)}g.resolve()}catch(n){g.reject(n)}return g},_isIE11:function(){return 11===b.has("ie")},_isEdge:function(){return b.has("edge")},savePrompt:function(){this.emit("complete",{})}})});
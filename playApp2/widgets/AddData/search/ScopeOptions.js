// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"url:widgets/AddData/search/templates/ScopeOptions.html":'\x3cdiv class\x3d"search-scope-options"\x3e\r\n  \x3ca href\x3d"#" class\x3d"scope-placeholder"\r\n    data-dojo-attach-point\x3d"scopePlaceholder"\r\n    data-dojo-attach-event\x3d"onClick: scopePlaceholderClicked"\x3e\r\n    \x3cspan data-dojo-attach-point\x3d"scopePlaceholderText"\x3e\x3c/span\x3e\r\n    \x3cspan class\x3d"dropdown-arrow"\x3e\x3c/span\x3e\r\n  \x3c/a\x3e\r\n  \x3cdiv class\x3d"btn-group" data-dojo-attach-point\x3d"btnGroup"\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn btn-sm btn-default" name\x3d"${id}_scope"\r\n      data-dojo-attach-point\x3d"MyContentToggle"\r\n      data-dojo-attach-event\x3d"onClick: optionClicked"\r\n      data-option-name\x3d"MyContent"\x3e\r\n      ${i18n.search.scopeOptions.myContent}\r\n    \x3c/button\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn btn-sm btn-default" name\x3d"${id}_scope"\r\n      data-dojo-attach-point\x3d"MyOrganizationToggle"\r\n      data-dojo-attach-event\x3d"onClick: optionClicked"\r\n      data-option-name\x3d"MyOrganization"\x3e\r\n      ${i18n.search.scopeOptions.myOrganization}\r\n    \x3c/button\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn btn-sm btn-default" name\x3d"${id}_scope"\r\n      data-dojo-attach-point\x3d"CuratedToggle"\r\n      data-dojo-attach-event\x3d"onClick: optionClicked"\r\n      data-option-name\x3d"Curated"\x3e\r\n      ${i18n.search.scopeOptions.curated}\r\n    \x3c/button\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn btn-sm btn-default" name\x3d"${id}_scope"\r\n      data-dojo-attach-point\x3d"ArcGISOnlineToggle"\r\n      data-dojo-attach-event\x3d"onClick: optionClicked"\r\n      data-option-name\x3d"ArcGISOnline"\x3e\r\n      ${i18n.search.scopeOptions.ArcGISOnline}\r\n    \x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n'}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-class ./SearchComponent dojo/text!./templates/ScopeOptions.html dojo/i18n!../nls/strings ./util".split(" "),function(q,m,n,d,r,t,p,f){return q([r],{i18n:p,templateString:t,curatedFilter:null,postCreate:function(){this.inherited(arguments)},startup:function(){this._started||(this.inherited(arguments),this.initOptions())},hideDropdown:function(){d.remove(this.scopePlaceholder,"opened");d.remove(this.btnGroup,"show")},initOptions:function(){var a=
this.searchPane.searchContext,g="string"===typeof a.username&&0<a.username.length,c=this.getConfig().scopeOptions;this.curatedFilter=c.Curated.filter;var b=null,a=function(a,d){var e=c[a];e&&e.allow?("string"===typeof e.label&&0<m.trim(e.label).length?f.setNodeText(d,m.trim(e.label)):g||"MyOrganization"!==a||f.setNodeText(d,p.search.scopeOptions.anonymousContent),c.defaultScope===a&&(b=d)):d.style.display="none"};a("MyContent",this.MyContentToggle);a("MyOrganization",this.MyOrganizationToggle);a("Curated",
this.CuratedToggle);a("ArcGISOnline",this.ArcGISOnlineToggle);b||(c.MyOrganization.allow?b=this.MyOrganizationToggle:c.ArcGISOnline.allow?b=this.ArcGISOnlineToggle:c.Curated.allow?b=this.CuratedToggle:c.MyContent.allow&&(b=this.MyContentToggle));b&&(d.add(b,"active"),this.scopePlaceholderText.innerHTML=b.innerHTML)},optionClicked:function(a){this.toggleClassName(a);this.hideDropdown();this.search()},scopePlaceholderClicked:function(a){a.preventDefault();d.contains(this.scopePlaceholder,"opened")?
this.hideDropdown():this.showDropdown()},showDropdown:function(){d.add(this.scopePlaceholder,"opened");d.add(this.btnGroup,"show")},toggleClassName:function(a){n.forEach(this.btnGroup.children,function(a){d.remove(a,"active")});d.add(a.target,"active");this.scopePlaceholderText.innerHTML=a.target.innerHTML},appendQueryParams:function(a,g){var c=null;n.some(this.btnGroup.children,function(a){if(d.contains(a,"active"))return c=a.getAttribute("data-option-name"),!0});"undefined"===typeof c&&(c=null);
var b=null,h=this.curatedFilter,k=this.searchPane.searchContext,e=k.username,l=k.orgId;"MyContent"===c?"string"===typeof e&&0<e.length&&(b="(owner:"+f.escapeForLucene(e)+")"):"MyOrganization"===c?"string"===typeof l&&0<l.length&&(b="(orgid:"+f.escapeForLucene(l)+")"):"Curated"===c?"string"===typeof h&&0<h.length&&(b=h):"ArcGISOnline"===c&&k.allowArcGISOnline&&(g.scopeIsArcGISOnline=!0);null!==b&&0<b.length&&(b="("+b+")",a.q=null!==a.q&&0<a.q.length?a.q+(" AND "+b):b)}})});
// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
define("dojo/_base/lang dojo/_base/array esri/geometry/Point esri/geometry/Polygon esri/geometry/Polyline esri/graphic esri/symbols/SimpleMarkerSymbol esri/symbols/SimpleLineSymbol esri/symbols/SimpleFillSymbol esri/Color".split(" "),function(n,p,t,u,v,m,q,k,r,l){var h={getHighLightSymbol:function(b,a){switch(b.geometry.type){case "point":return h._getPointSymbol(b,a);case "polyline":return h._getPolyLineSymbol(b,a);case "polygon":return h._getPolygonSymbol(b,a)}},_getSizeInfo:function(b){var a=null;
b.renderer.visualVariables&&p.forEach(b.renderer.visualVariables,n.hitch(this,function(b){"sizeInfo"===b.type&&(a=b)}));return a},_getPointSymbol:function(b,a){var c,e,d,g,f;e=!1;c=new q(q.STYLE_SQUARE,null,new k(k.STYLE_SOLID,new l([0,255,255,1]),3));c.setColor(null);c.size=30;if(a&&a.renderer)if(a.renderer.symbol)e=!0,c=h._updatePointSymbolProperties(c,a.renderer.symbol);else if(a.renderer.infos&&0<a.renderer.infos.length){for(f=0;f<a.renderer.infos.length;f++)a.typeIdField?d=b.attributes[a.typeIdField]:
a.renderer.attributeField&&(d=b.attributes[a.renderer.attributeField]),g=a.renderer.infos[f].value,void 0!==d&&null!==d&&""!==d&&void 0!==g&&null!==g&&""!==g&&d.toString()===g.toString()&&(e=!0,c=h._updatePointSymbolProperties(c,a.renderer.infos[f].symbol));!e&&a.renderer.defaultSymbol&&(e=!0,c=h._updatePointSymbolProperties(c,a.renderer.defaultSymbol))}a&&a.graphics&&0<a.graphics.length&&a._getSymbol(b)&&((d=b.getShape())&&d.shape?d.shape.hasOwnProperty("r")?(e=!0,c.size=2*d.shape.r+10):d.shape.hasOwnProperty("width")&&
(e=!0,a.renderer&&a.renderer.infos&&0<a.renderer.infos.length&&(c=h._updatePointSymbolProperties(c,a.renderer.infos[0].symbol)),c.size=d.shape.width+10):a.renderer.visualVariables&&(e=a._getRenderer(b),d=h._getSizeInfo(a))&&(a=e.getSize(b,{sizeInfo:d,shape:a._getSymbol(b),resolution:a&&a.getResolutionInMeters&&a.getResolutionInMeters()}),null!==a&&(c.size=a+10)));a=new t(b.geometry.x,b.geometry.y,b.geometry.spatialReference);return new m(a,c,b.attributes)},_updatePointSymbolProperties:function(b,
a){var c,e;a.hasOwnProperty("height")&&a.hasOwnProperty("width")&&(c=a.height,e=a.width,c=(c>e?c:e)+10,b.size=c);a.hasOwnProperty("size")&&(!c||c<a.size)&&(b.size=a.size+10);a.hasOwnProperty("xoffset")&&(b.xoffset=a.xoffset);a.hasOwnProperty("yoffset")&&(b.yoffset=a.yoffset);return b},_getPolyLineSymbol:function(b,a){var c,e,d,g,f;e=5;if(a&&a.renderer)if(a.renderer.symbol&&a.renderer.symbol.hasOwnProperty("width"))e=a.renderer.symbol.width;else if(a.renderer.infos&&0<a.renderer.infos.length)for(f=
0;f<a.renderer.infos.length;f++)a.typeIdField?d=b.attributes[a.typeIdField]:a.renderer.attributeField&&(d=b.attributes[a.renderer.attributeField]),g=a.renderer.infos[f].value,void 0!==d&&null!==d&&""!==d&&void 0!==g&&null!==g&&""!==g&&d.toString()===g.toString()&&a.renderer.infos[f].symbol.hasOwnProperty("width")&&(e=a.renderer.infos[f].symbol.width);else a.renderer.defaultSymbol&&a.renderer.defaultSymbol.hasOwnProperty("width")&&(e=a.renderer.defaultSymbol.width);a=new k(k.STYLE_SOLID,new l([0,255,
255,1]),e);c=new v(b.geometry.spatialReference);b.geometry.paths&&0<b.geometry.paths.length&&p.forEach(b.geometry.paths,function(a){c.addPath(a)});return new m(c,a,b.attributes)},_getPolygonSymbol:function(b){var a,c;a=new r(r.STYLE_SOLID,new k(k.STYLE_SOLID,new l([0,255,255,1]),4),new l([0,0,0,0]));c=new u(b.geometry.spatialReference);b.geometry.rings&&(c.rings=n.clone(b.geometry.rings));return new m(c,a,b.attributes)}};return h});
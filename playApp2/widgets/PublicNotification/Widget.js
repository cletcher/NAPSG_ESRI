// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
/*

 ====================================================================
 jsPDF - PDF Document creation from JavaScript
 Version 1.3.4 Built on 2017-04-10T14:14:44.483Z
                           CommitID cf4827d221

 Copyright (c) 2010-2016 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
               2010 Aaron Spike, https://github.com/acspike
               2012 Willow Systems Corporation, willow-systems.com
               2012 Pablo Hess, https://github.com/pablohess
               2012 Florian Jenett, https://github.com/fjenett
               2013 Warren Weckesser, https://github.com/warrenweckesser
               2013 Youssef Beddad, https://github.com/lifof
               2013 Lee Driscoll, https://github.com/lsdriscoll
               2013 Stefan Slonevskiy, https://github.com/stefslon
               2013 Jeremy Morel, https://github.com/jmorel
               2013 Christoph Hartmann, https://github.com/chris-rock
               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
               2014 James Makes, https://github.com/dollaruw
               2014 Diego Casorran, https://github.com/diegocr
               2014 Steven Spungin, https://github.com/Flamenco
               2014 Kenneth Glassey, https://github.com/Gavvers

 Licensed under the MIT License

 Contributor(s):
    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
    kim3er, mfo, alnorth, Flamenco

 ====================================================================
 jsPDF AcroForm Plugin
 Copyright (c) 2016 Alexander Weidt, https://github.com/BiggA94

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF addHTML PlugIn
 Copyright (c) 2014 Diego Casorran

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF addImage plugin
 Copyright (c) 2012 Jason Siefken, https://github.com/siefkenj/
               2013 Chris Dowling, https://github.com/gingerchris
               2013 Trinh Ho, https://github.com/ineedfat
               2013 Edwin Alejandro Perez, https://github.com/eaparango
               2013 Norah Smith, https://github.com/burnburnrocket
               2014 Diego Casorran, https://github.com/diegocr
               2014 James Robb, https://github.com/jamesbrobb

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Cell plugin
 Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
               2013 Eduardo Menezes de Morais, eduardo.morais@usp.br
               2013 Lee Driscoll, https://github.com/lsdriscoll
               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
               2014 James Hall, james@parall.ax
               2014 Diego Casorran, https://github.com/diegocr

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF fromHTML plugin. BETA stage. API subject to change. Needs browser
 Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
               2014 Diego Casorran, https://github.com/diegocr
               2014 Daniel Husar, https://github.com/danielhusar
               2014 Wolfgang Gassler, https://github.com/woolfg
               2014 Steven Spungin, https://github.com/flamenco

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF JavaScript plugin
 Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

  ====================================================================
 jsPDF PNG PlugIn
 Copyright (c) 2014 James Robb, https://github.com/jamesbrobb

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF split_text_to_size plugin - MIT license.
 Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
               2014 Diego Casorran, https://github.com/diegocr

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF total_pages plugin
 Copyright (c) 2013 Eduardo Menezes de Morais, eduardo.morais@usp.br

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 adler32cs
 Copyright (c) 2012 chick307 <chick307@gmail.com>

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
         Deflate.js - https://github.com/gildas-lormeau/zip.js
         Copyright (c) 2013 Gildas Lormeau. All rights reserved.

         Redistribution and use in source and binary forms, with or without
         modification, are permitted provided that the following conditions are met:

         1. Redistributions of source code must retain the above copyright notice,
         this list of conditions and the following disclaimer.

         2. Redistributions in binary form must reproduce the above copyright
         notice, this list of conditions and the following disclaimer in
         the documentation and/or other materials provided with the distribution.

         3. The names of the authors may not be used to endorse or promote products
         derived from this software without specific prior written permission.

         THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,
         INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
         FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,
         INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,
         INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
         LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
         OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
         LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
         NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
         EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

 ====================================================================
 html2canvas 0.5.0-beta3 <http://html2canvas.hertzen.com>
 Copyright (c) 2016 Niklas von Hertzen

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 base64-arraybuffer
 https://github.com/niklasvh/base64-arraybuffer

 Copyright (c) 2012 Niklas von Hertzen

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 PNG.js
 Copyright (c) 2011 Devon Govett

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 Extracted from pdf.js
 https://github.com/andreasgal/pdf.js

 Copyright (c) 2011 Mozilla Foundation

 Contributors: Andreas Gal <gal@mozilla.com>
               Chris G Jones <cjones@mozilla.com>
               Shaon Barman <shaon.barman@gmail.com>
               Vivien Nicolas <21@vingtetun.org>
               Justin D'Arcangelo <justindarc@gmail.com>
               Yury Delendik

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 String.prototype.trimLeft, String.prototype.trimRight are
 adapted from Chapter 5 Strings and Regular Expressions by
 Steven Levithan in the book High Performance JavaScript by
 Nicholas C. Zakas Copyright 2010 Yahoo!, Inc.,
 978-0-596-80279-0

 License: "In general, you may use the code in this book in
 your programs and documentation. You do not need to contact
 us for permission unless youâ€™re reproducing a significant
 portion of the code. For example, writing a program that uses
 several chunks of code from this book does not require
 permission."
 https://www.safaribooksonline.com/library/view/high-performance-javascript/9781449382308/pr02s12.html

 ====================================================================
 jsPDF Annotations PlugIn
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Autoprint Plugin

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Canvas PlugIn
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Context2D PlugIn Copyright (c) 2014 Steven Spungin (TwelveTone LLC) steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Outline PlugIn
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF standard_fonts_metrics plugin
 Copyright (c) 2012 Willow Systems Corporation,
 willow-systems.com

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF SVG plugin Copyright (c) 2012 Willow Systems
 Corporation, willow-systems.com

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF XMP metadata plugin
 Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 CssColors
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license
*/
require({cache:{"dijit/ProgressBar":function(){define("require dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/number ./_Widget ./_TemplatedMixin dojo/text!./templates/ProgressBar.html".split(" "),function(I,A,v,x,u,q,l,F){return A("dijit.ProgressBar",[q,l],{progress:"0",value:"",maximum:100,places:0,indeterminate:!1,label:"",name:"",templateString:F,_indeterminateHighContrastImagePath:I.toUrl("./themes/a11y/indeterminate_progress.gif"),postMixInProperties:function(){this.inherited(arguments);
this.params&&"value"in this.params||(this.value=this.indeterminate?Infinity:this.progress)},buildRendering:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath.toString());this.update()},_setDirAttr:function(l){var q="rtl"==l.toLowerCase();v.toggle(this.domNode,"dijitProgressBarRtl",q);v.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&q);this.inherited(arguments)},update:function(l){x.mixin(this,
l||{});l=this.internalProgress;var q=this.domNode,y=1;this.indeterminate?q.removeAttribute("aria-valuenow"):(-1!=String(this.progress).indexOf("%")?(y=Math.min(parseFloat(this.progress)/100,1),this.progress=y*this.maximum):(this.progress=Math.min(this.progress,this.maximum),y=this.maximum?this.progress/this.maximum:0),q.setAttribute("aria-valuenow",this.progress));q.setAttribute("aria-labelledby",this.labelNode.id);q.setAttribute("aria-valuemin",0);q.setAttribute("aria-valuemax",this.maximum);this.labelNode.innerHTML=
this.report(y);v.toggle(this.domNode,"dijitProgressBarIndeterminate",this.indeterminate);v.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&!this.isLeftToRight());l.style.width=100*y+"%";this.onChange()},_setValueAttr:function(l){this._set("value",l);Infinity==l?this.update({indeterminate:!0}):this.update({indeterminate:!1,progress:l})},_setLabelAttr:function(l){this._set("label",l);this.update()},_setIndeterminateAttr:function(l){this._set("indeterminate",l);this.update()},
report:function(l){return this.label?this.label:this.indeterminate?"\x26#160;":u.format(l,{type:"percent",places:this.places,locale:this.lang})},onChange:function(){}})})},"esri/geometry/geometryEngineAsync":function(){define("require exports esri/kernel module esri/geometry/Geometry esri/geometry/Polygon esri/geometry/Polyline esri/geometry/Point esri/geometry/Extent esri/geometry/Multipoint esri/workers/WorkerClient dojo/Deferred".split(" "),function(I,A,v,x,u,q,l,F,z,J,y,f){function k(c){if(void 0===
F.fromJson){if(void 0!==c.x&&void 0!==c.y)return new F(c);if(void 0!==c.paths)return new l(c);if(void 0!==c.rings)return new q(c);if(void 0!==c.points)return new J(c);if(void 0!==c.xmin&&void 0!==c.ymin&&void 0!==c.xmax&&void 0!==c.ymax)return new z(c)}else{if(void 0!==c.x&&void 0!==c.y)return F.fromJson(c);if(void 0!==c.paths)return l.fromJson(c);if(void 0!==c.rings)return q.fromJson(c);if(void 0!==c.points)return J.fromJson(c);if(void 0!==c.xmin&&void 0!==c.ymin&&void 0!==c.xmax&&void 0!==c.ymax)return z.fromJson(c)}}
function m(c,a){var e;if(null==c||void 0===c||"number"===typeof c)return c;var h=c.toString();if(""===h)return null;if(2==a){if(e=C[h],void 0!==e)return e}else if(0==a){e=n[h];if(void 0!==e)return e;e=B[c];if(void 0!==e)return e}else if(3==a&&(e=n[h],void 0!==e))return e;if(1==a&&(e=B[c],void 0!==e))return e;if(!0===/^\d+$/.test(h))return parseInt(h);throw Error("Unrecognised Unit Type");}function d(c){if(void 0!==c&&null!==c)switch(c){case "loxodrome":return 1;case "great-elliptic":return 2;case "normal-section":return 3;
case "shape-preserving":return 4}return 0}function a(c){if(null===c||void 0===c)return null;if(p)switch(c.type){case "point":return{x:c.x,y:c.y,z:c.z,m:c.m};case "multipoint":return{points:c.points,hasZ:c.hasZ,hasM:c.hasM};case "polyline":return{paths:c.paths,hasZ:c.hasZ,hasM:c.hasM};case "polygon":return{rings:c.rings,hasZ:c.hasZ,hasM:c.hasM};case "extent":return{xmin:c.xmin,ymin:c.ymin,xmax:c.xmax,ymax:c.ymax,zmin:c.zmin,zmax:c.zmax,mmin:c.mmin,mmax:c.mmax}}else switch(c.type){case "point":return{x:c.x,
y:c.y};case "multipoint":return{points:c.points};case "polyline":return{paths:c.paths};case "polygon":return{rings:c.rings};case "extent":return{xmin:c.xmin,ymin:c.ymin,xmax:c.xmax,ymax:c.ymax}}return null}function w(c,a){if(null===c)return null;c=k(c);p?c.set("spatialReference",a):c.setSpatialReference(a);return c}function e(c){return null==c||void 0===c?null:-1!=c.wkid&&null!==c.wkid&&void 0!==c.wkid?{wkid:c.wkid}:""!==c.wkt&&void 0!==c.wkt&&null!==c.wkt?{wkt:c.wkt}:null}function h(c,h,d){var n=
new f,p=h.spatialReference;D.a({action:c,geoma:a(h),geomb:a(d),spatialReference:e(h.spatialReference)}).then(function(c){0===c.status?n.reject(Error(c.error.message)):n.resolve(w(c.result,p))},function(c){n.reject(c)});return n.promise}function t(c,h,d){var n=new f;D.a({action:c,geoma:a(h),geomb:a(d),spatialReference:e(h.spatialReference)}).then(function(c){0===c.status?n.reject(Error(c.error.message)):n.resolve(c.result)},function(c){n.reject(c)});return n.promise}var p=0==v.version.indexOf("4."),
c;(function(c){c[c.Linear=0]="Linear";c[c.Angular=1]="Angular";c[c.Area=2]="Area";c[c.LinearOrAngular=3]="LinearOrAngular"})(c||(c={}));var n={feet:9002,kilometers:9036,meters:9001,miles:9035,"nautical-miles":9030,yards:9096},C={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109413,"square-yards":109442},B={degrees:9102,radians:9101},N=function(){function c(){this.c=!0;this.i=null}c.prototype.A=function(c){var a=this;
this.i=new y;this.i.setWorker(this.l(),function(){a.c=!1;c()})};c.prototype.l=function(){return I.B?I.B("./geometryenginewebworker"):x.id.replace(/\/[^\/]*$/ig,"/")+"./geometryenginewebworker"};return c}(),D=function(){function c(){}c.a=function(a){var e=new f;c.h.push({task:a,d:e});c.f();return e.promise};c.f=function(){if(0<c.h.length){for(var a=null,e=0;e<c.b.length;e++)if(!1===c.b[e].c){a=c.b[e];break}null===a&&c.b.length<c.g&&(e=new N,c.b.push(e),e.A(function(){c.f()}));if(null!==a){var h=this.h.shift();
a.c=!0;a.i.postMessage(h.task).then(function(e){a.c=!1;try{h.d.resolve(e)}catch(G){}c.f()},function(e){a.c=!1;try{h.d.reject(e)}catch(G){}c.f()})}}};c.b=[];c.h=[];c.g=4;return c}();return function(){function c(){}c._removeAllWorkers=function(){D.b=[]};c._setMaxWorkers=function(a){c._removeAllWorkers();D.g=a};c._getMaxWorkers=function(){return D.g};c._getNumWorkers=function(){return D.b.length};c.extendedSpatialReferenceInfo=function(c){var a=new f;D.a({action:"extendedspatialreferenceinfo",spatialReference:e(c)}).then(function(c){0===
c.status?a.reject(Error(c.error.message)):a.resolve(c.result)},function(c){a.reject(c)});return a.promise};c.equals=function(c,a){return null===c&&null!==a||null===a&&null!==c?!1:t("equals",c,a)};c.intersects=function(c,a){if(null===c||null===a)throw Error("Illegal Argument Exception");return t("intersects",c,a)};c.touches=function(c,a){if(null===c||null===a)throw Error("Illegal Argument Exception");return t("touches",c,a)};c.within=function(c,a){if(null===c||null===a)throw Error("Illegal Argument Exception");
return t("within",c,a)};c.disjoint=function(c,a){if(null===c||null===a)throw Error("Illegal Argument Exception");return t("disjoint",c,a)};c.overlaps=function(c,a){if(null===c||null===a)throw Error("Illegal Argument Exception");return t("overlaps",c,a)};c.crosses=function(c,a){if(null===c||null===a)throw Error("Illegal Argument Exception");return t("crosses",c,a)};c.contains=function(c,a){if(null===c||null===a)throw Error("Illegal Argument Exception");return t("contains",c,a)};c.isSimple=function(c){return t("issimple",
c,null)};c.clip=function(c,a){return h("clip",c,a)};c.simplify=function(c){var h=new f,d=c.spatialReference;D.a({action:"simplify",geoma:a(c),spatialReference:e(c.spatialReference)}).then(function(c){0===c.status?h.reject(Error(c.error.message)):h.resolve(w(c.result,d))},function(c){h.reject(c)});return h.promise};c.rotate=function(c,h,d){var n=new f,t=c.spatialReference;if(void 0===d||null===d)switch(c.type){case "point":d=c;break;case "extent":d=p?c.get("center"):c.getCenter();break;default:d=p?
c.get("extent").get("center"):c.getExtent().getCenter()}D.a({action:"rotate",geoma:a(c),spatialReference:e(c.spatialReference),angle:h,rotpt:a(d)}).then(function(c){0===c.status?n.reject(Error(c.error.message)):n.resolve(w(c.result,t))},function(c){n.reject(c)});return n.promise};c.flipHorizontal=function(c,h){var d=new f,n=c.spatialReference;if(void 0===h||null===h)switch(c.type){case "point":h=c;break;case "extent":h=p?c.get("center"):c.getCenter();break;default:h=p?c.get("extent").get("center"):
c.getExtent().getCenter()}D.a({action:"fliph",geoma:a(c),spatialReference:e(c.spatialReference),flippt:a(h)}).then(function(c){0===c.status?d.reject(Error(c.error.message)):d.resolve(w(c.result,n))},function(c){d.reject(c)});return d.promise};c.flipVertical=function(c,h){var d=new f,n=c.spatialReference;if(void 0===h||null===h)switch(c.type){case "point":h=c;break;case "extent":h=p?c.get("center"):c.getCenter();break;default:h=p?c.get("extent").get("center"):c.getExtent().getCenter()}D.a({action:"flipv",
geoma:a(c),spatialReference:e(c.spatialReference),flippt:a(h)}).then(function(c){0===c.status?d.reject(Error(c.error.message)):d.resolve(w(c.result,n))},function(c){d.reject(c)});return d.promise};c.distance=function(c,h,d){var n=new f;D.a({action:"distance",geoma:a(c),geomb:a(h),spatialReference:e(c.spatialReference),distanceunits:m(d,3)}).then(function(c){0===c.status?n.reject(Error(c.error.message)):n.resolve(c.result)},function(c){n.reject(c)});return n.promise};c.relate=function(c,h,d){var n=
new f;D.a({action:"relate",geoma:a(c),geomb:a(h),relation:d,spatialReference:e(c.spatialReference)}).then(function(c){0===c.status?n.reject(Error(c.error.message)):n.resolve(c.result)},function(c){n.reject(c)});return n.promise};c.nearestCoordinate=function(c,h,d){var n=new f,p=c.spatialReference;D.a({action:"nearestcoord",geoma:a(c),geomb:a(h),spatialReference:e(c.spatialReference),testinterior:void 0===d?!0:d}).then(function(c){0===c.status?n.reject(Error(c.error.message)):(c.result.coordinate=
w(c.result.coordinate,p),n.resolve(c.result))},function(c){n.reject(c)});return n.promise};c.nearestVertex=function(c,h){var d=new f,n=c.spatialReference;D.a({action:"nearestvertex",geoma:a(c),geomb:a(h),spatialReference:e(c.spatialReference)}).then(function(c){0===c.status?d.reject(Error(c.error.message)):(c.result.coordinate=w(c.result.coordinate,n),d.resolve(c.result))},function(c){d.reject(c)});return d.promise};c.nearestVertices=function(c,h,d,n){var p=new f,t=c.spatialReference;D.a({action:"nearestvertices",
geoma:a(c),geomb:a(h),spatialReference:e(c.spatialReference),searchradius:d,maxreturn:n}).then(function(c){if(0===c.status)p.reject(Error(c.error.message));else{for(var a=0;a<c.result.length;a++)c.result[a].coordinate=w(c.result[a].coordinate,t);p.resolve(c.result)}},function(c){p.reject(c)});return p.promise};c.cut=function(c,h){var d=new f,n=c.spatialReference;D.a({action:"cut",geoma:a(c),geomb:a(h),spatialReference:e(c.spatialReference)}).then(function(c){if(0===c.status)d.reject(Error(c.error.message));
else{for(var a=0;a<c.result.length;a++)c.result[a]=w(c.result[a],n);d.resolve(c.result)}},function(c){d.reject(c)});return d.promise};c.generalize=function(c,h,d,n){var p=new f,t=c.spatialReference;D.a({action:"generalize",geoma:a(c),maxdeviation:h,removedegenerateparts:d,maxdeviationunit:m(n,3),spatialReference:e(c.spatialReference)}).then(function(c){0===c.status?p.reject(Error(c.error.message)):p.resolve(w(c.result,t))},function(c){p.reject(c)});return p.promise};c.densify=function(c,h,d){var n=
new f,p=c.spatialReference;D.a({action:"densify",geoma:a(c),maxsegmentlength:h,maxsegmentlengthunit:m(d,3),spatialReference:e(c.spatialReference)}).then(function(c){0===c.status?n.reject(Error(c.error.message)):n.resolve(w(c.result,p))},function(c){n.reject(c)});return n.promise};c.geodesicDensify=function(c,h,d,n){void 0===n&&(n=0);var p=new f,t=c.spatialReference;D.a({action:"geodensify",geoma:a(c),maxsegmentlength:h,maxsegmentlengthunit:m(d,3),spatialReference:e(c.spatialReference),curveType:n}).then(function(c){0===
c.status?p.reject(Error(c.error.message)):p.resolve(w(c.result,t))},function(c){p.reject(c)});return p.promise};c.intersect=function(a,e){return a instanceof u?h("intersect",a,e):c.u(a,e)};c.u=function(c,h){for(var d=new f,n=[],p=0;p<c.length;p++)n.push(a(c[p]));var t=h.spatialReference;D.a({action:"intersectmany",geom:a(h),geometries:n,spatialReference:e(h.spatialReference)}).then(function(c){if(0===c.status)d.reject(Error(c.error.message));else{for(var a=0;a<c.result.length;a++)c.result[a]=w(c.result[a],
t);d.resolve(c.result)}},function(c){d.reject(c)});return d.promise};c.difference=function(a,e){return a instanceof u?h("difference",a,e):c.s(a,e)};c.s=function(c,h){for(var d=new f,n=[],p=0;p<c.length;p++)n.push(a(c[p]));var t=h.spatialReference;D.a({action:"differencemany",geom:a(h),geometries:n,spatialReference:e(h.spatialReference)}).then(function(c){if(0===c.status)d.reject(Error(c.error.message));else{for(var a=0;a<c.result.length;a++)c.result[a]=w(c.result[a],t);d.resolve(c.result)}},function(c){d.reject(c)});
return d.promise};c.symmetricDifference=function(a,e){return a instanceof u?h("symdifference",a,e):c.w(a,e)};c.w=function(c,h){for(var d=new f,n=[],p=0;p<c.length;p++)n.push(a(c[p]));var t=h.spatialReference;D.a({action:"symdifferencemany",geom:a(h),geometries:n,spatialReference:e(h.spatialReference)}).then(function(c){if(0===c.status)d.reject(Error(c.error.message));else{for(var a=0;a<c.result.length;a++)c.result[a]=w(c.result[a],t);d.resolve(c.result)}},function(c){d.reject(c)});return d.promise};
c.union=function(c,h){void 0===h&&(h=null);var d=new f,n=[];if(null===c)return d.resolve(null),d.promise;c instanceof u&&(c=[c],null!==h&&c.push(h));if(0===c.length)return d.resolve(null),d.promise;for(h=0;h<c.length;h++)n.push(a(c[h]));var p=c[0].spatialReference;D.a({action:"unionmany",geometries:n,spatialReference:e(p)}).then(function(c){0===c.status?d.reject(Error(c.error.message)):d.resolve(w(c.result,p))},function(c){d.reject(c)});return d.promise};c.buffer=function(h,d,n,p){void 0===p&&(p=
!1);if(h instanceof u){var t=new f,k=h.spatialReference;D.a({action:"buffer",geoma:a(h),spatialReference:e(h.spatialReference),distance:d,unit:m(n,3),geodesic:!1,geodesicmaxdeviation:NaN,geodesiccurvetype:0}).then(function(c){0===c.status?t.reject(Error(c.error.message)):t.resolve(w(c.result,k))},function(c){t.reject(c)});return t.promise}if("[object Array]"!==Object.prototype.toString.call(d)){for(var B=[],C=0;C<h.length;C++)B.push(d);d=B}if(d.length!=h.length){if(0==d.length)throw Error("Illegal Argument Exception");
for(var B=[],N=0,C=0;C<h.length;C++)void 0===d[C]?B.push(N):(B.push(d[C]),N=d[C]);d=B}return c.j(h,d,n,!1,p,"geodesic",NaN)};c.geodesicBuffer=function(h,n,p,t,k,B){if(h instanceof u){var C=new f;void 0===k&&(k=NaN);var N=h.spatialReference;D.a({action:"buffer",geoma:a(h),spatialReference:e(h.spatialReference),distance:n,unit:m(p,0),geodesic:!0,geodesicmaxdeviation:k,geodesiccurvetype:d(t)}).then(function(c){0===c.status?C.reject(Error(c.error.message)):C.resolve(w(c.result,N))},function(c){C.reject(c)});
return C.promise}if("[object Array]"!==Object.prototype.toString.call(n)){for(var l=[],U=0;U<h.length;U++)l.push(n);n=l}if(n.length!=h.length){if(0==n.length)throw Error("Illegal Argument Exception");for(var l=[],X=0,U=0;U<h.length;U++)void 0===n[U]?l.push(X):(l.push(n[U]),X=n[U]);n=l}return c.j(h,n,p,!0,t,k,B)};c.j=function(c,h,n,p,t,k,B){var C=new f,N=[];void 0===B&&(B=NaN);if(null===c||0===c.length)return C.resolve(null),C.promise;for(var l=0;l<c.length;l++)N.push(a(c[l]));n=p?m(n,0):m(n,3);var X=
c[0].spatialReference;D.a({action:"buffermany",geometries:N,spatialReference:e(X),distances:h,tounionresults:t,unit:n,geodesic:p,geodesicmaxdeviation:B,geodesiccurvetype:d(k)}).then(function(c){if(0===c.status)C.reject(Error(c.error.message));else{for(var a=0;a<c.result.length;a++)c.result[a]=w(c.result[a],X);C.resolve(c.result)}},function(c){C.reject(c)});return C.promise};c.convexHull=function(h,d){void 0===d&&(d=!1);if(h instanceof u){var n=new f,p=h.spatialReference;D.a({action:"convexhull",geoma:a(h),
spatialReference:e(h.spatialReference)}).then(function(c){0===c.status?n.reject(Error(c.error.message)):n.resolve(w(c.result,p))},function(c){n.reject(c)});return n.promise}return c.o(h,d)};c.o=function(c,e){for(var h=new f,d=[],n=0;n<c.length;n++)d.push(a(c[n]));var p=0<c.length?c[0].spatialReference:null;D.a({action:"convexhullmany",geometries:d,merge:e}).then(function(c){if(0===c.status)h.reject(Error(c.error.message));else{for(var a=0;a<c.result.length;a++)c.result[a]=w(c.result[a],p);h.resolve(c.result)}},
function(c){h.reject(c)});return h.promise};c.offset=function(h,d,n,p,t,k){var B=0;if(null!=p&&void 0!=p)switch(p){case "round":B=0;break;case "bevel":B=1;break;case "miter":B=2;break;case "square":B=3}if(h instanceof u){var C=new f,N=h.spatialReference;D.a({action:"offset",geoma:a(h),spatialReference:e(h.spatialReference),distance:d,joins:B,bevelratio:t,flattenerror:k,offsetunit:m(n,3)}).then(function(c){0===c.status?C.reject(Error(c.error.message)):C.resolve(w(c.result,N))},function(c){C.reject(c)});
return C.promise}return c.v(h,d,n,B,t,k)};c.v=function(c,h,d,n,p,t){for(var k=new f,B=[],C=0;C<c.length;C++)B.push(a(c[C]));var N=0<c.length?c[0].spatialReference:null;D.a({action:"offsetmany",geometries:B,spatialReference:e(N),distance:h,joins:n,bevelratio:p,offsetunit:m(d,3),flattenerror:t}).then(function(c){if(0===c.status)k.reject(Error(c.error.message));else{for(var a=0;a<c.result.length;a++)c.result[a]=w(c.result[a],N);k.resolve(c.result)}},function(c){k.reject(c)});return k.promise};c.planarArea=
function(c,h){var d=new f;D.a({action:"area",geoma:a(c),unit:m(h,2),spatialReference:e(c.spatialReference)}).then(function(c){0===c.status?d.reject(Error(c.error.message)):d.resolve(c.result)},function(c){d.reject(c)});return d.promise};c.planarLength=function(c,h){var d=new f;D.a({action:"length",geoma:a(c),unit:m(h,3),spatialReference:e(c.spatialReference)}).then(function(c){0===c.status?d.reject(Error(c.error.message)):d.resolve(c.result)},function(c){d.reject(c)});return d.promise};c.geodesicArea=
function(c,h,n){var p=new f;D.a({action:"geodesicarea",geoma:a(c),unit:m(h,2),geodesiccurvetype:d(n),spatialReference:e(c.spatialReference)}).then(function(c){0===c.status?p.reject(Error(c.error.message)):p.resolve(c.result)},function(c){p.reject(c)});return p.promise};c.geodesicLength=function(c,h,n){var p=new f;D.a({action:"geodesiclength",geoma:a(c),unit:m(h,0),geodesiccurvetype:d(n),spatialReference:e(c.spatialReference)}).then(function(c){0===c.status?p.reject(Error(c.error.message)):p.resolve(c.result)},
function(c){p.reject(c)});return p.promise};return c}()})},"esri/workers/WorkerClient":function(){define("dojo/Evented dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/request ../sniff ../kernel ../urlUtils require".split(" "),function(I,A,v,x,u,q,l,F,z){var J=window.Blob||window.webkitBlob||window.mozBlob,y=window.URL||window.webkitURL||window.mozURL;I=A([I],{declaredClass:"esri.workers.WorkerClient",worker:null,returnDeferreds:!1,_queue:null,constructor:function(f,k,m){this._isIE=q("ie");this.returnDeferreds=
!!m;this._queue={};this._acceptMessage=x.hitch(this,this._acceptMessage);this._errorMessage=x.hitch(this,this._errorMessage);f&&this.setWorker(f,x.hitch(this,function(d){this.worker=d;k(d)}))},setWorker:function(f,k){if(f instanceof Array){var m=f;f=m.shift()}var d=this._getUrl(f),d=F.normalize(d);f=!F.hasSameOrigin(d,location.href);var a;if(!1===d)return console.log("Can not resolve worker path"),!1;this.worker&&(a=this.worker,a.removeEventListener("message",this._acceptMessage,!1),a.removeEventListener("error",
this._errorMessage,!1),a.terminate(),a=null);if(f){f=this._getUrl("./mutableWorker",!0);try{this._getRemoteText(f,x.hitch(this,function(a){a=y.createObjectURL(new J([a],{type:"text/javascript"}));k(this._createWorker(a,d))}))}catch(w){try{f=F.getProxyUrl(f).path+"?"+encodeURI(f),this._useProxy=!0,k(this._createWorker(f,m))}catch(e){return console.log("Can not create worker"),!1}}}else setTimeout(x.hitch(this,function(){k(this._createWorker(d,m))}),0)},_createWorker:function(f,k){f=new Worker(f);f.addEventListener("message",
this._acceptMessage,!1);f.addEventListener("error",this._errorMessage,!1);this.worker=f;k&&this.importScripts(k);return f},postMessage:function(f,k){if(f instanceof Array||"object"!=typeof f)f={data:f};var m=Math.floor(64E9*Math.random()).toString(36);f.msgId=m;m=this._queue[m]=new v;this.worker?(k?this.worker.postMessage(f,k):this.worker.postMessage(f),this.emit("start-message",{target:this,message:f})):m.reject({message:"No worker was set."});return this.returnDeferreds?m:m.promise||m},terminate:function(){var f=
Object.keys(this._queue);this.worker&&this.worker.terminate();for(var k=f.length-1;0<=k;k--)this._queue[f[k]].cancel("terminated"),delete this._queue[f[k]]},addWorkerCallback:function(f,k){var m=this._getUrl(f,!0);!1===m?(k=new v,k.reject({message:"Could not load text from "+f})):(k=this.postMessage({action:"add-callback",url:m,cbName:k||"main"}),k.then(x.hitch(this,function(d){d.target=this;this.emit("callback-added",d)})));return k},importScripts:function(f){Array.isArray(f)||(f=[f]);f=f.map(function(f){f=
this._getUrl(f,!0);this._useProxy&&!F.hasSameOrigin(f,location.href)&&(f=F.getProxyUrl(f).path+"?"+encodeURI(f));return f},this);f=this.postMessage({action:"import-script",url:f});f.then(x.hitch(this,function(f){f.target=this;this.emit("scripts-imported",f)}));return f},_acceptMessage:function(f){var k=f.data,m=k.msgId;if(k.status&&"debug"==k.status)console[k.showAs||"debug"](k);else if(m&&m in this._queue){var d=this._queue[m];"progress"==k.status?d.progress(f.data):("error"==k.status?d.reject(f.data):
d.resolve(f.data),delete this._queue[m])}this.emit("message",{message:f.data,event:f,target:this})},_errorMessage:function(f){this.onerror||this.onError?this.onerror?this.onerror(f):this.onError(f):console.log("Worker Error: "+f.message+"\nIn "+f.filename+" on "+f.lineno)},_getUrl:function(f,k){if(!f)return console.error("can not resolve empty path"),!1;f.match(/\.js$/)||(f+=".js");f=z.toUrl(f);return k?F.getAbsoluteUrl(f):f},_getRemoteText:function(f,k){(f=this._getUrl(f))&&u.get(f,{sync:!1,handleAs:"text",
headers:{"X-Requested-With":"","Content-Type":"text/plain"}}).then(function(f){k(f)})},_startBlobWorker:function(){var f=this._xdSource;f||(f=this._getUrl("./mutableWorker"),f=new J(["if(!self._mutable){importScripts('"+f+"');}"],{type:"text/javascript"}),f=this._xdSource=y.createObjectURL(f));try{return new Worker(f)}catch(k){return console.log(k.message),!1}}});q("extend-esri")&&x.setObject("workers.WorkerClient",I,l);return I})},"esri/tasks/BufferParameters":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has ../kernel ../geometry/Polygon ../geometry/jsonUtils".split(" "),
function(I,A,v,x,u,q,l,F){I=I(null,{declaredClass:"esri.tasks.BufferParameters",geometries:null,outSpatialReference:null,bufferSpatialReference:null,distances:null,unit:null,unionResults:!1,geodesic:!1,toJson:function(){var q={unit:this.unit,unionResults:this.unionResults,geodesic:this.geodesic},u=this.distances,y=this.outSpatialReference,f=this.bufferSpatialReference,k=v.map(this.geometries,function(a){a="extent"===a.type?l.fromExtent(a):a;return a.toJson()},this),m=this.geometries;if(m&&0<m.length){var d=
"extent"===m[0].type?"esriGeometryPolygon":F.getJsonType(m[0]);q.geometries=x.toJson({geometryType:d,geometries:k});q.inSR=m[0].spatialReference.wkid?m[0].spatialReference.wkid:x.toJson(m[0].spatialReference.toJson())}u&&(q.distances=u.join(","));y&&(q.outSR=y.wkid?y.wkid:x.toJson(y.toJson()));f&&(q.bufferSR=f.wkid?f.wkid:x.toJson(f.toJson()));return q}});u("extend-esri")&&A.setObject("tasks.BufferParameters",I,q);return I})},"jimu/dijit/SearchDistance":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/SearchDistance.html dojo/Evented dojo/_base/lang jimu/utils jimu/dijit/CheckBox esri/tasks/GeometryService jimu/dijit/formSelect dijit/form/NumberTextBox".split(" "),
function(I,A,v,x,u,q,l,F,z,J){return I([A,v,x,q],{baseClass:"jimu-dijit-searchdistance",templateString:u,lastMeters:0,tip:"",distance:0,unit:"",postMixInProperties:function(){this.inherited(arguments);this.nls=l.clone(window.jimuNls.units);this.tip||(this.tip=window.jimuNls.searchDistance.applySearchDistance)},postCreate:function(){this.inherited(arguments);this.cbx=new z({label:this.tip,onChange:l.hitch(this,this._onCbxChanged)});this.cbx.placeAt(this.cbxDiv);this.reset();this.setDistance(this.distance);
this.setUnit(this.unit);this.lastMeters=this.getMeters()},enable:function(){this.cbx.check()},disable:function(){this.cbx.uncheck()},isEnabled:function(){return this.cbx.getValue()},reset:function(){this.numberTextBox.set("value",0);this.unitSelect.set("value","MILES")},getData:function(){return{status:this.getStatus(),isEnabled:this.isEnabled(),distance:this.getDistance(),unit:this.getUnit(),bufferUnit:this.getUnitToBuffer(),meters:this.getMeters()}},getStatus:function(){var l;this.isEnabled()?(l=
this.getDistance(),l=0<l?1:0===l?0:-1):l=0;return l},getMeters:function(){var l=0,f=this.getStatus();if(0<f){var f=this.getDistance(),k=this.getUnit();"MILES"===k?l=1609.344*f:"KILOMETERS"===k?l=1E3*f:"FEET"===k?l=.3048*f:"METERS"===k?l=f:"YARDS"===k?l=.9144*f:"NAUTICAL_MILES"===k&&(l=1852*f);l=parseFloat(l.toFixed(3))}else 0===f?l=0:0>f&&(l=-1);return l},setDistance:function(l){"number"===typeof l&&0<=l&&this.numberTextBox.set("value",l)},setUnit:function(l){l&&"string"===typeof l&&this.unitSelect.set("value",
l)},tryShowValidationError:function(){this.numberTextBox.validate()||F.showValidationErrorTipForFormDijit(this.numberTextBox)},getDistance:function(){return this.numberTextBox.validate()?this.numberTextBox.get("value"):(F.showValidationErrorTipForFormDijit(this.numberTextBox),-1)},getUnit:function(){return this.unitSelect.get("value")},getUnitToBuffer:function(){var l="";switch(this.unitSelect.get("value")){case "MILES":l=J.UNIT_STATUTE_MILE;break;case "KILOMETERS":l=J.UNIT_KILOMETER;break;case "FEET":l=
J.UNIT_FOOT;break;case "METERS":l=J.UNIT_METER;break;case "YARDS":l=J.UNIT_INTERNATIONAL_YARD;break;case "NAUTICAL_MILES":l=J.UNIT_NAUTICAL_MILE}return l},_onCbxChanged:function(){this.cbx.getValue()?(this.numberTextBox.set("disabled",!1),this.unitSelect.set("disabled",!1)):(this.numberTextBox.set("disabled",!0),this.unitSelect.set("disabled",!0));this._emitEvent()},_onNumberTextBoxChanged:function(){this._emitEvent()},_onUnitSelectChanged:function(){this._emitEvent()},_emitEvent:function(){var l=
this.getData();l.meters!==this.lastMeters&&(this.lastMeters=l.meters,this.emit("change",l))}})})},"jimu/dijit/FeatureSetChooserForMultipleLayers":function(){define("dojo/on dojo/sniff dojo/mouse dojo/query dojo/Evented dojo/_base/html dojo/_base/lang dojo/_base/array dojo/promise/all dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/FeatureSetChooserForMultipleLayers.html dijit/popup dijit/TooltipDialog jimu/utils jimu/dijit/DrawBox jimu/dijit/_FeatureSetChooserCore jimu/SelectionManager jimu/dijit/FeatureActionPopupMenu".split(" "),
function(I,A,v,x,u,q,l,F,z,J,y,f,k,m,d,a,w,e,h,t,p){return J([y,f,k,u],{baseClass:"jimu-multiple-layers-featureset-chooser",declaredClass:"jimu.dijit.FeatureSetChooserForMultipleLayers",templateString:m,drawBox:null,_instances:null,_tooltipDialogTimeoutId1:-1,_tooltipDialogClientX1:-1,_tooltipDialogTimeoutId2:-1,_tooltipDialogClientX2:-1,_tooltipTimeout:1E3,_currentGeoTypeInfo:null,_geoTypeInfos:null,map:null,updateSelection:!1,fullyWithin:!1,geoTypes:null,actions:null,postMixInProperties:function(){this.inherited(arguments);
this.nls=window.jimuNls.featureSetChooser;var c="POINT EXTENT POLYGON CIRCLE POLYLINE FREEHAND_POLYGON".split(" ");this.geoTypes&&0<this.geoTypes.length&&(this.geoTypes=F.filter(this.geoTypes,l.hitch(this,function(a){return 0<=c.indexOf(a)})));this.geoTypes&&0!==this.geoTypes.length||(this.geoTypes=["EXTENT"])},postCreate:function(){this.inherited(arguments);this._instances=[];this.popupMenu=p.getInstance();x(".select-text",this.domNode)[0].innerHTML=this.nls.select;x(".clear-text",this.domNode)[0].innerHTML=
window.jimuNls.common.clear;this._initTooltipDialogs();this._initDrawBox();this._geoTypeInfos=[];this.actions=[];0===this.geoTypes.length&&this.geoTypes.push("EXTENT");1===this.geoTypes.length?q.addClass(this.domNode,"single-geotype"):q.addClass(this.domNode,"multiple-geotypes");var c={POINT:["icon-select-by-point",this.nls.selectByPoint,this.drawBox.pointIcon],EXTENT:["icon-select-by-rect",this.nls.selectByRectangle,this.drawBox.extentIcon],POLYGON:["icon-select-by-polygon",this.nls.selectByPolygon,
this.drawBox.polygonIcon],CIRCLE:["icon-select-by-circle",this.nls.selectByCircle,this.drawBox.circleIcon],POLYLINE:["icon-select-by-line",this.nls.selectByLine,this.drawBox.polylineIcon],FREEHAND_POLYGON:["icon-select-by-freehand-polygon",this.nls.selectByFreehandPolygon,this.drawBox.freehandPolygonIcon]},a=-1;F.forEach("POINT EXTENT POLYGON CIRCLE POLYLINE FREEHAND_POLYGON".split(" "),l.hitch(this,function(e){var h=c[e];if(0<=this.geoTypes.indexOf(e)){var d={geoType:e,action:{iconClass:h[0],label:h[1],
data:{}},dom:h[2]},h={iconClass:h[0],label:h[1],data:{},onExecute:l.hitch(this,this._onDrawItemClicked,d)};this._geoTypeInfos.push(d);this.actions.push(h);"EXTENT"===e&&(a=this._geoTypeInfos.length-1)}}));this.own(I(this.btnSelect,"click",l.hitch(this,function(){w.simulateClickEvent(this._currentGeoTypeInfo.dom);this._hideDrawItems()})));0<=a?(this._setCurrentGeoInfo(this._geoTypeInfos[a]),q.addClass(this.geoTypeIcon,"icon-select-by-rect")):(this._setCurrentGeoInfo(this._geoTypeInfos[0]),q.addClass(this.geoTypeIcon,
this._geoTypeInfos[0].action.iconClass));this.deactivate()},_initTooltipDialogs:function(){var c=A("mac")?"\u2318":"Ctrl",e="- "+this.nls.newSelectionTip+" ("+this.nls.dragMouse+")",h="- "+this.nls.addSelectionTip+" (Shift+"+this.nls.dragBox+")",p="- "+this.nls.removeSelectionTip+" ("+c+"+"+this.nls.dragBox+")",f="- "+this.nls.newSelectionTip+" ("+this.nls.drawShap+")",t="- "+this.nls.addSelectionTip+" (Shift+"+this.nls.darw+")",w="- "+this.nls.removeSelectionTip+" ("+c+"+"+this.nls.darw+")",c=q.create("div",
{innerHTML:'\x3cdiv class\x3d"title"\x3e\x3c/div\x3e\x3cdiv class\x3d"item new-selection-item"\x3e\x3c/div\x3e\x3cdiv class\x3d"item add-selection-item"\x3e\x3c/div\x3e\x3cdiv class\x3d"item remove-selection-item"\x3e\x3c/div\x3e',"class":"dialog-content"}),k=x(".title",c)[0],m=x(".new-selection-item",c)[0],u=x(".add-selection-item",c)[0],y=x(".remove-selection-item",c)[0];this.tooltipDialog1=new a({content:c});q.addClass(this.tooltipDialog1.domNode,"jimu-multiple-layers-featureset-chooser-tooltipdialog");
this.own(I(this.btnSelect,"mousemove",l.hitch(this,function(c){this._tooltipDialogClientX1=c.clientX})));this.own(I(this.btnSelect,v.enter,l.hitch(this,function(){clearTimeout(this._tooltipDialogTimeoutId1);this._tooltipDialogTimeoutId1=-1;this._tooltipDialogTimeoutId1=setTimeout(l.hitch(this,function(){if(this.tooltipDialog1){var c=this._currentGeoTypeInfo.geoType;"EXTENT"===c?(m.innerHTML=e,u.innerHTML=h,y.innerHTML=p,k.innerHTML=this.nls.selectByRectangle):(m.innerHTML=f,u.innerHTML=t,y.innerHTML=
w,"POLYGON"===c?k.innerHTML=this.nls.selectByPolygon:"CIRCLE"===c?k.innerHTML=this.nls.selectByCircle:"POLYLINE"===c?k.innerHTML=this.nls.selectByLine:"FREEHAND_POLYGON"===c?k.innerHTML=this.nls.selectByFreehandPolygon:"POINT"===c&&(k.innerHTML=this.nls.selectByPoint));d.open({parent:this.getParent(),popup:this.tooltipDialog1,around:this.btnSelect,position:["below"]});0<=this._tooltipDialogClientX1&&(this.tooltipDialog1.domNode.parentNode.style.left=this._tooltipDialogClientX1+"px")}}),this._tooltipTimeout)})));
this.own(I(this.btnSelect,v.leave,l.hitch(this,function(){clearTimeout(this._tooltipDialogTimeoutId1);this._tooltipDialogTimeoutId1=-1;this._hideTooltipDialog(this.tooltipDialog1)})));c=q.create("div",{innerHTML:this.nls.unselectAllSelectionTip,"class":"dialog-content"});this.tooltipDialog2=new a({content:c});q.addClass(this.tooltipDialog2.domNode,"jimu-multiple-layers-featureset-chooser-tooltipdialog");this.own(I(this.btnClear,"mousemove",l.hitch(this,function(c){this._tooltipDialogClientX2=c.clientX})));
this.own(I(this.btnClear,v.enter,l.hitch(this,function(){clearTimeout(this._tooltipDialogTimeoutId2);this._tooltipDialogTimeoutId2=-1;this._tooltipDialogTimeoutId2=setTimeout(l.hitch(this,function(){this.tooltipDialog2&&(d.open({parent:this.getParent(),popup:this.tooltipDialog2,around:this.btnClear,position:["below"]}),0<=this._tooltipDialogClientX2&&(this.tooltipDialog2.domNode.parentNode.style.left=this._tooltipDialogClientX2+"px"))}),this._tooltipTimeout)})));this.own(I(this.btnClear,v.leave,l.hitch(this,
function(){clearTimeout(this._tooltipDialogTimeoutId2);this._tooltipDialogTimeoutId2=-1;this._hideTooltipDialog(this.tooltipDialog2)})))},_onArrowClicked:function(c){c.stopPropagation();c=q.position(c.target);this._showDrawItems(c)},_setCurrentGeoInfo:function(c){var a=this._currentGeoTypeInfo&&this._currentGeoTypeInfo.geoType;this._currentGeoTypeInfo&&q.removeClass(this.currentDrawItem,this._currentGeoTypeInfo.geoType);this._currentGeoTypeInfo=c;q.addClass(this.currentDrawItem,this._currentGeoTypeInfo.geoType);
this.isActive()?a!==this._currentGeoTypeInfo.geoType&&w.simulateClickEvent(this._currentGeoTypeInfo.dom):w.simulateClickEvent(this._currentGeoTypeInfo.dom)},_showDrawItems:function(c){this.popupMenu.setActions(this.actions);this.popupMenu.markAsSelected(this._currentGeoTypeInfo.action);this.popupMenu.show(c)},_hideDrawItems:function(){this.popupMenu.hide()},_onDrawItemClicked:function(c){this._hideDrawItems();this._setCurrentGeoInfo(c);q.removeClass(this.geoTypeIcon,"icon-select-by-point icon-select-by-circle icon-select-by-rect icon-select-by-polygon icon-select-by-line icon-select-by-freehand-polygon".split(" "));
switch(c.geoType){case "POLYGON":q.addClass(this.geoTypeIcon,"icon-select-by-polygon");break;case "CIRCLE":q.addClass(this.geoTypeIcon,"icon-select-by-circle");break;case "POLYLINE":q.addClass(this.geoTypeIcon,"icon-select-by-line");break;case "FREEHAND_POLYGON":q.addClass(this.geoTypeIcon,"icon-select-by-freehand-polygon");break;case "POINT":q.addClass(this.geoTypeIcon,"icon-select-by-point");break;default:q.addClass(this.geoTypeIcon,"icon-select-by-rect")}},_initDrawBox:function(){this.drawBox=
new e({map:this.map,showClear:!0,keepOneGraphic:!0,deactivateAfterDrawing:!1,geoTypes:this.geoTypes});this.own(I(this.drawBox,"user-clear",l.hitch(this,this._onDrawBoxUserClear)));this.own(I(this.drawBox,"draw-end",l.hitch(this,this._onDrawEnd)));this.own(I(this.drawBox,"draw-activate",l.hitch(this,function(){this.map.infoWindow.hide();q.addClass(this.currentDrawItem,"pressed");q.addClass(this.btnSelect,"selected")})));this.own(I(this.drawBox,"draw-deactivate",l.hitch(this,function(){q.removeClass(this.currentDrawItem,
"pressed");q.removeClass(this.btnSelect,"selected")})));this.own(I(this.btnClear,"click",l.hitch(this,function(){w.simulateClickEvent(this.drawBox.btnClear)})))},disable:function(){this.drawBox.disable();q.addClass(this.domNode,"disabled")},enable:function(){this.drawBox.enable();q.removeClass(this.domNode,"disabled")},isActive:function(){return this.drawBox.isActive()},activate:function(){if(!this.isActive()){var c=this._currentGeoTypeInfo;c||(c=this._geoTypeInfos[0]);this._setCurrentGeoInfo(c)}},
deactivate:function(){this.drawBox.deactivate()},setFeatureLayers:function(c){var a=F.filter(this._instances,l.hitch(this,function(a){return 0>c.indexOf(a.featureLayer)}));F.forEach(a,l.hitch(this,function(c){this._removeInstance(c)}));var e=F.map(this._instances,l.hitch(this,function(c){return c.featureLayer}));F.forEach(c,l.hitch(this,function(c){0>e.indexOf(c)&&this.addFeatureLayer(c)}))},addFeatureLayer:function(c){"esri.layers.FeatureLayer"!==c.declaredClass||this._findInstanceByLayer(c)||(c=
new h({map:this.map,featureLayer:c,drawBox:this.drawBox,updateSelection:this.updateSelection,fullyWithin:this.fullyWithin}),this._instances.push(c))},removeFeatureLayer:function(c){"esri.layers.FeatureLayer"===c.declaredClass&&(c=this._findInstanceByLayer(c))&&this._removeInstance(c)},setDisplayLayerVisibility:function(c,a){(c=t.getInstance().getDisplayLayer(c.id))&&(a?c.show():c.hide())},_removeInstance:function(c){if(c){var a=this._instances.indexOf(c);0<=a&&(c.destroy(),this._instances.splice(a,
1))}},_findInstanceByLayer:function(c){var a=null;F.some(this._instances,l.hitch(this,function(e){return e.featureLayer===c?(a=e,!0):!1}));return a},clear:function(c){F.forEach(this._instances,l.hitch(this,function(a){a.clear(c)}))},destroy:function(){this._hideTooltipDialog(this.tooltipDialog1);this._hideTooltipDialog(this.tooltipDialog2);F.forEach(this._instances,l.hitch(this,function(c){c.destroy()}));this._instances=[];this.drawBox&&this.drawBox.destroy();this.drawBox=null;this.inherited(arguments)},
_hideTooltipDialog:function(c){c&&d.close(c)},_onDrawBoxUserClear:function(){this.clear(!0);this.emit("user-clear")},_onDrawEnd:function(c,a,e,h,d,p){this.drawBox.clear();0<this._instances.length&&setTimeout(l.hitch(this,function(){if(0<this._instances.length){this.emit("loading");this.disable();var n=F.map(this._instances,l.hitch(this,function(c){return c.getFeatures()}));z(n).always(l.hitch(this,function(){this.enable();this._currentGeoTypeInfo&&w.simulateClickEvent(this._currentGeoTypeInfo.dom);
this.emit("unloading",c,a,e,h,d,p)}))}}),50)}})})},"jimu/dijit/_FeatureSetChooserCore":function(){define("dojo/on dojo/sniff dojo/Evented dojo/Deferred dojo/_base/lang dojo/_base/array dojo/_base/declare jimu/utils jimu/symbolUtils jimu/SelectionManager jimu/LayerInfos/LayerInfos esri/graphic esri/tasks/query esri/tasks/QueryTask esri/layers/FeatureLayer esri/symbols/jsonUtils esri/geometry/geometryEngine".split(" "),function(I,A,v,x,u,q,l,F,z,J,y,f,k,m,d,a,w){return l([v],{baseClass:"jimu-featureset-chooser-core",
_middleFeatureLayer:null,_isLoading:!1,_def:null,_isDestroyed:!1,_handles:null,selectionManager:null,layerInfosObj:null,map:null,featureLayer:null,drawBox:null,updateSelection:!1,fullyWithin:!1,constructor:function(e){u.mixin(this,e);this.layerInfosObj=y.getInstanceSync();this.selectionManager=J.getInstance();this.featureLayer.getSelectionSymbol()||this.selectionManager.setSelectionSymbol(this.featureLayer);e=F.getFeatureLayerDefinition(this.featureLayer);delete e.id;this._middleFeatureLayer=new d({layerDefinition:e,
featureSet:null},{id:"featureLayer_"+F.getRandomString()});e=null;var h=this._middleFeatureLayer.geometryType;"esriGeometryPoint"===h?e=z.getDefaultMarkerSymbol():"esriGeometryPolyline"===h?e=z.getDefaultLineSymbol():"esriGeometryPolygon"===h&&(e=a.fromJson({style:"esriSFSSolid",color:[79,129,189,77],type:"esriSFS",outline:{style:"esriSLSSolid",color:[54,93,141,255],width:1.5,type:"esriSLS"}}));this._middleFeatureLayer.setSelectionSymbol(e);e=I(this.drawBox,"user-clear",u.hitch(this,this._onDrawBoxUserClear));
h=I(this.drawBox,"draw-end",u.hitch(this,this._onDrawEnd));this._handles=[e,h]},hideMiddleFeatureLayer:function(){if(this._middleFeatureLayer){this._middleFeatureLayer.hide();var a=this.selectionManager.getDisplayLayer(this._middleFeatureLayer.id);a&&a.hide()}},showMiddleFeatureLayer:function(){if(this._middleFeatureLayer){this._middleFeatureLayer.show();var a=this.selectionManager.getDisplayLayer(this._middleFeatureLayer.id);a&&a.show()}},clear:function(a){this.drawBox.clear();this._clearMiddleFeatureLayer();
a&&this.selectionManager.clearSelection(this.featureLayer)},getFeatures:function(){var a=new x,h=u.hitch(this,function(){var e=this.syncGetFeatures();a.resolve(e)}),d=u.hitch(this,function(e){a.reject(e)});1===this._getDeferredStatus(this._def)?this._def.then(h,d):h();return a},syncGetFeatures:function(){return(this.updateSelection?this.featureLayer:this._middleFeatureLayer).getSelectedFeatures()},isLoading:function(){return 1===this._getDeferredStatus(this._def)},_onLoading:function(){this.drawBox.deactivate();
this.emit("loading")},_onUnloading:function(){this.emit("unloading")},_getDeferredStatus:function(a){var e=0;return e=a?a.isResolved()?2:a.isRejected()?-1:1:0},_onDrawEnd:function(a,h,f,p,c,n){console.log(h,f);if(this.isLoading())throw"should not draw when loading";if(this.featureLayer.visible){var e=new x;this._def=e;var t=d.SELECTION_NEW;p&&(t=d.SELECTION_ADD);A("mac")?n&&(t=d.SELECTION_SUBTRACT):c&&(t=d.SELECTION_SUBTRACT);this.emit("loading");this._getFeaturesByGeometry(a.geometry).then(u.hitch(this,
function(c){this.selectionManager.updateSelectionByFeatures(this.updateSelection?this.featureLayer:this._middleFeatureLayer,c,t);this._onUnloading();e.resolve(c)}),u.hitch(this,function(c){console.error(c);this._onUnloading();e.reject(c)}))}},_addTolerance:function(a){var e=2.54*this.map.getScale()/9600;return w.buffer(a,10*e,"meters")},_getFeaturesByGeometry:function(a){"point"===a.type&&(a=this._addTolerance(a));var e=new x,d=[];if(this.featureLayer.getMap())a=this.selectionManager.getClientFeaturesByGeometry(this.featureLayer,
a,this.fullyWithin),0<a.length&&(d=q.map(a,u.hitch(this,function(c){return new f(c.toJson())}))),e.resolve(d);else{d=new k;d.geometry=a;d.outSpatialReference=this.map.spatialReference;d.returnGeometry=!0;d.spatialRelationship=this.fullyWithin?k.SPATIAL_REL_CONTAINS:k.SPATIAL_REL_INTERSECTS;(a=this.featureLayer.getDefinitionExpression())||(a="1\x3d1");var p=this.layerInfosObj.getLayerInfoById(this.featureLayer.id);p&&(p=p.getFilter())&&(a="("+a+") AND ("+p+")");a&&(d.where=a);d.outFields=["*"];(new m(this.featureLayer.url)).execute(d).then(u.hitch(this,
function(c){e.resolve(c.features)}),u.hitch(this,function(c){e.reject(c)}))}return e},_onDrawBoxUserClear:function(){this.clear()},_clearMiddleFeatureLayer:function(){this._middleFeatureLayer&&(this._middleFeatureLayer.clear(),this.selectionManager.clearSelection(this._middleFeatureLayer))},destroy:function(){this._isDestroyed||(q.forEach(this._handles,u.hitch(this,function(a){a.remove()})),this._handles=null,this.clear());this._isDestroyed=!0}})})},"widgets/PublicNotification/Download_Avery":function(){define(["dojo/_base/array",
"dojo/_base/declare","dojo/_base/lang","dojo/Deferred"],function(I,A,v,x){return A(null,{constructor:function(){this._jspdf=this._initpdf()},save:function(u,q,l,F,z,J){var y=u.length,f,k=Date.now(),m,d=new x;z=v.mixin({canvas:{parentElem:z,elementName:"labelCanvas"}},l,F);z.guidance.labelBorderBlackPercent=this._conformToRange(z.guidance.labelBorderBlackPercent,0,100,50);z.guidance.gridBlackPercent=this._conformToRange(z.guidance.gridBlackPercent,0,100,50);F=F.useVectorFonts?null:1;l=l.numLabelsAcross*
l.numLabelsDown;z.filenameRoot=q;!z.useVectorFonts&&"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob&&(f=function(){confirm("Continue?")});this._createPDFLabelDocSet(z,F,l,y,J,f,function(a){if(0>a||a>=y)return null;var d=I.filter(u[a],function(a){return a});++a;return d}).then(function(a){m=Date.now();console.log("Elapsed time: "+(m-k)/1E3+" sec.");d.resolve(a)});return d},_StageEnum:{START_ENV:1,FINISH_ENV:2,START_PAGE:3,FINISH_PAGE:4,START_COL:5,START_ROW:6,DRAW_LABEL:7},_createPDFLabelDocSet:function(u,
q,l,v,z,x,y){return this._createPDFLabelDocSetContinuation(u,q,l,v,1,0,z,x,y)},_createPDFLabelDocSetContinuation:function(u,q,l,F,z,J,y,f,k){var m=new x,d,a;d=-1+(q?Math.min(J+l*q,F):F);if(J>d)return m.resolve(!0),m;a=q?Math.ceil(F/(l*q)):1;this._createPDFLabelDoc(u,a,z,J,d,l,k).then(v.hitch(this,function(w){w?(y&&y.set({value:100*z/a}),setTimeout(v.hitch(this,function(){f&&z<a&&f();this._createPDFLabelDocSetContinuation(u,q,l,F,++z,d+1,y,f,k).then(function(a){m.resolve(a)})}),10)):(console.log("failure in _createPDFLabelDoc; terminate chain"),
m.resolve(!1))}));return m},_createPDFLabelDoc:function(u,q,l,F,z,J,y){var f=0,k=new x,m,d={},a=u.numLabelsDown,w=0,e=0,h;d.config=u;d.canvas=u.canvas;d.pageNum=0;d.totalPages=Math.ceil((z-F+1)/J);d.doc=this._createPDFBuilder();if(d.doc){m="function"===typeof u.useVectorFonts?u.useVectorFonts:u.useVectorFonts?v.hitch(this,this._drawUsingVector):v.hitch(this,this._drawUsingRaster);for(m(this._StageEnum.START_ENV,d);F<=z;++F)h=y(F),Array.isArray(h)&&0!==h.length&&(0===f%J?(0<f&&(m(this._StageEnum.FINISH_PAGE,
d),d.doc.addPage()),e=w=0,m(this._StageEnum.START_PAGE,d,d.pageNum++),m(this._StageEnum.START_COL,d,e)):0===f%a&&(m(this._StageEnum.START_COL,d,++e),w=0),m(this._StageEnum.START_ROW,d,w++),m(this._StageEnum.DRAW_LABEL,d,h),++f);m(this._StageEnum.FINISH_PAGE,d);m(this._StageEnum.FINISH_ENV,d);u.filenameRoot&&(u=u.filenameRoot+(1===q?".pdf":"_"+l+"_"+q+".pdf"),console.log("Saving "+u+"..."),d.doc.save(u),console.log("Saved "+u));k.resolve(!0);return k}k.resolve(!1)},_drawUsingVector:function(u,q,l){function F(l){var u=
q.config.labelWidthIn-3*q.config.insetIn;if(this._getTextWidthIn(q.doc,l)>u){do l=l.slice(0,-1);while(this._getTextWidthIn(q.doc,l)>u);l+="..."}return l}switch(u){case this._StageEnum.START_ENV:q.vector={fontHeightIn:q.config.fontSizePx/q.doc.internal.scaleFactor};q.vector.verticalFontGapIn=.2*q.vector.fontHeightIn;break;case this._StageEnum.START_PAGE:q.doc.setFont("sans-serif","normal");q.doc.setFontSize(q.config.fontSizePx);break;case this._StageEnum.FINISH_PAGE:this._drawFrame(q);break;case this._StageEnum.START_COL:q.vector.currentLabelLeftIn=
q.config.pageLeftIn+l*(q.config.labelWidthIn+q.config.horizGapIn);break;case this._StageEnum.START_ROW:q.vector.currentLabelTopIn=q.config.pageTopIn+l*(q.config.labelHeightIn+q.config.vertGapIn);break;case this._StageEnum.DRAW_LABEL:l=l.map(v.hitch(this,F)),u=q.vector.currentLabelTopIn+q.config.labelHeightIn/2,q.doc.text(l,q.vector.currentLabelLeftIn+q.config.insetIn,u+(2-l.length)/2*q.vector.fontHeightIn+(1-l.length)/2*q.vector.verticalFontGapIn)}},_drawUsingRaster:function(u,q,l){var v,z,x=dojo.locale&&
dojo.locale.substring(0,2)||"en";v=q.raster?q.raster.canvas:null;var y=q.raster?q.raster.canvasLabel:null;z=q.config.rasterResolutionPxPerIn;var f,k=/[\u0580-\u07FF]/;switch(u){case this._StageEnum.START_ENV:v=document.getElementById(q.canvas.elementName)||this._createCanvas(q.canvas.parentElem,q.canvas.elementName,q.config.pageWidthIn*z,q.config.pageHeightIn*z);y=document.getElementById(q.canvas.elementName+"_label")||this._createCanvas(q.canvas.parentElem,q.canvas.elementName+"_label",q.config.labelWidthIn*
z,q.config.labelHeightIn*z);q.raster={pageTopPx:q.config.pageTopIn*z,pageRightPx:q.config.pageRightIn*z,pageBottomPx:q.config.pageBottomIn*z,pageLeftPx:q.config.pageLeftIn*z,labelWidthPx:q.config.labelWidthIn*z,labelHeightPx:q.config.labelHeightIn*z,labelHorizGapPx:q.config.horizGapIn*z,labelVertGapPx:q.config.vertGapIn*z,marginPx:q.config.insetIn*z,fontHeightPx:q.config.fontSizePx*z/100*1.32};q.raster.verticalFontGapPx=.2*q.raster.fontHeightPx;q.raster.canvas=v;q.raster.canvasLabel=y;q.raster.ctx=
v.getContext("2d");q.raster.ctxLabel=y.getContext("2d");q.raster.ctxLabel.font="normal "+q.raster.fontHeightPx+"px sans-serif";break;case this._StageEnum.FINISH_ENV:q.canvas.parentElem.removeChild(v);q.raster.canvas=null;q.canvas.parentElem.removeChild(y);q.raster.canvasLabel=null;break;case this._StageEnum.FINISH_PAGE:l=v.toDataURL("image/png");q.doc.addImage(l,"png",0,0,8.5,11);q.raster.ctx.clearRect(0,0,v.width,v.height);this._drawFrame(q);break;case this._StageEnum.START_COL:q.raster.currentLabelLeftPx=
q.raster.pageLeftPx+l*(q.raster.labelWidthPx+q.raster.labelHorizGapPx);q.raster.currentLabelRightPx=q.raster.pageLeftPx+(l+1)*q.raster.labelWidthPx+l*q.raster.labelHorizGapPx;break;case this._StageEnum.START_ROW:q.raster.currentLabelTopPx=q.raster.pageTopPx+l*(q.raster.labelHeightPx+q.raster.labelVertGapPx);break;case this._StageEnum.DRAW_LABEL:u=q.raster.labelHeightPx/2;v=q.raster.marginPx;u=u+(2-l.length)/2*q.raster.fontHeightPx+(1-l.length)/2*q.raster.verticalFontGapPx;q.raster.ctxLabel.clearRect(0,
0,y.width,y.height);f=y.width-q.raster.marginPx-q.raster.marginPx;for(z=0;z<l.length;++z)0<=["ar","he"].indexOf(x)?v=y.width-q.raster.marginPx:k.test(l[z])&&(v=y.width-q.raster.marginPx-q.raster.ctxLabel.measureText(l[z]).getWidth()),q.raster.ctxLabel.fillText(l[z],v,u,f),u+=q.raster.verticalFontGapPx+q.raster.fontHeightPx;q.raster.ctx.drawImage(q.raster.canvasLabel,q.raster.currentLabelLeftPx,q.raster.currentLabelTopPx)}},_conformToRange:function(u,q,l,v){u=parseFloat(u);Number.isNaN(u)&&(u=v);return Math.max(q,
Math.min(l,u))},_createPDFBuilder:function(){return new this._jspdf({orientation:"portrait",unit:"in",format:"letter"})},_createCanvas:function(u,q,l,v){var z=document.createElement("canvas");z.id=q;z.style.display="none";z.style.visibility="hidden";z.width=l;z.height=v;u.appendChild(z);return z},_getTextWidthIn:function(u,q){return u.getStringUnitWidth(q)*u.internal.getFontSize()/u.internal.scaleFactor},_drawFrame:function(u){var q,l=new Date,v=dojo.locale&&dojo.locale.substring(0,2)||"en";q=u.config.pageTopIn-
.08;var z=u.config.pageHeightIn-u.config.pageBottomIn+u.config.guidance.noteFontSizePx/u.doc.internal.scaleFactor+.08;u.config.showGuidance&&(u.doc.setFont("sans-serif","italic"),u.doc.setFontSize(u.config.guidance.noteFontSizePx),(v=0<="da de en es et fi fr id it nb nl pt sr sv".split(" ").indexOf(v))&&u.doc.text(u.config.guidance.printSuggestion,u.config.pageLeftIn+.1,q),q=(u.config.useVectorFonts?"v":"r"+u.config.rasterResolutionPxPerIn)+"  "+u.pageNum+"/"+u.totalPages,v&&(q+=("  "+l.toLocaleDateString()+
" "+l.toLocaleTimeString()).replace(/\u200e/gi,"")),u.doc.text(q,u.config.pageLeftIn+.1,z),u.config.guidance.showGrid&&(u.doc.setLineWidth(.01),u.doc.setDrawColor((1-u.config.guidance.gridBlackPercent/100).toString()),this._drawMeasurementGrid(u.doc,u.config,u.config.guidance.leftIn,u.config.guidance.rightIn,.05,u.config.guidance.majorTickIn),this._drawMeasurementGrid(u.doc,u.config,u.config.guidance.leftIn,u.config.guidance.rightIn,.015,u.config.guidance.minorTickIn)),u.config.guidance.showLabelOutlines&&
(u.doc.setLineWidth(.01),u.doc.setDrawColor((1-u.config.guidance.labelBorderBlackPercent/100).toString()),this._drawLabelsGrid(u.doc,u.config.numLabelsAcross,u.config.numLabelsDown,u.config.pageLeftIn,u.config.pageTopIn,u.config.labelWidthIn,u.config.labelHeightIn,u.config.horizGapIn,u.config.vertGapIn)),u.doc.setDrawColor(0))},_drawLabelsGrid:function(u,q,l,v,z,x,y,f,k){var m,d;for(m=0;m<q;++m)for(d=0;d<l;++d)u.rect(v+m*(x+f),z+d*(y+k),x,y)},_drawMeasurementGrid:function(u,q,l,v,z,x){u.rect(q.pageLeftIn,
q.pageTopIn,q.pageWidthIn-q.pageLeftIn-q.pageRightIn,q.pageHeightIn-q.pageTopIn-q.pageBottomIn);this._drawVertGridTickLines(u,0,q.pageWidthIn,q.pageTopIn,z,x);this._drawVertGridTickLines(u,0,q.pageWidthIn,q.pageHeightIn-q.pageBottomIn,-z,x);this._drawHorizGridTickLines(u,0,q.pageHeightIn,Math.max(l,q.pageLeftIn),z,x);this._drawHorizGridTickLines(u,0,q.pageHeightIn,q.pageWidthIn-Math.max(v,q.pageRightIn),-z,x)},_drawVertGridTickLines:function(u,q,l,v,z,x){for(;q<=l;q+=x)this._drawPDFLine(u,q,v,q,v+
z)},_drawHorizGridTickLines:function(u,q,l,v,z,x){for(;q<=l;q+=x)this._drawPDFLine(u,v,q,v+z,q)},_drawPDFLine:function(u,q,l,v,z){u.lines([[v-q,z-l]],q,l)},_initpdf:function(){var u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};(function(){function f(f){this.value=f}function k(k){function d(e,t){try{var h=k[e](t),c=h.value;c instanceof f?Promise.resolve(c.value).then(function(c){d("next",
c)},function(c){d("throw",c)}):a(h.done?"return":"normal",h.value)}catch(n){a("throw",n)}}function a(a,f){switch(a){case "return":w.resolve({value:f,done:!0});break;case "throw":w.reject(f);break;default:w.resolve({value:f,done:!1})}(w=w.next)?d(w.key,w.arg):e=null}var w,e;this._invoke=function(a,f){return new Promise(function(h,c){h={key:a,arg:f,resolve:h,reject:c,next:null};e?e=e.next=h:(w=e=h,d(a,f))})};"function"!==typeof k.return&&(this.return=void 0)}"function"===typeof Symbol&&Symbol.asyncIterator&&
(k.prototype[Symbol.asyncIterator]=function(){return this});k.prototype.next=function(f){return this._invoke("next",f)};k.prototype.throw=function(f){return this._invoke("throw",f)};k.prototype.return=function(f){return this._invoke("return",f)};return{wrap:function(f){return function(){return new k(f.apply(this,arguments))}},await:function(k){return new f(k)}}})();var q=function(f){function k(a){var d={};this.subscribe=function(a,h,f){if("function"!==typeof h)return!1;d.hasOwnProperty(a)||(d[a]=
{});var e=Math.random().toString(35);d[a][e]=[h,!!f];return e};this.unsubscribe=function(a){for(var e in d)if(d[e][a])return delete d[e][a],!0;return!1};this.publish=function(e){if(d.hasOwnProperty(e)){var h=Array.prototype.slice.call(arguments,1),t=[],p;for(p in d[e]){var c=d[e][p];try{c[0].apply(a,h)}catch(n){f.console&&console.error("jsPDF PubSub Error",n.message,n)}c[1]&&t.push(p)}t.length&&t.forEach(this.unsubscribe)}}}function m(a,w,e,h){var t={};"object"===("undefined"===typeof a?"undefined":
u(a))&&(t=a,a=t.orientation,w=t.unit||w,e=t.format||e,h=t.compress||t.compressPdf||h);w=w||"mm";e=e||"a4";a=(""+(a||"P")).toLowerCase();(""+e).toLowerCase();var p=!!h&&"function"===typeof Uint8Array,c=t.textColor||"0 g",n=t.drawColor||"0 G",C=t.fontSize||16,B=t.lineHeight||1.15,l=t.lineWidth||.200025,D=2,X=!1,q=[],y={},v={},x,G,Z,P=0,S,O=[],U=[],L=[],V=[],sa=[],ha=0,ja=0,T=0,F,H,K,ba,da,Y={title:"",subject:"",author:"",keywords:"",creator:""},M={},ca=new k(M),Q=function(c){return c.toFixed(2)},A=
function(c){return("0"+parseInt(c)).slice(-2)},E=function(c){X?O[S].push(c):(T+=c.length+1,V.push(c))},ga=function(){D++;q[D]=T;E(D+" 0 obj");return D},fa=function(c){E("stream");E(c);E("endstream")},Da=function(c,a,e,h){var d="F"+(Object.keys(y).length+1).toString(10);c=y[d]={id:d,PostScriptName:c,fontName:a,fontStyle:e,encoding:h,metadata:{}};v.hasOwnProperty(a)||(v[a]={});v[a][e]=d;ca.publish("addFont",c);return d},ta=function(c,a){var e,h,d,n,f,p;a=a||{};e=a.sourceEncoding||"Unicode";d=a.outputEncoding;
if((a.autoencode||d)&&y[x].metadata&&y[x].metadata[e]&&y[x].metadata[e].encoding&&(e=y[x].metadata[e].encoding,!d&&y[x].encoding&&(d=y[x].encoding),!d&&e.codePages&&(d=e.codePages[0]),"string"===typeof d&&(d=e[d]),d)){f=!1;n=[];e=0;for(h=c.length;e<h;e++)(p=d[c.charCodeAt(e)])?n.push(String.fromCharCode(p)):n.push(c[e]),n[e].charCodeAt(0)>>8&&(f=!0);c=n.join("")}for(e=c.length;void 0===f&&0!==e;)c.charCodeAt(e-1)>>8&&(f=!0),e--;if(f){n=a.noBOM?[]:[254,255];e=0;for(h=c.length;e<h;e++){p=c.charCodeAt(e);
f=p>>8;if(f>>8)throw Error("Character at position "+e+" of string '"+c+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");n.push(f);n.push(p-(f<<8))}c=String.fromCharCode.apply(void 0,n)}return c.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},R=function(c,a){var e="string"===typeof a&&a.toLowerCase();if("string"===typeof c){var h=c.toLowerCase();d.hasOwnProperty(h)&&(c=d[h][0]/G,a=d[h][1]/G)}Array.isArray(c)&&(a=c[1],c=c[0]);if(e){switch(e.substr(0,1)){case "l":a>c&&(e="s");break;
case "p":c>a&&(e="s")}"s"===e&&(Z=c,c=a,a=Z)}X=!0;O[++P]=[];L[P]={width:Number(c)||F,height:Number(a)||H};U[P]={};J(P)},ua=function(){R.apply(this,arguments);E(Q(l*G)+" w");E(n);0!==ha&&E(ha+" J");0!==ja&&E(ja+" j");ca.publish("addPage",{pageNumber:P})},W=function(c){0<c&&c<=P&&(O.splice(c,1),L.splice(c,1),P--,S>P&&(S=P),this.setPage(S))},J=function(c){0<c&&c<=P&&(S=c,F=L[c].width,H=L[c].height)},I=function(c,a){var e;c=void 0!==c?c:y[x].fontName;a=void 0!==a?a:y[x].fontStyle;void 0!==c&&(c=c.toLowerCase());
switch(c){case "sans-serif":case "verdana":case "arial":case "helvetica":c="helvetica";break;case "fixed":case "monospace":case "terminal":case "courier":c="courier";break;default:c="times"}try{e=v[c][a]}catch(Aa){}e||(e=v.times[a],null==e&&(e=v.times.normal));return e},xa=function(){X=!1;D=2;T=0;V=[];q=[];sa=[];ca.publish("buildDocument");E("%PDF-1.3");var c,a,e,h,d,n=[];d=f.adler32cs||m.adler32cs;p&&"undefined"===typeof d&&(p=!1);for(c=1;c<=P;c++){n.push(ga());e=(F=L[c].width)*G;a=(H=L[c].height)*
G;E("\x3c\x3c/Type /Page");E("/Parent 1 0 R");E("/Resources 2 0 R");E("/MediaBox [0 0 "+Q(e)+" "+Q(a)+"]");ca.publish("putPage",{pageNumber:c,page:O[c]});E("/Contents "+(D+1)+" 0 R");E("\x3e\x3e");E("endobj");a=O[c].join("\n");ga();if(p){e=[];for(h=a.length;h--;)e[h]=a.charCodeAt(h);h=d.from(a);a=new z(6);a.append(new Uint8Array(e));a=a.flush();e=new Uint8Array(a.length+6);e.set(new Uint8Array([120,156]));e.set(a,2);e.set(new Uint8Array([h&255,h>>8&255,h>>16&255,h>>24&255]),a.length+2);a=String.fromCharCode.apply(null,
e);E("\x3c\x3c/Length "+a.length+" /Filter [/FlateDecode]\x3e\x3e")}else E("\x3c\x3c/Length "+a.length+"\x3e\x3e");fa(a);E("endobj")}q[1]=T;E("1 0 obj");E("\x3c\x3c/Type /Pages");c="/Kids [";for(h=0;h<P;h++)c+=n[h]+" 0 R ";E(c+"]");E("/Count "+P);E("\x3e\x3e");E("endobj");ca.publish("postPutPages");ca.publish("putAdditionalObjects");for(n=0;n<sa.length;n++)c=sa[n],q[c.objId]=T,E(c.objId+" 0 obj"),E(c.content),E("endobj");D+=sa.length;ca.publish("postPutAdditionalObjects");for(var t in y)y.hasOwnProperty(t)&&
(n=y[t],n.objectNumber=ga(),E("\x3c\x3c/BaseFont/"+n.PostScriptName+"/Type/Font"),"string"===typeof n.encoding&&E("/Encoding/"+n.encoding),E("/Subtype/Type1\x3e\x3e"),E("endobj"));ca.publish("putResources");q[2]=T;E("2 0 obj");E("\x3c\x3c");E("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]");E("/Font \x3c\x3c");for(var k in y)y.hasOwnProperty(k)&&E("/"+k+" "+y[k].objectNumber+" 0 R");E("\x3e\x3e");E("/XObject \x3c\x3c");ca.publish("putXobjectDict");E("\x3e\x3e");E("\x3e\x3e");E("endobj");ca.publish("postPutResources");
ga();E("\x3c\x3c");E("/Producer (jsPDF "+m.version+")");for(var w in Y)Y.hasOwnProperty(w)&&Y[w]&&E("/"+w.substr(0,1).toUpperCase()+w.substr(1)+" ("+ta(Y[w])+")");t=new Date;k=t.getTimezoneOffset();w=Math.abs(k%60);k=[0>k?"+":"-",A(Math.floor(Math.abs(k/60))),"'",A(w),"'"].join("");E(["/CreationDate (D:",t.getFullYear(),A(t.getMonth()+1),A(t.getDate()),A(t.getHours()),A(t.getMinutes()),A(t.getSeconds()),k,")"].join(""));E("\x3e\x3e");E("endobj");ga();E("\x3c\x3c");E("/Type /Catalog");E("/Pages 1 0 R");
ba||(ba="fullwidth");switch(ba){case "fullwidth":E("/OpenAction [3 0 R /FitH null]");break;case "fullheight":E("/OpenAction [3 0 R /FitV null]");break;case "fullpage":E("/OpenAction [3 0 R /Fit]");break;case "original":E("/OpenAction [3 0 R /XYZ null null 1]");break;default:t=""+ba,"%"===t.substr(t.length-1)&&(ba=parseInt(ba)/100),"number"===typeof ba&&E("/OpenAction [3 0 R /XYZ null null "+Q(ba)+"]")}da||(da="continuous");switch(da){case "continuous":E("/PageLayout /OneColumn");break;case "single":E("/PageLayout /SinglePage");
break;case "two":case "twoleft":E("/PageLayout /TwoColumnLeft");break;case "tworight":E("/PageLayout /TwoColumnRight")}K&&E("/PageMode /"+K);ca.publish("putCatalog");E("\x3e\x3e");E("endobj");t=T;E("xref");E("0 "+(D+1));E("0000000000 65535 f ");for(k=1;k<=D;k++)"function"===typeof q[k]?E(("0000000000"+q[k]()).slice(-10)+" 00000 n "):E(("0000000000"+q[k]).slice(-10)+" 00000 n ");E("trailer");E("\x3c\x3c");E("/Size "+(D+1));E("/Root "+D+" 0 R");E("/Info "+(D-1)+" 0 R");E("\x3e\x3e");E("startxref");
E(""+t);E("%%EOF");X=!0;return V.join("\n")},ea=function(c){var a="S";if("F"===c)a="f";else if("FD"===c||"DF"===c)a="B";else if("f"===c||"f*"===c||"B"===c||"B*"===c)a=c;return a},ya=function(){for(var c=xa(),a=c.length,e=new ArrayBuffer(a),h=new Uint8Array(e);a--;)h[a]=c.charCodeAt(a);return e},za=function(){return new Blob([ya()],{type:"application/pdf"})},Ca=function(c){c.foo=function(){try{return c.apply(this,arguments)}catch(va){var a=va.stack||"";~a.indexOf(" at ")&&(a=a.split(" at ")[1]);a=
"Error in function "+a.split("\n")[0].split("\x3c")[0]+": "+va.message;if(f.console)f.console.error(a,va),f.alert&&alert(a);else throw Error(a);}};c.foo.bar=c;return c.foo}(function(c,a){var e;e="dataur"===(""+c).substr(0,6)?"data:application/pdf;base64,"+btoa(xa()):0;switch(c){case void 0:return xa();case "save":if(navigator.getUserMedia&&(void 0===f.URL||void 0===f.URL.createObjectURL))return M.output("dataurlnewwindow");e=saveAs(za(),a);"function"===typeof saveAs.unload&&f.setTimeout&&setTimeout(saveAs.unload,
911);return e;case "arraybuffer":return ya();case "blob":return za();case "bloburi":case "bloburl":return f.URL&&f.URL.createObjectURL(za())||void 0;case "datauristring":case "dataurlstring":return e;case "dataurlnewwindow":if((c=f.open(e))||"undefined"===typeof safari)return c;case "datauri":case "dataurl":return f.document.location.href=e;default:throw Error('Output type "'+c+'" is not supported.');}});switch(w){case "pt":G=1;break;case "mm":G=72/25.4000508;break;case "cm":G=72/2.54000508;break;
case "in":G=72;break;case "px":G=96/72;break;case "pc":G=12;break;case "em":G=12;break;case "ex":G=6;break;default:throw"Invalid unit: "+w;}M.internal={pdfEscape:ta,getStyle:ea,getFont:function(){return y[I.apply(M,arguments)]},getFontSize:function(){return C},getLineHeight:function(){return C*B},write:function(c){E(1===arguments.length?c:Array.prototype.join.call(arguments," "))},getCoordinateString:function(c){return Q(c*G)},getVerticalCoordinateString:function(c){return Q((H-c)*G)},collections:{},
newObject:ga,newAdditionalObject:function(){var c=2*O.length+1,c=c+sa.length,c={objId:c,content:""};sa.push(c);return c},newObjectDeferred:function(){D++;q[D]=function(){return T};return D},newObjectDeferredBegin:function(c){q[c]=T},putStream:fa,events:ca,scaleFactor:G,pageSize:{getWidth:function(){return F},getHeight:function(){return H}},output:function(c,a){return Ca(c,a)},getNumberOfPages:function(){return O.length-1},pages:O,out:E,f2:Q,getPageInfo:function(c){return{objId:2*(c-1)+3,pageNumber:c,
pageContext:U[c]}},getCurrentPageInfo:function(){return{objId:2*(S-1)+3,pageNumber:S,pageContext:U[S]}},getPDFVersion:function(){return"1.3"}};M.addPage=function(){ua.apply(this,arguments);return this};M.setPage=function(){J.apply(this,arguments);return this};M.insertPage=function(c){this.addPage();this.movePage(S,c);return this};M.movePage=function(c,a){if(c>a){for(var e=O[c],h=L[c],d=U[c];c>a;c--)O[c]=O[c-1],L[c]=L[c-1],U[c]=U[c-1];O[a]=e;L[a]=h;U[a]=d;this.setPage(a)}else if(c<a){e=O[c];h=L[c];
for(d=U[c];c<a;c++)O[c]=O[c+1],L[c]=L[c+1],U[c]=U[c+1];O[a]=e;L[a]=h;U[a]=d;this.setPage(a)}return this};M.deletePage=function(){W.apply(this,arguments);return this};M.setDisplayMode=function(c,a,e){ba=c;da=a;K=e;if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');return this};M.text=function(a,e,h,d,n,f){function p(c){c=c.split("\t").join(Array(t.TabLen||
9).join(" "));return ta(c,d)}"number"===typeof a&&(Z=h,h=e,e=a,a=Z);"string"===typeof a&&(a=a.match(/[\n\r]/)?a.split(/\r\n|\r|\n/g):[a]);"string"===typeof n&&(f=n,n=null);"string"===typeof d&&(f=d,d=null);"number"===typeof d&&(n=d,d=null);var k="",w="Td";n&&(n*=Math.PI/180,k=Math.cos(n),w=Math.sin(n),k=[Q(k),Q(w),Q(-1*w),Q(k),""].join(" "),w="Tm");d=d||{};"noBOM"in d||(d.noBOM=!0);"autoencode"in d||(d.autoencode=!0);n="";var m=this.internal.getCurrentPageInfo().pageContext;!0===d.stroke?!0!==m.lastTextWasStroke&&
(n="1 Tr\n",m.lastTextWasStroke=!0):(m.lastTextWasStroke&&(n="0 Tr\n"),m.lastTextWasStroke=!1);"undefined"===typeof this._runningPageHeight&&(this._runningPageHeight=0);if("string"===typeof a)a=p(a);else if("[object Array]"===Object.prototype.toString.call(a)){for(var D=a.concat(),m=[],l=D.length;l--;)m.push(p(D.shift()));if(f){var K,N,S=C*B,O=a.map(function(c){return this.getStringUnitWidth(c)*C/G},this);N=Math.max.apply(Math,O);if("center"===f)D=e-N/2,e-=O[0]/2;else if("right"===f)D=e-N,e-=O[0];
else throw Error('Unrecognized alignment option, use "center" or "right".');K=e;a=m[0];for(var X=1,l=m.length;X<l;X++){var U=N-O[X];"center"===f&&(U/=2);a+=") Tj\n"+(D-K+U)+" -"+S+" Td ("+m[X];K=D+U}}else a=m.join(") Tj\nT* (")}else throw Error('Type of text must be string or Array. "'+a+'" is not recognized.');h=Q((H-h)*G);E("BT\n/"+x+" "+C+" Tf\n"+C*B+" TL\n"+n+c+"\n"+k+Q(e*G)+" "+h+" "+w+"\n("+a+") Tj\nET");return this};M.lstext=function(c,a,e,h){console.warn("jsPDF.lstext is deprecated");for(var d=
0,n=c.length;d<n;d++,a+=h)this.text(c[d],a,e);return this};M.line=function(c,a,e,h){return this.lines([[e-c,h-a]],c,a)};M.clip=function(){E("W");E("S")};M.clip_fixed=function(c){"evenodd"===c?E("W*"):E("W");E("n")};M.lines=function(c,a,e,h,d,n){var f,p,t,k,w,m,B,C;"number"===typeof c&&(Z=e,e=a,a=c,c=Z);h=h||[1,1];E((a*G).toFixed(3)+" "+((H-e)*G).toFixed(3)+" m ");f=h[0];h=h[1];p=c.length;C=e;for(e=0;e<p;e++)t=c[e],2===t.length?(a=t[0]*f+a,C=t[1]*h+C,E((a*G).toFixed(3)+" "+((H-C)*G).toFixed(3)+" l")):
(k=t[0]*f+a,w=t[1]*h+C,m=t[2]*f+a,B=t[3]*h+C,a=t[4]*f+a,C=t[5]*h+C,E((k*G).toFixed(3)+" "+((H-w)*G).toFixed(3)+" "+(m*G).toFixed(3)+" "+((H-B)*G).toFixed(3)+" "+(a*G).toFixed(3)+" "+((H-C)*G).toFixed(3)+" c"));n&&E(" h");null!==d&&E(ea(d));return this};M.rect=function(c,a,e,h,d){ea(d);E([Q(c*G),Q((H-a)*G),Q(e*G),Q(-h*G),"re"].join(" "));null!==d&&E(ea(d));return this};M.triangle=function(c,a,e,h,d,n,f){this.lines([[e-c,h-a],[d-e,n-h],[c-d,a-n]],c,a,[1,1],f,!0);return this};M.roundedRect=function(c,
a,e,h,d,n,f){var p=4/3*(Math.SQRT2-1);this.lines([[e-2*d,0],[d*p,0,d,n-n*p,d,n],[0,h-2*n],[0,n*p,-(d*p),n,-d,n],[-e+2*d,0],[-(d*p),0,-d,-(n*p),-d,-n],[0,-h+2*n],[0,-(n*p),d*p,-n,d,-n]],c+d,a,[1,1],f);return this};M.ellipse=function(c,a,e,h,d){var n=4/3*(Math.SQRT2-1)*e,f=4/3*(Math.SQRT2-1)*h;E([Q((c+e)*G),Q((H-a)*G),"m",Q((c+e)*G),Q((H-(a-f))*G),Q((c+n)*G),Q((H-(a-h))*G),Q(c*G),Q((H-(a-h))*G),"c"].join(" "));E([Q((c-n)*G),Q((H-(a-h))*G),Q((c-e)*G),Q((H-(a-f))*G),Q((c-e)*G),Q((H-a)*G),"c"].join(" "));
E([Q((c-e)*G),Q((H-(a+f))*G),Q((c-n)*G),Q((H-(a+h))*G),Q(c*G),Q((H-(a+h))*G),"c"].join(" "));E([Q((c+n)*G),Q((H-(a+h))*G),Q((c+e)*G),Q((H-(a+f))*G),Q((c+e)*G),Q((H-a)*G),"c"].join(" "));null!==d&&E(ea(d));return this};M.circle=function(c,a,e,h){return this.ellipse(c,a,e,e,h)};M.setProperties=function(c){for(var a in Y)Y.hasOwnProperty(a)&&c[a]&&(Y[a]=c[a]);return this};M.setFontSize=function(c){C=c;return this};M.setFont=function(c,a){x=I(c,a);return this};M.setFontStyle=M.setFontType=function(c){x=
I(void 0,c);return this};M.getFontList=function(){var c={},a,e,h;for(a in v)if(v.hasOwnProperty(a))for(e in c[a]=h=[],v[a])v[a].hasOwnProperty(e)&&h.push(e);return c};M.addFont=function(c,a,e){Da(c,a,e,"StandardEncoding")};M.setLineWidth=function(c){E((c*G).toFixed(2)+" w");return this};M.setDrawColor=function(c,a,e,h){c=void 0===a||void 0===h&&c===a===e?"string"===typeof c?c+" G":Q(c/255)+" G":void 0===h?"string"===typeof c?[c,a,e,"RG"].join(" "):[Q(c/255),Q(a/255),Q(e/255),"RG"].join(" "):"string"===
typeof c?[c,a,e,h,"K"].join(" "):[Q(c),Q(a),Q(e),Q(h),"K"].join(" ");E(c);return this};M.setFillColor=function(c,a,e,h){void 0===a||void 0===h&&c===a===e?c="string"===typeof c?c+" g":Q(c/255)+" g":void 0===h||"object"===("undefined"===typeof h?"undefined":u(h))?(c="string"===typeof c?[c,a,e,"rg"].join(" "):[Q(c/255),Q(a/255),Q(e/255),"rg"].join(" "),h&&0===h.a&&(c="255 255 255 rg")):c="string"===typeof c?[c,a,e,h,"k"].join(" "):[Q(c),Q(a),Q(e),Q(h),"k"].join(" ");E(c);return this};M.setTextColor=
function(a,e,h){"string"===typeof a&&/^#[0-9A-Fa-f]{6}$/.test(a)&&(h=parseInt(a.substr(1),16),a=h>>16&255,e=h>>8&255,h&=255);c=0===a&&0===e&&0===h||"undefined"===typeof e?(a/255).toFixed(3)+" g":[(a/255).toFixed(3),(e/255).toFixed(3),(h/255).toFixed(3),"rg"].join(" ");return this};M.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2};M.setLineCap=function(c){var a=this.CapJoinStyles[c];if(void 0===a)throw Error("Line cap style of '"+
c+"' is not recognized. See or extend .CapJoinStyles property for valid styles");ha=a;E(a+" J");return this};M.setLineJoin=function(c){var a=this.CapJoinStyles[c];if(void 0===a)throw Error("Line join style of '"+c+"' is not recognized. See or extend .CapJoinStyles property for valid styles");ja=a;E(a+" j");return this};M.output=Ca;M.save=function(c){return M.output("save",c)};for(var ma in m.API)m.API.hasOwnProperty(ma)&&("events"===ma&&m.API.events.length?function(c,a){var e,h,d;for(d=a.length-1;-1!==
d;d--)e=a[d][0],h=a[d][1],c.subscribe.apply(c,[e].concat("function"===typeof h?[h]:h))}(ca,m.API.events):M[ma]=m.API[ma]);(function(){for(var c=[["Helvetica","helvetica","normal"],["Helvetica-Bold","helvetica","bold"],["Helvetica-Oblique","helvetica","italic"],["Helvetica-BoldOblique","helvetica","bolditalic"],["Courier","courier","normal"],["Courier-Bold","courier","bold"],["Courier-Oblique","courier","italic"],["Courier-BoldOblique","courier","bolditalic"],["Times-Roman","times","normal"],["Times-Bold",
"times","bold"],["Times-Italic","times","italic"],["Times-BoldItalic","times","bolditalic"],["ZapfDingbats","zapfdingbats"]],a=0,e=c.length;a<e;a++){var h=Da(c[a][0],c[a][1],c[a][2],"StandardEncoding"),d=c[a][0].split("-"),n=d[0],d=d[1]||"";v.hasOwnProperty(n)||(v[n]={});v[n][d]=h}ca.publish("addFonts",{fonts:y,dictionary:v})})();x="F1";ua(e,a);ca.publish("initialized");return M}var d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,
595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,
161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.API={events:[]};m.version="1.x-master";return m}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||void 0);(window.AcroForm=function(f){var k=window.AcroForm;k.scale=function(a){return m.internal.scaleFactor/1*a};k.antiScale=function(a){return 1/m.internal.scaleFactor*a};var m={fields:[],
xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null};q.API.acroformPlugin=m;var d=function(){for(var a in this.acroformPlugin.acroFormDictionaryRoot.Fields){var e=this.acroformPlugin.acroFormDictionaryRoot.Fields[a];if(e.hasAnnotation){var c={type:"reference",object:e};q.API.annotationPlugin.annotations[this.internal.getPageInfo(e.page).pageNumber].push(c)}}},a=function(a){this.acroformPlugin.printedOut&&(this.acroformPlugin.printedOut=!1,this.acroformPlugin.acroFormDictionaryRoot=null);
if(!this.acroformPlugin.acroFormDictionaryRoot){if(this.acroformPlugin.acroFormDictionaryRoot)throw Error("Exception while creating AcroformDictionary");this.acroformPlugin.acroFormDictionaryRoot=new k.AcroFormDictionary;this.acroformPlugin.internal=this.internal;this.acroformPlugin.acroFormDictionaryRoot._eventID=this.internal.events.subscribe("postPutResources",e);this.internal.events.subscribe("buildDocument",d);this.internal.events.subscribe("putCatalog",w);this.internal.events.subscribe("postPutPages",
h)}this.acroformPlugin.acroFormDictionaryRoot.Fields.push(a)},w=function(){"undefined"!=typeof this.acroformPlugin.acroFormDictionaryRoot?this.internal.write("/AcroForm "+this.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R"):console.log("Root missing...")},e=function(){this.internal.events.unsubscribe(this.acroformPlugin.acroFormDictionaryRoot._eventID);delete this.acroformPlugin.acroFormDictionaryRoot._eventID;this.acroformPlugin.printedOut=!0},h=function(a){var e=!a;a||(this.internal.newObjectDeferredBegin(this.acroformPlugin.acroFormDictionaryRoot.objId),
this.internal.out(this.acroformPlugin.acroFormDictionaryRoot.getString()));a=a||this.acroformPlugin.acroFormDictionaryRoot.Kids;for(var c in a){var h=a[c],d=h.Rect;h.Rect&&(h.Rect=k.internal.calculateCoordinates.call(this,h.Rect));this.internal.newObjectDeferredBegin(h.objId);var f="",f=f+(h.objId+" 0 obj\n"),f=f+("\x3c\x3c\n"+h.getContent());h.Rect=d;h.hasAppearanceStream&&!h.appearanceStreamContent&&(d=k.internal.calculateAppearanceStream.call(this,h),f+="/AP \x3c\x3c /N "+d+" \x3e\x3e\n",this.acroformPlugin.xForms.push(d));
if(h.appearanceStreamContent){var f=f+"/AP \x3c\x3c ",t;for(t in h.appearanceStreamContent){d=h.appearanceStreamContent[t];f+="/"+t+" ";f+="\x3c\x3c ";if(1<=Object.keys(d).length||Array.isArray(d))for(c in d){var w=d[c];"function"===typeof w&&(w=w.call(this,h));f+="/"+c+" "+w+" ";0<=this.acroformPlugin.xForms.indexOf(w)||this.acroformPlugin.xForms.push(w)}else w=d,"function"===typeof w&&(w=w.call(this,h)),f+="/"+c+" "+w+" \n",0<=this.acroformPlugin.xForms.indexOf(w)||this.acroformPlugin.xForms.push(w);
f+=" \x3e\x3e\n"}f+="\x3e\x3e\n"}f+="\x3e\x3e\nendobj\n";this.internal.out(f)}if(e){a=this.acroformPlugin.xForms;for(var m in a)e=m,c=a[m],this.internal.newObjectDeferredBegin(c&&c.objId),h="",h+=c?c.getString():"",this.internal.out(h),delete a[e]}};f.addField=function(e){if(e instanceof k.TextField){var h;h=e||new k.Field;h.FT="/Tx";var c=h.Ff||0;h.multiline&&(c|=4096);h.password&&(c|=8192);h.fileSelect&&(c|=1048576);h.doNotSpellCheck&&(c|=4194304);h.doNotScroll&&(c|=8388608);h.Ff=h.Ff||c;a.call(this,
h)}else e instanceof k.ChoiceField?(h=e||new k.Field,h.FT="/Ch",c=h.Ff||0,h.combo&&(c=k.internal.setBitPosition(c,18),delete h.combo),h.edit&&(c=k.internal.setBitPosition(c,19),delete h.edit),h.sort&&(c=k.internal.setBitPosition(c,20),delete h.sort),h.multiSelect&&1.4<=this.internal.getPDFVersion()&&(c=k.internal.setBitPosition(c,22),delete h.multiSelect),h.doNotSpellCheck&&1.4<=this.internal.getPDFVersion()&&(c=k.internal.setBitPosition(c,23),delete h.doNotSpellCheck),h.Ff=c,a.call(this,h)):e instanceof
k.Button?(h=e||new k.Field,h.FT="/Btn",c=h.Ff||0,h.pushbutton&&(c=k.internal.setBitPosition(c,17),delete h.pushbutton),h.radio&&(c=k.internal.setBitPosition(c,16),delete h.radio),h.noToggleToOff&&(c=k.internal.setBitPosition(c,15)),h.Ff=c,a.call(this,h)):e instanceof k.ChildClass?a.call(this,e):e&&a.call(this,e);e.page=this.acroformPlugin.internal.getCurrentPageInfo().pageNumber;return this}})(q.API);var l=window.AcroForm;l.internal={};l.createFormXObject=function(f){var k=new l.FormXObject,m=l.Appearance.internal.getHeight(f)||
0;f=l.Appearance.internal.getWidth(f)||0;k.BBox=[0,0,f,m];return k};l.Appearance={CheckBox:{createAppearanceStream:function(){return{N:{On:l.Appearance.CheckBox.YesNormal},D:{On:l.Appearance.CheckBox.YesPushDown,Off:l.Appearance.CheckBox.OffPushDown}}},createMK:function(){return"\x3c\x3c /CA (3)\x3e\x3e"},YesPushDown:function(f){var k=l.createFormXObject(f),m="";f.Q=1;var d=l.internal.calculateX(f,"3","ZapfDingbats",50),m=m+("0.749023 g\n\r\n                     0 0 "+l.Appearance.internal.getWidth(f)+
" "+l.Appearance.internal.getHeight(f)+" re\n\r\n                     f\n\r\n                     BMC\n\r\n                     q\n\r\n                     0 0 1 rg\n\r\n                     /F13 "+d.fontSize+" Tf 0 g\n\r\n                     BT\n"),m=m+d.text;k.stream=m+"ET\n\r\n                     Q\n\r\n                     EMC\n";return k},YesNormal:function(f){var k=l.createFormXObject(f),m="";f.Q=1;var d=l.internal.calculateX(f,"3","ZapfDingbats",.9*l.Appearance.internal.getHeight(f)),m=m+
("1 g\n\r\n        0 0 "+l.Appearance.internal.getWidth(f)+" "+l.Appearance.internal.getHeight(f)+" re\n\r\n        f\n\r\n        q\n\r\n        0 0 1 rg\n\r\n        0 0 "+(l.Appearance.internal.getWidth(f)-1)+" "+(l.Appearance.internal.getHeight(f)-1)+" re\n\r\n        W\n\r\n        n\n\r\n        0 g\n\r\n        BT\n\r\n        /F13 "+d.fontSize+" Tf 0 g\n"),m=m+d.text;k.stream=m+"ET\n\r\n                     Q\n";return k},OffPushDown:function(f){var k=l.createFormXObject(f);f=""+("0.749023 g\n\r\n                    0 0 "+
l.Appearance.internal.getWidth(f)+" "+l.Appearance.internal.getHeight(f)+" re\n\r\n                    f\n");k.stream=f;return k}},RadioButton:{Circle:{createAppearanceStream:function(f){var k={D:{Off:l.Appearance.RadioButton.Circle.OffPushDown},N:{}};k.N[f]=l.Appearance.RadioButton.Circle.YesNormal;k.D[f]=l.Appearance.RadioButton.Circle.YesPushDown;return k},createMK:function(){return"\x3c\x3c /CA (l)\x3e\x3e"},YesNormal:function(f){var k=l.createFormXObject(f),m="",d=l.Appearance.internal.getWidth(f)<=
l.Appearance.internal.getHeight(f)?l.Appearance.internal.getWidth(f)/4:l.Appearance.internal.getHeight(f)/4,d=.9*d,a=l.Appearance.internal.Bezier_C,m=m+("q\n\r\n        1 0 0 1 "+l.Appearance.internal.getWidth(f)/2+" "+l.Appearance.internal.getHeight(f)/2+" cm\n\r\n        "+d+" 0 m\n\r\n        "+d+" "+d*a+" "+d*a+" "+d+" 0 "+d+" c\n\r\n        -"+d*a+" "+d+" -"+d+" "+d*a+" -"+d+" 0 c\n\r\n        -"+d+" -"+d*a+" -"+d*a+" -"+d+" 0 -"+d+" c\n\r\n        "+d*a+" -"+d+" "+d+" -"+d*a+" "+d+" 0 c\n\r\n        f\n\r\n        Q\n");
k.stream=m;return k},YesPushDown:function(f){var k=l.createFormXObject(f),m="",d=l.Appearance.internal.getWidth(f)<=l.Appearance.internal.getHeight(f)?l.Appearance.internal.getWidth(f)/4:l.Appearance.internal.getHeight(f)/4,d=.9*d,a=2*d,w=a*l.Appearance.internal.Bezier_C,e=d*l.Appearance.internal.Bezier_C,m=m+("0.749023 g\n\r\n                    q\n\r\n                   1 0 0 1 "+l.Appearance.internal.getWidth(f)/2+" "+l.Appearance.internal.getHeight(f)/2+" cm\n\r\n        "+a+" 0 m\n\r\n        "+
a+" "+w+" "+w+" "+a+" 0 "+a+" c\n\r\n        -"+w+" "+a+" -"+a+" "+w+" -"+a+" 0 c\n\r\n        -"+a+" -"+w+" -"+w+" -"+a+" 0 -"+a+" c\n\r\n        "+w+" -"+a+" "+a+" -"+w+" "+a+" 0 c\n\r\n                    f\n\r\n                    Q\n\r\n                    0 g\n\r\n                    q\n\r\n                    1 0 0 1 "+l.Appearance.internal.getWidth(f)/2+" "+l.Appearance.internal.getHeight(f)/2+" cm\n\r\n        "+d+" 0 m\n\r\n        "+d+" "+e+" "+e+" "+d+" 0 "+d+" c\n\r\n        -"+e+" "+
d+" -"+d+" "+e+" -"+d+" 0 c\n\r\n        -"+d+" -"+e+" -"+e+" -"+d+" 0 -"+d+" c\n\r\n        "+e+" -"+d+" "+d+" -"+e+" "+d+" 0 c\n\r\n                    f\n\r\n                    Q\n");k.stream=m;return k},OffPushDown:function(f){var k=l.createFormXObject(f),m="",d=1.8*(l.Appearance.internal.getWidth(f)<=l.Appearance.internal.getHeight(f)?l.Appearance.internal.getWidth(f)/4:l.Appearance.internal.getHeight(f)/4),a=d*l.Appearance.internal.Bezier_C,m=m+("0.749023 g\n\r\n                    q\n\r\n         1 0 0 1 "+
l.Appearance.internal.getWidth(f)/2+" "+l.Appearance.internal.getHeight(f)/2+" cm\n\r\n        "+d+" 0 m\n\r\n        "+d+" "+a+" "+a+" "+d+" 0 "+d+" c\n\r\n        -"+a+" "+d+" -"+d+" "+a+" -"+d+" 0 c\n\r\n        -"+d+" -"+a+" -"+a+" -"+d+" 0 -"+d+" c\n\r\n        "+a+" -"+d+" "+d+" -"+a+" "+d+" 0 c\n\r\n                    f\n\r\n                    Q\n");k.stream=m;return k}},Cross:{createAppearanceStream:function(f){var k={D:{Off:l.Appearance.RadioButton.Cross.OffPushDown},N:{}};k.N[f]=l.Appearance.RadioButton.Cross.YesNormal;
k.D[f]=l.Appearance.RadioButton.Cross.YesPushDown;return k},createMK:function(){return"\x3c\x3c /CA (8)\x3e\x3e"},YesNormal:function(f){var k=l.createFormXObject(f),m="",d=l.Appearance.internal.calculateCross(f),m=m+("q\n\r\n                    1 1 "+(l.Appearance.internal.getWidth(f)-2)+" "+(l.Appearance.internal.getHeight(f)-2)+" re\n\r\n                    W\n\r\n                    n\n\r\n                    "+d.x1.x+" "+d.x1.y+" m\n\r\n                    "+d.x2.x+" "+d.x2.y+" l\n\r\n                    "+
d.x4.x+" "+d.x4.y+" m\n\r\n                    "+d.x3.x+" "+d.x3.y+" l\n\r\n                    s\n\r\n                    Q\n");k.stream=m;return k},YesPushDown:function(f){var k=l.createFormXObject(f),m=l.Appearance.internal.calculateCross(f);f=""+("0.749023 g\n\r\n                    0 0 "+l.Appearance.internal.getWidth(f)+" "+l.Appearance.internal.getHeight(f)+" re\n\r\n                    f\n\r\n                    q\n\r\n                    1 1 "+(l.Appearance.internal.getWidth(f)-2)+" "+(l.Appearance.internal.getHeight(f)-
2)+" re\n\r\n                    W\n\r\n                    n\n\r\n                    "+m.x1.x+" "+m.x1.y+" m\n\r\n                    "+m.x2.x+" "+m.x2.y+" l\n\r\n                    "+m.x4.x+" "+m.x4.y+" m\n\r\n                    "+m.x3.x+" "+m.x3.y+" l\n\r\n                    s\n\r\n                    Q\n");k.stream=f;return k},OffPushDown:function(f){var k=l.createFormXObject(f);f=""+("0.749023 g\n\r\n                    0 0 "+l.Appearance.internal.getWidth(f)+" "+l.Appearance.internal.getHeight(f)+
" re\n\r\n                    f\n");k.stream=f;return k}}},createDefaultAppearanceStream:function(f){return"/Helv 0 Tf 0 g"}};l.Appearance.internal={Bezier_C:.551915024494,calculateCross:function(f){var k=l.Appearance.internal.getWidth(f);f=l.Appearance.internal.getHeight(f);var m=k>f?f:k;return{x1:{x:(k-m)/2,y:(f-m)/2+m},x2:{x:(k-m)/2+m,y:(f-m)/2},x3:{x:(k-m)/2,y:(f-m)/2},x4:{x:(k-m)/2+m,y:(f-m)/2+m}}}};l.Appearance.internal.getWidth=function(f){return f.Rect[2]};l.Appearance.internal.getHeight=
function(f){return f.Rect[3]};l.internal.inherit=function(f,k){f.prototype=Object.create(k.prototype);f.prototype.constructor=f};l.internal.arrayToPdfArray=function(f){if(Array.isArray(f)){var k=" [",m;for(m in f)k+=f[m].toString(),k+=m<f.length-1?" ":"";return k+"]"}};l.internal.toPdfString=function(f){f=f||"";0!==f.indexOf("(")&&(f="("+f);")"!=f.substring(f.length-1)&&(f+="(");return f};l.PDFObject=function(){var f;Object.defineProperty(this,"objId",{get:function(){f||(this.internal?f=this.internal.newObjectDeferred():
q.API.acroformPlugin.internal&&(f=q.API.acroformPlugin.internal.newObjectDeferred()));f||console.log("Couldn't create Object ID");return f},configurable:!1})};l.PDFObject.prototype.toString=function(){return this.objId+" 0 R"};l.PDFObject.prototype.getString=function(){var f=this.objId+" 0 obj\n\x3c\x3c",k=this.getContent(),f=f+(k+"\x3e\x3e\n");this.stream&&(f=f+"stream\n"+this.stream,f+="endstream\n");return f+"endobj\n"};l.PDFObject.prototype.getContent=function(){return""+function(f){var k="",
m=Object.keys(f).filter(function(a){return"content"!=a&&"appearanceStreamContent"!=a&&"_"!=a.substring(0,1)}),d;for(d in m){var a=m[d],w=f[a];w&&(k=Array.isArray(w)?k+("/"+a+" "+l.internal.arrayToPdfArray(w)+"\n"):w instanceof l.PDFObject?k+("/"+a+" "+w.objId+" 0 R\n"):k+("/"+a+" "+w+"\n"))}return k}(this)};l.FormXObject=function(){l.PDFObject.call(this);this.Type="/XObject";this.Subtype="/Form";this.FormType=1;this.BBox;this.Matrix;this.Resources="2 0 R";this.PieceInfo;var f;Object.defineProperty(this,
"Length",{enumerable:!0,get:function(){return void 0!==f?f.length:0}});Object.defineProperty(this,"stream",{enumerable:!1,set:function(k){f=k},get:function(){return f?f:null}})};l.internal.inherit(l.FormXObject,l.PDFObject);l.AcroFormDictionary=function(){l.PDFObject.call(this);var f=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){if(0<f.length)return f}});Object.defineProperty(this,"Fields",{enumerable:!0,configurable:!0,get:function(){return f}});this.DA};l.internal.inherit(l.AcroFormDictionary,
l.PDFObject);l.Field=function(){l.PDFObject.call(this);var f;Object.defineProperty(this,"Rect",{enumerable:!0,configurable:!1,get:function(){if(f)return f},set:function(a){f=a}});var k="";Object.defineProperty(this,"FT",{enumerable:!0,set:function(a){k=a},get:function(){return k}});var m;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,set:function(a){m=a},get:function(){return!m||1>m.length?this instanceof l.ChildClass?void 0:"(FieldObject"+l.Field.FieldNum++ +")":"("==m.substring(0,
1)&&m.substring(m.length-1)?m:"("+m+")"}});var d;Object.defineProperty(this,"DA",{enumerable:!0,get:function(){if(d)return"("+d+")"},set:function(a){d=a}});var a;Object.defineProperty(this,"DV",{enumerable:!0,configurable:!0,get:function(){if(a)return a},set:function(d){a=d}});Object.defineProperty(this,"Type",{enumerable:!0,get:function(){return this.hasAnnotation?"/Annot":null}});Object.defineProperty(this,"Subtype",{enumerable:!0,get:function(){return this.hasAnnotation?"/Widget":null}});Object.defineProperty(this,
"hasAnnotation",{enumerable:!1,get:function(){return this.Rect||this.BC||this.BG?!0:!1}});Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,configurable:!0,writable:!0});Object.defineProperty(this,"page",{enumerable:!1,configurable:!0,writable:!0})};l.Field.FieldNum=0;l.internal.inherit(l.Field,l.PDFObject);l.ChoiceField=function(){l.Field.call(this);this.FT="/Ch";this.Opt=[];this.V="()";this.TI=0;this.combo=!1;Object.defineProperty(this,"edit",{enumerable:!0,set:function(f){1==f?this.combo=
this._edit=!0:this._edit=!1},get:function(){return this._edit?this._edit:!1},configurable:!1});this.hasAppearanceStream=!0;Object.defineProperty(this,"V",{get:function(){l.internal.toPdfString()}})};l.internal.inherit(l.ChoiceField,l.Field);l.ListBox=function(){l.ChoiceField.call(this)};l.internal.inherit(l.ListBox,l.ChoiceField);l.ComboBox=function(){l.ListBox.call(this);this.combo=!0};l.internal.inherit(l.ComboBox,l.ListBox);l.EditBox=function(){l.ComboBox.call(this);this.edit=!0};l.internal.inherit(l.EditBox,
l.ComboBox);l.Button=function(){l.Field.call(this);this.FT="/Btn"};l.internal.inherit(l.Button,l.Field);l.PushButton=function(){l.Button.call(this);this.pushbutton=!0};l.internal.inherit(l.PushButton,l.Button);l.RadioButton=function(){l.Button.call(this);this.radio=!0;var f=[];Object.defineProperty(this,"Kids",{enumerable:!0,get:function(){if(0<f.length)return f}});Object.defineProperty(this,"__Kids",{get:function(){return f}});var k;Object.defineProperty(this,"noToggleToOff",{enumerable:!1,get:function(){return k},
set:function(f){k=f}})};l.internal.inherit(l.RadioButton,l.Button);l.ChildClass=function(f,k){l.Field.call(this);this.Parent=f;this._AppearanceType=l.Appearance.RadioButton.Circle;this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(k);this.F=l.internal.setBitPosition(this.F,3,1);this.MK=this._AppearanceType.createMK();this.AS="/Off";this._Name=k};l.internal.inherit(l.ChildClass,l.Field);l.RadioButton.prototype.setAppearance=function(f){if("createAppearanceStream"in f&&"createMK"in
f)for(var k in this.__Kids){var m=this.__Kids[k];m.appearanceStreamContent=f.createAppearanceStream(m._Name);m.MK=f.createMK()}else console.log("Couldn't assign Appearance to RadioButton. Appearance was Invalid!")};l.RadioButton.prototype.createOption=function(f){f=new l.ChildClass(this,f);this.__Kids.push(f);q.API.addField(f);return f};l.CheckBox=function(){l.Button.call(this);this.appearanceStreamContent=l.Appearance.CheckBox.createAppearanceStream();this.MK=l.Appearance.CheckBox.createMK();this.V=
this.AS="/On"};l.internal.inherit(l.CheckBox,l.Button);l.TextField=function(){l.Field.call(this);this.DA=l.Appearance.createDefaultAppearanceStream();this.F=4;var f;Object.defineProperty(this,"V",{get:function(){return f?"("+f+")":f},enumerable:!0,set:function(a){f=a}});var k;Object.defineProperty(this,"DV",{get:function(){return k?"("+k+")":k},enumerable:!0,set:function(a){k=a}});var m=!1;Object.defineProperty(this,"multiline",{enumerable:!1,get:function(){return m},set:function(a){m=a}});var d=
!1;Object.defineProperty(this,"MaxLen",{enumerable:!0,get:function(){return d},set:function(a){d=a}});Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,get:function(){return this.V||this.DV}})};l.internal.inherit(l.TextField,l.Field);l.PasswordField=function(){l.TextField.call(this);Object.defineProperty(this,"password",{value:!0,enumerable:!1,configurable:!1,writable:!1})};l.internal.inherit(l.PasswordField,l.TextField);l.internal.calculateFontSpace=function(f,k,m){m=m||"helvetica";
var d=l.internal.calculateFontSpace.canvas||(l.internal.calculateFontSpace.canvas=document.createElement("canvas")),a=d.getContext("2d");a.save();a.font=k+" "+m;f={width:a.measureText(f).getWidth()};a.fontcolor="black";a=d.getContext("2d");f.height=1.5*a.measureText("3").getWidth();a.restore();return f};l.internal.calculateX=function(f,k,m,d){d=d||12;m=m||"helvetica";var a={text:"",fontSize:""};k="("==k.substr(0,1)?k.substr(1):k;k=")"==k.substr(k.length-1)?k.substr(0,k.length-1):k;var w=k.split(" "),
e=l.Appearance.internal.getHeight(f)||0,e=0>e?-e:e,h=l.Appearance.internal.getWidth(f)||0,h=0>h?-h:h;d++;a:for(;;){k="";d--;var t=l.internal.calculateFontSpace("3",d+"px",m).height,p=f.multiline?e-d:(e-t)/2,p=p+2,c=-2,n=c=0,C=0;if(0==d){d=12;k="(...) Tj\n";k+="% Width of Text: "+l.internal.calculateFontSpace(k,"1px").width+", FieldWidth:"+h+"\n";break}var C=l.internal.calculateFontSpace(w[0]+" ",d+"px",m).width,B="",N=0,D;for(D in w){var B=B+(w[D]+" "),B=" "==B.substr(B.length-1)?B.substr(0,B.length-
1):B,X=parseInt(D),C=l.internal.calculateFontSpace(B+" ",d+"px",m).width;C=X+1<w.length?l.internal.calculateFontSpace(B+" "+w[X+1],d+"px",m).width<=h-4:!1;var q=D>=w.length-1;if(C&&!q)B+=" ";else{if(!C&&!q)if(f.multiline){if((t+2)*(N+2)+2>e)continue a;n=X}else continue a;else if(q)n=X;else if(f.multiline&&(t+2)*(N+2)+2>e)continue a;for(B="";c<=n;c++)B+=w[c]+" ";B=" "==B.substr(B.length-1)?B.substr(0,B.length-1):B;C=l.internal.calculateFontSpace(B,d+"px",m).width;switch(f.Q){case 2:c=h-C-2;break;case 1:c=
(h-C)/2;break;default:c=2}k+=c+" "+p+" Td\n";k+="("+B+") Tj\n";k+=-c+" 0 Td\n";p=-(d+2);C=0;c=n+1;N++;B=""}}break}a.text=k;a.fontSize=d;return a};l.internal.calculateAppearanceStream=function(f){if(f.appearanceStreamContent)return f.appearanceStreamContent;if(f.V||f.DV){var k="",m=l.internal.calculateX(f,f.V||f.DV),k=k+("/Tx BMC\nq\n/F1 "+m.fontSize+" Tf\n1 0 0 1 0 0 Tm\n"),k=k+"BT\n"+m.text,k=k+"ET\nQ\nEMC\n";f=new l.createFormXObject(f);f.stream=k;return f}};l.internal.calculateCoordinates=function(f,
k,m,d){var a,w;this.internal?Array.isArray(f)?(f[0]=l.scale(f[0]),f[1]=l.scale(f[1]),f[2]=l.scale(f[2]),f[3]=l.scale(f[3]),a=f[0]||0,w=this.internal.pageSize.getHeight()*this.internal.scaleFactor-f[3]-f[1]||0,m=f[0]+f[2]||0,f=this.internal.pageSize.getHeight()*this.internal.scaleFactor-f[1]||0):(f=l.scale(f),k=l.scale(k),m=l.scale(m),d=l.scale(d),a=f||0,w=this.internal.pageSize.getHeight()-k||0,m=f+m||0,f=this.internal.pageSize.getHeight()-k+d||0):Array.isArray(f)?(a=f[0]||0,w=f[1]||0,m=f[0]+f[2]||
0,f=f[1]+f[3]||0):(a=f||0,w=k||0,m=f+m||0,f=k+d||0);return[a,w,m,f]};l.internal.calculateColor=function(f,k,m){var d=Array(3);d.r=f|0;d.g=k|0;d.b=m|0;return d};l.internal.getBitPosition=function(f,k){return(f||0)|1<<k-1};l.internal.setBitPosition=function(f,k,m){f=f||0;k=1<<k-1;return 1==(m||1)?f|k:f&~k};(function(f){f.addHTML=function(k,m,d,a,w){if("undefined"===typeof f.html2canvas&&"undefined"===typeof rasterizeHTML)throw Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");
"number"!==typeof m&&(a=m,w=d);"function"===typeof a&&(w=a,a=null);var e=this.internal,h=e.scaleFactor,t=e.pageSize.getWidth(),p=e.pageSize.getHeight();a=a||{};a.onrendered=function(c){m=parseInt(m)||0;d=parseInt(d)||0;var e=a.dim||{},f=e.h||0,k=e.w||Math.min(t,c.width/h)-m,l="JPEG";a.format&&(l=a.format);if(c.height>p&&a.pagesplit)f=function(){for(var a=0;;){var e=document.createElement("canvas");e.width=Math.min(t*h,c.width);e.height=Math.min(p*h,c.height-a);e.getContext("2d").drawImage(c,0,a,c.width,
e.height,0,0,e.width,e.height);var n=[e,m,a?0:d,e.width/h,e.height/h,l,null,"SLOW"];this.addImage.apply(this,n);a+=e.height;if(a>=c.height)break;this.addPage()}w(k,a,null,n)}.bind(this),"CANVAS"===c.nodeName?(e=new Image,e.onload=f,e.src=c.toDataURL("image/png"),c=e):f();else{var e=Math.random().toString(35),D=[c,m,d,k,f,l,e,"SLOW"];this.addImage.apply(this,D);w(k,f,e,D)}}.bind(this);return"undefined"===typeof f.html2canvas||a.rstz?"undefined"!==typeof rasterizeHTML?(e="drawDocument","string"===typeof k&&
(e=/^http/.test(k)?"drawURL":"drawHTML"),a.width=a.width||t*h,rasterizeHTML[e](k,void 0,a).then(function(c){a.onrendered(c.image)},function(c){w(null,c)})):null:f.html2canvas(k,a)}})(q.API);(function(f){var k=["jpeg","jpg","png"],m=function c(a){var e=this.internal.newObject(),h=this.internal.write,d=this.internal.putStream;a.n=e;h("\x3c\x3c/Type /XObject");h("/Subtype /Image");h("/Width "+a.w);h("/Height "+a.h);a.cs===this.color_spaces.INDEXED?h("/ColorSpace [/Indexed /DeviceRGB "+(a.pal.length/
3-1)+" "+("smask"in a?e+2:e+1)+" 0 R]"):(h("/ColorSpace /"+a.cs),a.cs===this.color_spaces.DEVICE_CMYK&&h("/Decode [1 0 1 0 1 0 1 0]"));h("/BitsPerComponent "+a.bpc);"f"in a&&h("/Filter /"+a.f);"dp"in a&&h("/DecodeParms \x3c\x3c"+a.dp+"\x3e\x3e");if("trns"in a&&a.trns.constructor==Array){for(var n="",f=0,k=a.trns.length;f<k;f++)n+=a.trns[f]+" "+a.trns[f]+" ";h("/Mask ["+n+"]")}"smask"in a&&h("/SMask "+(e+1)+" 0 R");h("/Length "+a.data.length+"\x3e\x3e");d(a.data);h("endobj");"smask"in a&&(e={w:a.w,
h:a.h,cs:"DeviceGray",bpc:a.bpc,dp:"/Predictor "+a.p+" /Colors 1 /BitsPerComponent "+a.bpc+" /Columns "+a.w,data:a.smask},"f"in a&&(e.f=a.f),c.call(this,e));a.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),h("\x3c\x3c /Length "+a.pal.length+"\x3e\x3e"),d(this.arrayBufferToBinaryString(new Uint8Array(a.pal))),h("endobj"))},d=function(){var c=this.internal.collections.addImage_images,a;for(a in c)m.call(this,c[a])},a=function(){var c=this.internal.collections.addImage_images,a=this.internal.write,
e,h;for(h in c)e=c[h],a("/I"+e.i,e.n,"0","R")},w=function(c){c&&"string"===typeof c&&(c=c.toUpperCase());return c in f.image_compression?c:f.image_compression.NONE},e=function(c){var a=0;if(c){if(Object.keys)c=Object.keys(c).length;else{var a=0,e;for(e in c)c.hasOwnProperty(e)&&a++;c=a}a=c}return a},h=function(c){return"object"===("undefined"===typeof c?"undefined":u(c))&&1===c.nodeType},t=function(c,a){var e;if(a)for(var h in a)if(c===a[h].alias){e=a[h];break}return e};f.color_spaces={DEVICE_RGB:"DeviceRGB",
DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};f.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};f.image_compression={NONE:"NONE",FAST:"FAST",
MEDIUM:"MEDIUM",SLOW:"SLOW"};f.sHashCode=function(c){return Array.prototype.reduce&&c.split("").reduce(function(c,a){c=(c<<5)-c+a.charCodeAt(0);return c&c},0)};f.isString=function(c){return"string"===typeof c};f.extractInfoFromBase64DataURI=function(c){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(c)};f.supportsArrayBuffer=function(){return"undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array};f.isArrayBuffer=function(c){return this.supportsArrayBuffer()?c instanceof ArrayBuffer:
!1};f.isArrayBufferView=function(c){return this.supportsArrayBuffer()&&"undefined"!==typeof Uint32Array?c instanceof Int8Array||c instanceof Uint8Array||"undefined"!==typeof Uint8ClampedArray&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array:!1};f.binaryStringToUint8Array=function(c){for(var a=c.length,e=new Uint8Array(a),h=0;h<a;h++)e[h]=c.charCodeAt(h);return e};
f.arrayBufferToBinaryString=function(c){this.isArrayBuffer(c)&&(c=new Uint8Array(c));for(var a="",e=c.byteLength,h=0;h<e;h++)a+=String.fromCharCode(c[h]);return a};f.arrayBufferToBase64=function(c){var a="";c=new Uint8Array(c);for(var e=c.byteLength,h=e%3,e=e-h,d,f,k,t,w=0;w<e;w+=3)t=c[w]<<16|c[w+1]<<8|c[w+2],d=(t&16515072)>>18,f=(t&258048)>>12,k=(t&4032)>>6,t&=63,a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[f]+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[k]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[t];1==h?(t=c[e],a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(t&252)>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(t&3)<<4]+"\x3d\x3d"):2==h&&(t=c[e]<<8|c[e+1],a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(t&64512)>>10]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(t&
1008)>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(t&15)<<2]+"\x3d");return a};f.createImageInfo=function(c,a,e,h,d,f,t,k,w,m,l,q,y){c={alias:k,w:a,h:e,cs:h,bpc:d,i:t,data:c};f&&(c.f=f);w&&(c.dp=w);m&&(c.trns=m);l&&(c.pal=l);q&&(c.smask=q);y&&(c.p=y);return c};f.addImage=function(c,n,m,B,l,D,q,y,v){if("string"!==typeof n){var C=D;D=l;l=B;B=m;m=n;n=C}"object"===("undefined"===typeof c?"undefined":u(c))&&!h(c)&&"imageData"in c&&(C=c,c=C.imageData,n=C.format||n,m=C.x||m||0,
B=C.y||B||0,l=C.w||l,D=C.h||D,q=C.alias||q,y=C.compression||y,v=C.rotation||C.angle||v);if(isNaN(m)||isNaN(B))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),Error("Invalid coordinates passed to jsPDF.addImage");C=this.internal.collections.addImage_images;C||(this.internal.collections.addImage_images=C={},this.internal.events.subscribe("putResources",d),this.internal.events.subscribe("putXobjectDict",a));var N;if(!(N=t(c,C))){var X;if(h(c))a:{N=c;var aa=n,P=v;if("IMG"===N.nodeName&&
N.hasAttribute("src")){var S=""+N.getAttribute("src");if(!P&&0===S.indexOf("data:image/")){c=S;break a}!aa&&/\.png(?:[?#].*)?$/i.test(S)&&(aa="png")}if("CANVAS"===N.nodeName)S=N;else{S=document.createElement("canvas");S.width=N.clientWidth||N.width;S.height=N.clientHeight||N.height;var O=S.getContext("2d");if(!O)throw"addImage requires canvas to be supported by browser.";if(P){var U,L,V,x,ia,z;x=Math.PI/180;var T;"object"===("undefined"===typeof P?"undefined":u(P))&&(U=P.x,L=P.y,V=P.bg,P=P.angle);
T=P*x;P=Math.abs(Math.cos(T));x=Math.abs(Math.sin(T));ia=S.width;z=S.height;S.width=z*x+ia*P;S.height=z*P+ia*x;isNaN(U)&&(U=S.width/2);isNaN(L)&&(L=S.height/2);O.clearRect(0,0,S.width,S.height);O.fillStyle=V||"white";O.fillRect(0,0,S.width,S.height);O.save();O.translate(U,L);O.rotate(T);O.drawImage(N,-(ia/2),-(z/2));O.rotate(-T);O.translate(-U,-L);O.restore()}else O.drawImage(N,0,0,S.width,S.height)}c=S.toDataURL("png"==(""+aa).toLowerCase()?"image/png":"image/jpeg")}if("undefined"===typeof q||null===
q)q="string"===typeof c&&f.sHashCode(c);if(!(N=t(q,C))){this.isString(c)&&((U=this.extractInfoFromBase64DataURI(c))?(n=U[2],c=atob(U[3])):137===c.charCodeAt(0)&&80===c.charCodeAt(1)&&78===c.charCodeAt(2)&&71===c.charCodeAt(3)&&(n="png"));n=(n||"JPEG").toLowerCase();if(-1===k.indexOf(n))throw Error("addImage currently only supports formats "+k+", not '"+n+"'");if("function"!==typeof f["process"+n.toUpperCase()])throw Error("please ensure that the plugin for '"+n+"' support is added");!this.supportsArrayBuffer()||
c instanceof Uint8Array||(X=c,c=this.binaryStringToUint8Array(c));N=this["process"+n.toUpperCase()](c,e(C),q,w(y),X);if(!N)throw Error("An unkwown error occurred whilst processing the image");}}X=m;U=B;L=N;V=N.i;N=l;aa=D;N||aa||(aa=N=-96);0>N&&(N=-72*L.w/N/this.internal.scaleFactor);0>aa&&(aa=-72*L.h/aa/this.internal.scaleFactor);0===N&&(N=aa*L.w/L.h);0===aa&&(aa=N*L.h/L.w);O=[N,aa];aa=this.internal.getCoordinateString;S=this.internal.getVerticalCoordinateString;N=O[0];O=O[1];C[V]=L;this.internal.write("q",
aa(N),"0 0",aa(O),aa(X),S(U+O),"cm /I"+L.i,"Do Q");return this};f.processJPEG=function(c,a,e,h,d){h=this.color_spaces.DEVICE_RGB;var f=this.decode.DCT_DECODE,n;if(this.isString(c)){a:{d=c;var t,k;if(255===!d.charCodeAt(0)||216===!d.charCodeAt(1)||255===!d.charCodeAt(2)||224===!d.charCodeAt(3)||74===!d.charCodeAt(6)||70===!d.charCodeAt(7)||73===!d.charCodeAt(8)||70===!d.charCodeAt(9)||0===!d.charCodeAt(10))throw Error("getJpegSize requires a binary string jpeg file");t=256*d.charCodeAt(4)+d.charCodeAt(5);
n=4;for(k=d.length;n<k;){n+=t;if(255!==d.charCodeAt(n))throw Error("getJpegSize could not find the size of the image");if(192===d.charCodeAt(n+1)||193===d.charCodeAt(n+1)||194===d.charCodeAt(n+1)||195===d.charCodeAt(n+1)||196===d.charCodeAt(n+1)||197===d.charCodeAt(n+1)||198===d.charCodeAt(n+1)||199===d.charCodeAt(n+1)){k=256*d.charCodeAt(n+5)+d.charCodeAt(n+6);t=256*d.charCodeAt(n+7)+d.charCodeAt(n+8);d=d.charCodeAt(n+9);n=[t,k,d];break a}else n+=2,t=256*d.charCodeAt(n)+d.charCodeAt(n+1)}n=void 0}return this.createImageInfo(c,
n[0],n[1],1==n[3]?this.color_spaces.DEVICE_GRAY:h,8,f,a,e)}this.isArrayBuffer(c)&&(c=new Uint8Array(c));if(this.isArrayBufferView(c)){a:{t=c;if(65496!==(t[0]<<8|t[1]))throw Error("Supplied data is not a JPEG");k=t.length;for(var w=(t[4]<<8)+t[5],m=4;m<k;){m+=w;n=t.subarray(m,m+5);w=(n[2]<<8)+n[3];if((192===n[1]||194===n[1])&&255===n[0]&&7<w){n=m+5;n=t.subarray(n,n+5);t=(n[2]<<8)+n[3];k=(n[0]<<8)+n[1];n=n[4];n={width:t,height:k,numcomponents:n};break a}m+=2}throw Error("getJpegSizeFromBytes could not find the size of the image");
}c=d||this.arrayBufferToBinaryString(c);return this.createImageInfo(c,n.width,n.height,1==n.numcomponents?this.color_spaces.DEVICE_GRAY:h,8,f,a,e)}return null};f.processJPG=function(){return this.processJPEG.apply(this,arguments)}})(q.API);(function(f){var k={annotations:[],f2:function(f){return f.toFixed(2)},notEmpty:function(f){if("undefined"!=typeof f&&""!=f)return!0}};q.API.annotationPlugin=k;q.API.events.push(["addPage",function(f){this.annotationPlugin.annotations[f.pageNumber]=[]}]);f.events.push(["putPage",
function(f){for(var d=this.annotationPlugin.annotations[f.pageNumber],a=!1,w=0;w<d.length&&!a;w++){var e=d[w];switch(e.type){case "link":if(k.notEmpty(e.options.url)||k.notEmpty(e.options.pageNumber)){a=!0;break}case "reference":case "text":case "freetext":a=!0}}if(0!=a){this.internal.write("/Annots [");for(var a=this.annotationPlugin.f2,h=this.internal.scaleFactor,t=this.internal.pageSize.getHeight(),p=this.internal.getPageInfo(f.pageNumber),w=0;w<d.length;w++)switch(e=d[w],e.type){case "reference":this.internal.write(" "+
e.object.objId+" 0 R ");break;case "text":var c=this.internal.newAdditionalObject(),n=this.internal.newAdditionalObject(),m=e.title||"Note",B="/Rect ["+a(e.bounds.x*h)+" "+a(t-(e.bounds.y+e.bounds.h)*h)+" "+a((e.bounds.x+e.bounds.w)*h)+" "+a((t-e.bounds.y)*h)+"] ";f="\x3c\x3c/Type /Annot /Subtype /Text "+B+"/Contents ("+e.contents+")";f+=" /Popup "+n.objId+" 0 R";f+=" /P "+p.objId+" 0 R";f+=" /T ("+m+") \x3e\x3e";c.content=f;f=c.objId+" 0 R";B="/Rect ["+a((e.bounds.x+30)*h)+" "+a(t-(e.bounds.y+e.bounds.h)*
h)+" "+a((e.bounds.x+e.bounds.w+30)*h)+" "+a((t-e.bounds.y)*h)+"] ";f="\x3c\x3c/Type /Annot /Subtype /Popup "+B+" /Parent "+f;e.open&&(f+=" /Open true");f+=" \x3e\x3e";n.content=f;this.internal.write(c.objId,"0 R",n.objId,"0 R");break;case "freetext":B="/Rect ["+a(e.bounds.x*h)+" "+a((t-e.bounds.y)*h)+" "+a(e.bounds.x+e.bounds.w*h)+" "+a(t-(e.bounds.y+e.bounds.h)*h)+"] ";c=e.color||"#000000";f="\x3c\x3c/Type /Annot /Subtype /FreeText "+B+"/Contents ("+e.contents+")";f+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+
c+")";f+=" /Border [0 0 0]";f+=" \x3e\x3e";this.internal.write(f);break;case "link":e.options.name?(B=this.annotations._nameMap[e.options.name],e.options.pageNumber=B.page,e.options.top=B.y):e.options.top||(e.options.top=0);B="/Rect ["+a(e.x*h)+" "+a((t-e.y)*h)+" "+a(e.x+e.w*h)+" "+a(t-(e.y+e.h)*h)+"] ";f="";if(e.options.url)f="\x3c\x3c/Type /Annot /Subtype /Link "+B+"/Border [0 0 0] /A \x3c\x3c/S /URI /URI ("+e.options.url+") \x3e\x3e";else if(e.options.pageNumber)switch(f=this.internal.getPageInfo(e.options.pageNumber),
f="\x3c\x3c/Type /Annot /Subtype /Link "+B+"/Border [0 0 0] /Dest ["+f.objId+" 0 R",e.options.magFactor=e.options.magFactor||"XYZ",e.options.magFactor){case "Fit":f+=" /Fit]";break;case "FitH":f+=" /FitH "+e.options.top+"]";break;case "FitV":e.options.left=e.options.left||0;f+=" /FitV "+e.options.left+"]";break;default:B=a((t-e.options.top)*h),e.options.left=e.options.left||0,"undefined"===typeof e.options.zoom&&(e.options.zoom=0),f+=" /XYZ "+e.options.left+" "+B+" "+e.options.zoom+"]"}""!=f&&(f+=
" \x3e\x3e",this.internal.write(f))}this.internal.write("]")}}]);f.createAnnotation=function(f){switch(f.type){case "link":this.link(f.bounds.x,f.bounds.y,f.bounds.w,f.bounds.h,f);break;case "text":case "freetext":this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push(f)}};f.link=function(f,d,a,k,e){this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({x:f,y:d,w:a,h:k,options:e,type:"link"})};f.link=function(f,d,a,k,e){this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({x:f,
y:d,w:a,h:k,options:e,type:"link"})};f.textWithLink=function(f,d,a,k){var e=this.getTextWidth(f),h=this.internal.getLineHeight();this.text(f,d,a);this.link(d,a+.2*h-h,e,h,k);return e};f.getTextWidth=function(f){var d=this.internal.getFontSize();return this.getStringUnitWidth(f)*d/this.internal.scaleFactor};f.getLineHeight=function(){return this.internal.getLineHeight()};return this})(q.API);(function(f){f.autoPrint=function(){var f;this.internal.events.subscribe("postPutResources",function(){f=this.internal.newObject();
this.internal.write("\x3c\x3c /S/Named /Type/Action /N/Print \x3e\x3e","endobj")});this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+f+" 0 R")});return this}})(q.API);(function(f){f.events.push(["initialized",function(){this.canvas.pdf=this}]);f.canvas={getContext:function(f){this.pdf.context2d._canvas=this;return this.pdf.context2d},style:{}};Object.defineProperty(f.canvas,"width",{get:function(){return this._width},set:function(f){this._width=f;this.getContext("2d").pageWrapX=
f+1}});Object.defineProperty(f.canvas,"height",{get:function(){return this._height},set:function(f){this._height=f;this.getContext("2d").pageWrapY=f+1}});return this})(q.API);(function(f){var k,m,d,a,w={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},e=1,h={left:0,top:0,bottom:0};f.setHeaderFunction=function(e){a=e};f.getTextDimensions=function(a){k=this.internal.getFont().fontName;m=this.table_font_size||this.internal.getFontSize();d=this.internal.getFont().fontStyle;var e=19.049976/25.4,c;c=document.createElement("font");
c.id="jsPDFCell";try{c.style.fontStyle=d}catch(n){c.style.fontWeight=d}c.style.fontName=k;c.style.fontSize=m+"pt";try{c.textContent=a}catch(n){c.innerText=a}document.body.appendChild(c);a={w:(c.offsetWidth+1)*e,h:(c.offsetHeight+1)*e};document.body.removeChild(c);return a};f.cellAddPage=function(){var a=this.margins||h;this.addPage();w={x:a.left,y:a.top,w:void 0,h:void 0,ln:void 0};e+=1};f.cellInitialize=function(){w={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0};e=1};f.cell=function(a,e,c,d,f,k,
m){var n=w,p=!1;void 0!==n.ln&&(n.ln===k?(a=n.x+n.w,e=n.y):(e=this.margins||h,n.y+n.h+d+13>=this.internal.pageSize.getHeight()-e.bottom&&(this.cellAddPage(),p=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(k,!0)),e=w.y+w.h,p&&(e=23)));if(void 0!==f[0])if(this.printingHeaderRow?this.rect(a,e,c,d,"FD"):this.rect(a,e,c,d),"right"===m)for(f instanceof Array||(f=[f]),m=0;m<f.length;m++)n=f[m],p=this.getStringUnitWidth(n)*this.internal.getFontSize(),this.text(n,a+c-p-3,e+this.internal.getLineHeight()*
(m+1));else this.text(f,a+3,e+this.internal.getLineHeight());w={x:a,y:e,w:c,h:d,ln:k};return this};f.arrayMax=function(a,e){var c=a[0],h,d,f;h=0;for(d=a.length;h<d;h+=1)f=a[h],e?-1===e(c,f)&&(c=f):f>c&&(c=f);return c};f.table=function(a,d,c,n,k){if(!c)throw"No data for PDF table";var p=[],t=[],m,l,C,q={},y={},u,v,x=[],P=[],S;C=!1;var O=!0;l=12;u=h;u.width=this.internal.pageSize.getWidth();k&&(!0===k.autoSize&&(C=!0),!1===k.printHeaders&&(O=!1),k.fontSize&&(l=k.fontSize),k.css&&"undefined"!==typeof k.css["font-size"]&&
(l=16*k.css["font-size"]),k.margins&&(u=k.margins));this.lnMod=0;w={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0};e=1;this.printHeaders=O;this.margins=u;this.setFontSize(l);this.table_font_size=l;if(void 0===n||null===n)p=Object.keys(c[0]);else if(n[0]&&"string"!==typeof n[0])for(u=19.049976/25.4,k=0,l=n.length;k<l;k+=1)m=n[k],p.push(m.name),t.push(m.prompt),y[m.name]=m.width*u;else p=n;if(C)for(S=function(c){return c[m]},k=0,l=p.length;k<l;k+=1){m=p[k];q[m]=c.map(S);x.push(this.getTextDimensions(t[k]||
m).w);v=q[m];n=0;for(C=v.length;n<C;n+=1)u=v[n],x.push(this.getTextDimensions(u).w);y[m]=f.arrayMax(x);x=[]}if(O){q=this.calculateLineHeight(p,y,t.length?t:p);k=0;for(l=p.length;k<l;k+=1)m=p[k],P.push([a,d,y[m],q,String(t.length?t[k]:m)]);this.setTableHeaderRow(P);this.printHeaderRow(1,!1)}k=0;for(l=c.length;k<l;k+=1)for(t=c[k],q=this.calculateLineHeight(p,y,t),n=0,P=p.length;n<P;n+=1)m=p[n],this.cell(a,d,y[m],q,t[m],k+2,m.align);this.lastCellPos=w;this.table_x=a;this.table_y=d;return this};f.calculateLineHeight=
function(a,e,c){for(var h,d=0,f=0;f<a.length;f++)h=a[f],c[h]=this.splitTextToSize(String(c[h]),e[h]-3),h=this.internal.getLineHeight()*c[h].length+3,h>d&&(d=h);return d};f.setTableHeaderRow=function(a){this.tableHeaderRow=a};f.printHeaderRow=function(h,d){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var c,f,k;this.printingHeaderRow=!0;void 0!==a&&(f=a(this,e),w={x:f[0],y:f[1],w:f[2],h:f[3],ln:-1});this.setFontStyle("bold");var p=[];f=0;for(k=this.tableHeaderRow.length;f<
k;f+=1)this.setFillColor(200,200,200),c=this.tableHeaderRow[f],d&&(this.margins.top=13,c[1]=this.margins&&this.margins.top||0,p.push(c)),c=[].concat(c),this.cell.apply(this,c.concat(h));0<p.length&&this.setTableHeaderRow(p);this.setFontStyle("normal");this.printingHeaderRow=!1}})(q.API);(function(f){function k(){this._isStrokeTransparent=!1;this._strokeOpacity=1;this.fillStyle=this.strokeStyle="#000000";this._isFillTransparent=!1;this._fillOpacity=1;this.font="12pt times";this.textBaseline="alphabetic";
this.textAlign="start";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this._transform=[1,0,0,1,0,0];this.globalCompositeOperation="normal";this.globalAlpha=1;this._clip_path=[];this.ignoreClearRect=!1;this.copy=function(d){this._isStrokeTransparent=d._isStrokeTransparent;this._strokeOpacity=d._strokeOpacity;this.strokeStyle=d.strokeStyle;this._isFillTransparent=d._isFillTransparent;this._fillOpacity=d._fillOpacity;this.fillStyle=d.fillStyle;this.font=d.font;this.lineWidth=d.lineWidth;
this.lineJoin=d.lineJoin;this.lineCap=d.lineCap;this.textBaseline=d.textBaseline;this.textAlign=d.textAlign;this._fontSize=d._fontSize;this._transform=d._transform.slice(0);this.globalCompositeOperation=d.globalCompositeOperation;this.globalAlpha=d.globalAlpha;this._clip_path=d._clip_path.slice(0);this.ignoreClearRect=d.ignoreClearRect}}f.events.push(["initialized",function(){this.context2d.pdf=this;this.context2d.internal.pdf=this;this.context2d.ctx=new k;this.context2d.ctxStack=[];this.context2d.path=
[]}]);f.context2d={pageWrapXEnabled:!1,pageWrapYEnabled:!1,pageWrapX:9999999,pageWrapY:9999999,ctx:new k,f2:function(d){return d.toFixed(2)},fillRect:function(d,a,f,e){this._isFillTransparent()||(d=this._wrapX(d),a=this._wrapY(a),d=this._matrix_map_rect(this.ctx._transform,{x:d,y:a,w:f,h:e}),this.pdf.rect(d.x,d.y,d.w,d.h,"f"))},strokeRect:function(d,a,f,e){this._isStrokeTransparent()||(d=this._wrapX(d),a=this._wrapY(a),d=this._matrix_map_rect(this.ctx._transform,{x:d,y:a,w:f,h:e}),this.pdf.rect(d.x,
d.y,d.w,d.h,"s"))},clearRect:function(d,a,f,e){this.ctx.ignoreClearRect||(d=this._wrapX(d),a=this._wrapY(a),d=this._matrix_map_rect(this.ctx._transform,{x:d,y:a,w:f,h:e}),this.save(),this.setFillStyle("#ffffff"),this.pdf.rect(d.x,d.y,d.w,d.h,"f"),this.restore())},save:function(){this.ctx._fontSize=this.pdf.internal.getFontSize();var d=new k;d.copy(this.ctx);this.ctxStack.push(this.ctx);this.ctx=d},restore:function(){this.ctx=this.ctxStack.pop();this.setFillStyle(this.ctx.fillStyle);this.setStrokeStyle(this.ctx.strokeStyle);
this.setFont(this.ctx.font);this.pdf.setFontSize(this.ctx._fontSize);this.setLineCap(this.ctx.lineCap);this.setLineWidth(this.ctx.lineWidth);this.setLineJoin(this.ctx.lineJoin)},rect:function(d,a,f,e){this.moveTo(d,a);this.lineTo(d+f,a);this.lineTo(d+f,a+e);this.lineTo(d,a+e);this.lineTo(d,a);this.closePath()},beginPath:function(){this.path=[]},closePath:function(){this.path.push({type:"close"})},_getRgba:function(d){var a={};if(this.internal.rxTransparent.test(d))a.r=0,a.g=0,a.b=0,a.a=0;else{var f=
this.internal.rxRgb.exec(d);null!=f?(a.r=parseInt(f[1]),a.g=parseInt(f[2]),a.b=parseInt(f[3]),a.a=1):(f=this.internal.rxRgba.exec(d),null!=f?(a.r=parseInt(f[1]),a.g=parseInt(f[2]),a.b=parseInt(f[3]),a.a=parseFloat(f[4])):(a.a=1,"#"!=d.charAt(0)&&((d=v.colorNameToHex(d))||(d="#000000")),4===d.length?(a.r=d.substring(1,2),a.r+=r,a.g=d.substring(2,3),a.g+=g,a.b=d.substring(3,4),a.b+=b):(a.r=d.substring(1,3),a.g=d.substring(3,5),a.b=d.substring(5,7)),a.r=parseInt(a.r,16),a.g=parseInt(a.g,16),a.b=parseInt(a.b,
16)))}a.style=d;return a},setFillStyle:function(d){var a,f,e,h;this.internal.rxTransparent.test(d)?h=e=f=a=0:(h=this.internal.rxRgb.exec(d),null!=h?(a=parseInt(h[1]),f=parseInt(h[2]),e=parseInt(h[3]),h=1):(h=this.internal.rxRgba.exec(d),null!=h?(a=parseInt(h[1]),f=parseInt(h[2]),e=parseInt(h[3]),h=parseFloat(h[4])):(h=1,"#"!=d.charAt(0)&&((d=v.colorNameToHex(d))||(d="#000000")),4===d.length?(a=d.substring(1,2),a+=a,f=d.substring(2,3),f+=f,e=d.substring(3,4),e+=e):(a=d.substring(1,3),f=d.substring(3,
5),e=d.substring(5,7)),a=parseInt(a,16),f=parseInt(f,16),e=parseInt(e,16))));this.ctx.fillStyle=d;this.ctx._isFillTransparent=0==h;this.ctx._fillOpacity=h;this.pdf.setFillColor(a,f,e,{a:h});this.pdf.setTextColor(a,f,e,{a:h})},setStrokeStyle:function(d){d=this._getRgba(d);this.ctx.strokeStyle=d.style;this.ctx._isStrokeTransparent=0==d.a;this.ctx._strokeOpacity=d.a;0===d.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(d.r,d.g,d.b)},fillText:function(d,a,f,e){if(!this._isFillTransparent()){a=
this._wrapX(a);f=this._wrapY(f);f=this._matrix_map_point(this.ctx._transform,[a,f]);a=f[0];f=f[1];e=57.2958*this._matrix_rotation(this.ctx._transform);if(0<this.ctx._clip_path.length){var h;h=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();h.push("q");var k=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._fill(null,!0);this.ctx._clip_path=this.path;this.path=k}k=1;try{k=this._matrix_decompose(this._getTransform()).scale[0]}catch(c){console.warn(c)}if(.01>
k)this.pdf.text(d,a,this._getBaseline(f),null,e);else{var p=this.pdf.internal.getFontSize();this.pdf.setFontSize(p*k);this.pdf.text(d,a,this._getBaseline(f),null,e);this.pdf.setFontSize(p)}0<this.ctx._clip_path.length&&h.push("Q")}},strokeText:function(d,a,f,e){if(!this._isStrokeTransparent()){a=this._wrapX(a);f=this._wrapY(f);f=this._matrix_map_point(this.ctx._transform,[a,f]);a=f[0];f=f[1];e=57.2958*this._matrix_rotation(this.ctx._transform);if(0<this.ctx._clip_path.length){var h;h=window.outIntercept?
"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();h.push("q");var k=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._fill(null,!0);this.ctx._clip_path=this.path;this.path=k}k=1;try{k=this._matrix_decompose(this._getTransform()).scale[0]}catch(c){console.warn(c)}if(1===k)this.pdf.text(d,a,this._getBaseline(f),{stroke:!0},e);else{var p=this.pdf.internal.getFontSize();this.pdf.setFontSize(p*k);this.pdf.text(d,a,this._getBaseline(f),
{stroke:!0},e);this.pdf.setFontSize(p)}0<this.ctx._clip_path.length&&h.push("Q")}},setFont:function(d){this.ctx.font=d;var a=/\s*(\w+)\s+(\w+)\s+(\w+)\s+([\d\.]+)(px|pt|em)\s+(.*)?/,a=a.exec(d);if(null!=a){var f=a[1];d=a[3];var e=a[4],h=a[5],a=a[6],e="px"===h?Math.floor(parseFloat(e)):"em"===h?Math.floor(parseFloat(e)*this.pdf.getFontSize()):Math.floor(parseFloat(e));this.pdf.setFontSize(e);"bold"===d||"700"===d?this.pdf.setFontStyle("bold"):"italic"===f?this.pdf.setFontStyle("italic"):this.pdf.setFontStyle("normal");
e=a.toLowerCase().split(/\s*,\s*/);-1!=e.indexOf("arial")?e="Arial":-1!=e.indexOf("verdana")?e="Verdana":-1!=e.indexOf("helvetica")?e="Helvetica":-1!=e.indexOf("sans-serif")?e="sans-serif":-1!=e.indexOf("fixed")?e="Fixed":-1!=e.indexOf("monospace")?e="Monospace":-1!=e.indexOf("terminal")?e="Terminal":-1!=e.indexOf("courier")?e="Courier":-1!=e.indexOf("times")?e="Times":-1!=e.indexOf("cursive")?e="Cursive":-1!=e.indexOf("fantasy")?e="Fantasy":(e.indexOf("serif"),e="Serif");this.pdf.setFont(e,"bold"===
d?"bold":"normal")}else a=/\s*(\d+)(pt|px|em)\s+([\w "]+)\s*([\w "]+)?/,a=a.exec(d),null!=a&&(f=a[1],d=a[3],(a=a[4])||(a="normal"),f="em"===h?Math.floor(parseFloat(e)*this.pdf.getFontSize()):Math.floor(parseFloat(f)),this.pdf.setFontSize(f),this.pdf.setFont(d,a))},setTextBaseline:function(d){this.ctx.textBaseline=d},getTextBaseline:function(){return this.ctx.textBaseline},setTextAlign:function(d){this.ctx.textAlign=d},getTextAlign:function(){return this.ctx.textAlign},setLineWidth:function(d){this.ctx.lineWidth=
d;this.pdf.setLineWidth(d)},setLineCap:function(d){this.ctx.lineCap=d;this.pdf.setLineCap(d)},setLineJoin:function(d){this.ctx.lineJoin=d;this.pdf.setLineJoin(d)},moveTo:function(d,a){d=this._wrapX(d);a=this._wrapY(a);a=this._matrix_map_point(this.ctx._transform,[d,a]);d=a[0];a=a[1];this.path.push({type:"mt",x:d,y:a})},_wrapX:function(d){return this.pageWrapXEnabled?d%this.pageWrapX:d},_wrapY:function(d){return this.pageWrapYEnabled?(this._gotoPage(this._page(d)),(d-this.lastBreak)%this.pageWrapY):
d},transform:function(d,a,f,e,h,k){this.ctx._transform=[d,a,f,e,h,k]},setTransform:function(d,a,f,e,h,k){this.ctx._transform=[d,a,f,e,h,k]},_getTransform:function(){return this.ctx._transform},lastBreak:0,pageBreaks:[],_page:function(d){if(this.pageWrapYEnabled){for(var a=this.lastBreak=0,f=0,e=0;e<this.pageBreaks.length;e++)if(d>=this.pageBreaks[e]){a++;0===this.lastBreak&&f++;var h=this.pageBreaks[e]-this.lastBreak;this.lastBreak=this.pageBreaks[e];h=Math.floor(h/this.pageWrapY);f+=h}0===this.lastBreak&&
(h=Math.floor(d/this.pageWrapY)+1,f+=h);return f+a}return this.pdf.internal.getCurrentPageInfo().pageNumber},_gotoPage:function(d){},lineTo:function(d,a){d=this._wrapX(d);a=this._wrapY(a);a=this._matrix_map_point(this.ctx._transform,[d,a]);d=a[0];a=a[1];this.path.push({type:"lt",x:d,y:a})},bezierCurveTo:function(d,a,f,e,h,k){d=this._wrapX(d);a=this._wrapY(a);f=this._wrapX(f);e=this._wrapY(e);h=this._wrapX(h);k=this._wrapY(k);var p;p=this._matrix_map_point(this.ctx._transform,[h,k]);h=p[0];k=p[1];
p=this._matrix_map_point(this.ctx._transform,[d,a]);d=p[0];a=p[1];p=this._matrix_map_point(this.ctx._transform,[f,e]);f=p[0];e=p[1];this.path.push({type:"bct",x1:d,y1:a,x2:f,y2:e,x:h,y:k})},quadraticCurveTo:function(d,a,f,e){d=this._wrapX(d);a=this._wrapY(a);f=this._wrapX(f);e=this._wrapY(e);var h;h=this._matrix_map_point(this.ctx._transform,[f,e]);f=h[0];e=h[1];h=this._matrix_map_point(this.ctx._transform,[d,a]);d=h[0];a=h[1];this.path.push({type:"qct",x1:d,y1:a,x:f,y:e})},arc:function(d,a,f,e,h,
k){d=this._wrapX(d);a=this._wrapY(a);if(!this._matrix_is_identity(this.ctx._transform)){a=this._matrix_map_point(this.ctx._transform,[d,a]);d=a[0];a=a[1];var p=this._matrix_map_point(this.ctx._transform,[0,0]);f=this._matrix_map_point(this.ctx._transform,[0,f]);f=Math.sqrt(Math.pow(f[0]-p[0],2)+Math.pow(f[1]-p[1],2))}this.path.push({type:"arc",x:d,y:a,radius:f,startAngle:e,endAngle:h,anticlockwise:k})},drawImage:function(d,a,f,e,h,k,p,c,n){void 0!==k&&(a=k,f=p,e=c,h=n);a=this._wrapX(a);f=this._wrapY(f);
a=this._matrix_map_rect(this.ctx._transform,{x:a,y:f,w:e,h:h});this._matrix_map_rect(this.ctx._transform,{x:k,y:p,w:c,h:n});k=/data:image\/(\w+).*/i.exec(d);this.pdf.addImage(d,null!=k?k[1]:"png",a.x,a.y,a.w,a.h)},_matrix_multiply:function(d,a){var f=a[0],e=a[1],h=a[2],k=a[3],p=a[4];a=a[5];var c=f*d[0]+e*d[2],n=h*d[0]+k*d[2],m=p*d[0]+a*d[2]+d[4],e=f*d[1]+e*d[3],k=h*d[1]+k*d[3];a=p*d[1]+a*d[3]+d[5];return[c,e,n,k,m,a]},_matrix_rotation:function(d){return Math.atan2(d[2],d[0])},_matrix_decompose:function(d){var a=
d[0],f=d[1],e=d[2],h=d[3],k=Math.sqrt(a*a+f*f),a=a/k,f=f/k,p=a*e+f*h,e=e-a*p,h=h-f*p,c=Math.sqrt(e*e+h*h),p=p/c;h/c*a<e/c*f&&(a=-a,f=-f,p=-p,k=-k);return{scale:[k,0,0,c,0,0],translate:[1,0,0,1,d[4],d[5]],rotate:[a,f,-f,a,0,0],skew:[1,0,p,1,0,0]}},_matrix_map_point:function(d,a){var f=a[0];a=a[1];return[f*d[0]+a*d[2]+d[4],f*d[1]+a*d[3]+d[5]]},_matrix_map_point_obj:function(d,a){d=this._matrix_map_point(d,[a.x,a.y]);return{x:d[0],y:d[1]}},_matrix_map_rect:function(d,a){var f=this._matrix_map_point(d,
[a.x,a.y]);d=this._matrix_map_point(d,[a.x+a.w,a.y+a.h]);return{x:f[0],y:f[1],w:d[0]-f[0],h:d[1]-f[1]}},_matrix_is_identity:function(d){return 1!=d[0]||0!=d[1]||0!=d[2]||1!=d[3]||0!=d[4]||0!=d[5]?!1:!0},rotate:function(d){this.ctx._transform=this._matrix_multiply(this.ctx._transform,[Math.cos(d),Math.sin(d),-Math.sin(d),Math.cos(d),0,0])},scale:function(d,a){this.ctx._transform=this._matrix_multiply(this.ctx._transform,[d,0,0,a,0,0])},translate:function(d,a){this.ctx._transform=this._matrix_multiply(this.ctx._transform,
[1,0,0,1,d,a])},stroke:function(){if(0<this.ctx._clip_path.length){var d;d=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();d.push("q");var a=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._stroke(!0);this.ctx._clip_path=this.path;this.path=a;this._stroke(!1);d.push("Q")}else this._stroke(!1)},_stroke:function(d){if(d||!this._isStrokeTransparent()){for(var a=[],f=this.path,e=0;e<f.length;e++){var h=
f[e];switch(h.type){case "mt":a.push({start:h,deltas:[],abs:[]});break;case "lt":var k=[h.x-f[e-1].x,h.y-f[e-1].y];a[a.length-1].deltas.push(k);a[a.length-1].abs.push(h);break;case "bct":k=[h.x1-f[e-1].x,h.y1-f[e-1].y,h.x2-f[e-1].x,h.y2-f[e-1].y,h.x-f[e-1].x,h.y-f[e-1].y];a[a.length-1].deltas.push(k);break;case "qct":k=[f[e-1].x+2/3*(h.x1-f[e-1].x)-f[e-1].x,f[e-1].y+2/3*(h.y1-f[e-1].y)-f[e-1].y,h.x+2/3*(h.x1-h.x)-f[e-1].x,h.y+2/3*(h.y1-h.y)-f[e-1].y,h.x-f[e-1].x,h.y-f[e-1].y];a[a.length-1].deltas.push(k);
break;case "arc":0==a.length&&a.push({start:{x:0,y:0},deltas:[],abs:[]}),a[a.length-1].arc=!0,a[a.length-1].abs.push(h)}}for(e=0;e<a.length;e++)if(f=e==a.length-1?"s":null,a[e].arc)for(h=a[e].abs,k=0;k<h.length;k++){var p=h[k],c=p.x,n=p.y;this.internal.arc2(this,c,n,p.radius,360*p.startAngle/(2*Math.PI),360*p.endAngle/(2*Math.PI),p.anticlockwise,f,d)}else c=a[e].start.x,n=a[e].start.y,d?(this.pdf.lines(a[e].deltas,c,n,null,null),this.pdf.clip_fixed()):this.pdf.lines(a[e].deltas,c,n,null,f)}},_isFillTransparent:function(){return this.ctx._isFillTransparent||
0==this.globalAlpha},_isStrokeTransparent:function(){return this.ctx._isStrokeTransparent||0==this.globalAlpha},fill:function(f){if(0<this.ctx._clip_path.length){var a;a=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();a.push("q");var d=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._fill(f,!0);this.ctx._clip_path=this.path;this.path=d;this._fill(f,!1);a.push("Q")}else this._fill(f,!1)},_fill:function(f,
a){if(!this._isFillTransparent()){var d="function"===typeof this.pdf.internal.newObject2,e;e=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();var h=[],k=window.outIntercept;if(d)switch(this.ctx.globalCompositeOperation){case "normal":case "source-over":break;case "destination-in":case "destination-out":var p=this.pdf.internal.newStreamObject(),c=this.pdf.internal.newObject2();c.push("\x3c\x3c/Type /ExtGState");c.push("/SMask \x3c\x3c/S /Alpha /G "+
p.objId+" 0 R\x3e\x3e");c.push("\x3e\x3e");var n="MASK"+c.objId;this.pdf.internal.addGraphicsState(n,c.objId);n="/"+n+" gs";e.splice(0,0,"q");e.splice(1,0,n);e.push("Q");window.outIntercept=p;break;default:(e="/"+this.pdf.internal.blendModeMap[this.ctx.globalCompositeOperation.toUpperCase()])&&this.pdf.internal.out(e+" gs")}e=this.ctx.globalAlpha;1>this.ctx._fillOpacity&&(e=this.ctx._fillOpacity);d&&(d=this.pdf.internal.newObject2(),d.push("\x3c\x3c/Type /ExtGState"),d.push("/CA "+e),d.push("/ca "+
e),d.push("\x3e\x3e"),n="GS_O_"+d.objId,this.pdf.internal.addGraphicsState(n,d.objId),this.pdf.internal.out("/"+n+" gs"));e=this.path;for(d=0;d<e.length;d++)switch(p=e[d],p.type){case "mt":h.push({start:p,deltas:[],abs:[]});break;case "lt":n=[p.x-e[d-1].x,p.y-e[d-1].y];h[h.length-1].deltas.push(n);h[h.length-1].abs.push(p);break;case "bct":n=[p.x1-e[d-1].x,p.y1-e[d-1].y,p.x2-e[d-1].x,p.y2-e[d-1].y,p.x-e[d-1].x,p.y-e[d-1].y];h[h.length-1].deltas.push(n);break;case "qct":n=[e[d-1].x+2/3*(p.x1-e[d-1].x)-
e[d-1].x,e[d-1].y+2/3*(p.y1-e[d-1].y)-e[d-1].y,p.x+2/3*(p.x1-p.x)-e[d-1].x,p.y+2/3*(p.y1-p.y)-e[d-1].y,p.x-e[d-1].x,p.y-e[d-1].y];h[h.length-1].deltas.push(n);break;case "arc":0===h.length&&h.push({deltas:[],abs:[]});h[h.length-1].arc=!0;h[h.length-1].abs.push(p);break;case "close":h.push({close:!0})}for(d=0;d<h.length;d++)if(d==h.length-1?(n="f","evenodd"===f&&(n+="*")):n=null,h[d].close)this.pdf.internal.out("h"),this.pdf.internal.out("f");else if(h[d].arc)for(h[d].start&&this.internal.move2(this,
h[d].start.x,h[d].start.y),n=h[d].abs,c=0;c<n.length;c++){var l=n[c];if("undefined"!==typeof l.startAngle){var B=360*l.startAngle/(2*Math.PI),N=360*l.endAngle/(2*Math.PI);e=l.x;p=l.y;0===c&&this.internal.move2(this,e,p);this.internal.arc2(this,e,p,l.radius,B,N,l.anticlockwise,null,a);c===n.length-1&&h[d].start&&(e=h[d].start.x,p=h[d].start.y,this.internal.line2(m,e,p))}else this.internal.line2(m,l.x,l.y)}else e=h[d].start.x,p=h[d].start.y,a?(this.pdf.lines(h[d].deltas,e,p,null,null),this.pdf.clip_fixed()):
this.pdf.lines(h[d].deltas,e,p,null,n);window.outIntercept=k}},pushMask:function(){if("function"!==typeof this.pdf.internal.newObject2)console.log("jsPDF v2 not enabled");else{var d=this.pdf.internal.newStreamObject(),a=this.pdf.internal.newObject2();a.push("\x3c\x3c/Type /ExtGState");a.push("/SMask \x3c\x3c/S /Alpha /G "+d.objId+" 0 R\x3e\x3e");a.push("\x3e\x3e");d="MASK"+a.objId;this.pdf.internal.addGraphicsState(d,a.objId);this.pdf.internal.out("/"+d+" gs")}},clip:function(){if(0<this.ctx._clip_path.length)for(var d=
0;d<this.path.length;d++)this.ctx._clip_path.push(this.path[d]);else this.ctx._clip_path=this.path;this.path=[]},measureText:function(d){var a=this.pdf;return{getWidth:function(){var f=a.internal.getFontSize();return a.getStringUnitWidth(d)*f/a.internal.scaleFactor*1.3333}}},_getBaseline:function(d){var a=parseInt(this.pdf.internal.getFontSize()),f=.25*a;switch(this.ctx.textBaseline){case "bottom":return d-f;case "top":return d+a;case "hanging":return d+a-f;case "middle":return d+a/2-f;case "ideographic":return d;
default:return d}}};var m=f.context2d;Object.defineProperty(m,"fillStyle",{set:function(d){this.setFillStyle(d)},get:function(){return this.ctx.fillStyle}});Object.defineProperty(m,"strokeStyle",{set:function(d){this.setStrokeStyle(d)},get:function(){return this.ctx.strokeStyle}});Object.defineProperty(m,"lineWidth",{set:function(d){this.setLineWidth(d)},get:function(){return this.ctx.lineWidth}});Object.defineProperty(m,"lineCap",{set:function(d){this.setLineCap(d)},get:function(){return this.ctx.lineCap}});
Object.defineProperty(m,"lineJoin",{set:function(d){this.setLineJoin(d)},get:function(){return this.ctx.lineJoin}});Object.defineProperty(m,"miterLimit",{set:function(d){this.ctx.miterLimit=d},get:function(){return this.ctx.miterLimit}});Object.defineProperty(m,"textBaseline",{set:function(d){this.setTextBaseline(d)},get:function(){return this.getTextBaseline()}});Object.defineProperty(m,"textAlign",{set:function(d){this.setTextAlign(d)},get:function(){return this.getTextAlign()}});Object.defineProperty(m,
"font",{set:function(d){this.setFont(d)},get:function(){return this.ctx.font}});Object.defineProperty(m,"globalCompositeOperation",{set:function(d){this.ctx.globalCompositeOperation=d},get:function(){return this.ctx.globalCompositeOperation}});Object.defineProperty(m,"globalAlpha",{set:function(d){this.ctx.globalAlpha=d},get:function(){return this.ctx.globalAlpha}});Object.defineProperty(m,"ignoreClearRect",{set:function(d){this.ctx.ignoreClearRect=d},get:function(){return this.ctx.ignoreClearRect}});
m.internal={};m.internal.rxRgb=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/;m.internal.rxRgba=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/;m.internal.rxTransparent=/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/;m.internal.arc=function(d,a,f,e,h,k,p,c){var n=this.pdf.internal.scaleFactor,m=this.pdf.internal.pageSize.getHeight(),t=this.pdf.internal.f2;e=this.createArc(e,Math.PI/180*h,Math.PI/180*k,p);for(h=0;h<e.length;h++)k=e[h],0===h?this.pdf.internal.out([t((k.x1+
a)*n),t((m-(k.y1+f))*n),"m",t((k.x2+a)*n),t((m-(k.y2+f))*n),t((k.x3+a)*n),t((m-(k.y3+f))*n),t((k.x4+a)*n),t((m-(k.y4+f))*n),"c"].join(" ")):this.pdf.internal.out([t((k.x2+a)*n),t((m-(k.y2+f))*n),t((k.x3+a)*n),t((m-(k.y3+f))*n),t((k.x4+a)*n),t((m-(k.y4+f))*n),"c"].join(" ")),d._lastPoint={x:a,y:f};null!==c&&this.pdf.internal.out(this.pdf.internal.getStyle(c))};m.internal.arc2=function(d,a,f,e,h,k,p,c,n){n?(this.arc(d,a,f,e,h,k,p,null),this.pdf.clip_fixed()):this.arc(d,a,f,e,h,k,p,c)};m.internal.move2=
function(d,a,f){var e=this.pdf.internal.scaleFactor,h=this.pdf.internal.pageSize.getHeight(),k=this.pdf.internal.f2;this.pdf.internal.out([k(a*e),k((h-f)*e),"m"].join(" "));d._lastPoint={x:a,y:f}};m.internal.line2=function(d,a,f){var e=this.pdf.internal.scaleFactor,h=this.pdf.internal.pageSize.getHeight(),k=this.pdf.internal.f2;a={x:a,y:f};this.pdf.internal.out([k(a.x*e),k((h-a.y)*e),"l"].join(" "));d._lastPoint=a};m.internal.createArc=function(d,a,f,e){var h=2*Math.PI,k=Math.PI/2,p=a;if(p<h||p>h)p%=
h;for(0>p&&(p=h+p);a>f;)a-=h;a=Math.abs(f-a);a<h&&e&&(a=h-a);h=[];for(e=e?-1:1;1E-5<a;)f=p+e*Math.min(a,k),h.push(this.createSmallArc(d,p,f)),a-=Math.abs(f-p),p=f;return h};m.internal.getCurrentPage=function(){return this.pdf.internal.pages[this.pdf.internal.getCurrentPageInfo().pageNumber]};m.internal.createSmallArc=function(d,a,f){var e=(f-a)/2,h=d*Math.cos(e),k=d*Math.sin(e),p=-k,c=h*h+p*p,n=c+h*h+p*k,c=4/3*(Math.sqrt(2*c*n)-n)/(h*k-p*h),k=h-c*p,h=p+c*h,p=-h,c=e+a,e=Math.cos(c),c=Math.sin(c);return{x1:d*
Math.cos(a),y1:d*Math.sin(a),x2:k*e-h*c,y2:k*c+h*e,x3:k*e-p*c,y3:k*c+p*e,x4:d*Math.cos(f),y4:d*Math.sin(f)}};return this})(q.API);(function(f){var k,m,d,a,l,e,h,t,p,c,n,C,B,N,D,q,y,x,z,A;k=function(){function c(){}return function(a){c.prototype=a;return new c}}();c=function(c){var a,e,h,d,f;e=0;h=c.length;a=void 0;for(f=d=!1;!d&&e!==h;)(a=c[e]=c[e].trimLeft())&&(d=!0),e++;for(e=h-1;h&&!f&&-1!==e;)(a=c[e]=c[e].trimRight())&&(f=!0),e--;d=/\s+$/g;f=!0;for(e=0;e!==h;)"\u2028"!=c[e]&&(a=c[e].replace(/\s+/g,
" "),f&&(a=a.trimLeft()),a&&(f=d.test(a)),c[e]=a),e++;return c};n=function(c,a,e,h){this.pdf=c;this.x=a;this.y=e;this.settings=h;this.watchFunctions=[];this.init();return this};C=function(c){var a,e;a=void 0;e=c.split(",");for(c=e.shift();!a&&c;)a=d[c.trim().toLowerCase()],c=e.shift();return a};B=function(c){c="auto"===c?"0px":c;-1<c.indexOf("em")&&!isNaN(Number(c.replace("em","")))&&(c=18.719*Number(c.replace("em",""))+"px");-1<c.indexOf("pt")&&!isNaN(Number(c.replace("pt","")))&&(c=1.333*Number(c.replace("pt",
""))+"px");var a;if(a=N[c])return a;a={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[{css_line_height_string:c}];if(void 0!==a||(a=parseFloat(c)))return N[c]=a/16;a=c.match(/([\d\.]+)(px)/);return 3===a.length?N[c]=parseFloat(a[1])/16:N[c]=1};p=function(c){var d,f;f=function(c){var a;a=function(c){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(c,null):c.currentStyle?c.currentStyle:c.style}(c);return function(c){c=
c.replace(/-\D/g,function(c){return c.charAt(1).toUpperCase()});return a[c]}}(c);c={};d=void 0;c["font-family"]=C(f("font-family"))||"times";c["font-style"]=a[f("font-style")]||"normal";c["text-align"]=l[f("text-align")]||"left";d=e[f("font-weight")]||"normal";"bold"===d&&(c["font-style"]="normal"===c["font-style"]?d:d+c["font-style"]);c["font-size"]=B(f("font-size"))||1;c["line-height"]=B(f("line-height"))||1;c.display="inline"===f("display")?"inline":"block";d="block"===c.display;c["margin-top"]=
d&&B(f("margin-top"))||0;c["margin-bottom"]=d&&B(f("margin-bottom"))||0;c["padding-top"]=d&&B(f("padding-top"))||0;c["padding-bottom"]=d&&B(f("padding-bottom"))||0;c["margin-left"]=d&&B(f("margin-left"))||0;c["margin-right"]=d&&B(f("margin-right"))||0;c["padding-left"]=d&&B(f("padding-left"))||0;c["padding-right"]=d&&B(f("padding-right"))||0;c["page-break-before"]=f("page-break-before")||"auto";c["float"]=h[f("cssFloat")]||"none";c.clear=t[f("clear")]||"none";c.color=f("color");return c};D=function(c,
a,e){var h,f,d,k;d=!1;k=f=void 0;if(h=e["#"+c.id])if("function"===typeof h)d=h(c,a);else for(f=0,k=h.length;!d&&f!==k;)d=h[f](c,a),f++;h=e[c.nodeName];if(!d&&h)if("function"===typeof h)d=h(c,a);else for(f=0,k=h.length;!d&&f!==k;)d=h[f](c,a),f++;return d};A=function(c,a){var e,h,f,d,k,n;e=[];h=[];f=0;n=c.rows[0].cells.length;for(d=c.clientWidth;f<n;)k=c.rows[0].cells[f],h[f]={name:k.textContent.toLowerCase().replace(/\s+/g,""),prompt:k.textContent.replace(/\r?\n/g,""),width:k.clientWidth/d*a.pdf.internal.pageSize.getWidth()},
f++;for(f=1;f<c.rows.length;){k=c.rows[f];d={};for(a=0;a<k.cells.length;)d[h[a].name]=k.cells[a].textContent.replace(/\r?\n/g,""),a++;e.push(d);f++}return{rows:e,headers:h}};var G={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},Z=1;m=function(c,a,e){var h,f,d,n,t,l,B;f=c.childNodes;h=void 0;c=p(c);if(n="block"===c.display)a.setBlockBoundary(),a.setBlockStyle(c);d=0;for(t=f.length;d<t;){h=f[d];if("object"===("undefined"===typeof h?"undefined":u(h))){a.executeWatchFunctions(h);if(1===h.nodeType&&
"HEADER"===h.nodeName){var w=h,H=a.pdf.margins_doc.top;a.pdf.internal.events.subscribe("addPage",function(c){a.y=H;m(w,a,e);a.pdf.margins_doc.top=a.y+10;a.y+=10},!1)}if(8===h.nodeType&&"#comment"===h.nodeName)~h.textContent.indexOf("ADD_PAGE")&&(a.pdf.addPage(),a.y=a.pdf.margins_doc.top);else if(1!==h.nodeType||G[h.nodeName])if(3===h.nodeType){if((l=h.nodeValue)&&"LI"===h.parentNode.nodeName)if("OL"===h.parentNode.parentNode.nodeName)l=Z++ +". "+l;else{B=c["font-size"];var K=(3-.75*B)*a.pdf.internal.scaleFactor,
C=.75*B*a.pdf.internal.scaleFactor,N=1.74*B/a.pdf.internal.scaleFactor;B=function(c,a){this.pdf.circle(c+K,a+C,N,"FD")}}h.ownerDocument.body.compareDocumentPosition(h)&16&&a.addText(l,c)}else"string"===typeof h&&a.addText(h,c);else{var O;"IMG"===h.nodeName&&(O=h.getAttribute("src"),O=q[a.pdf.sHashCode(O)||O]);if(O){a.pdf.internal.pageSize.getHeight()-a.pdf.margins_doc.bottom<a.y+h.height&&a.y>a.pdf.margins_doc.top&&(a.pdf.addPage(),a.y=a.pdf.margins_doc.top,a.executeWatchFunctions(h));l=p(h);var X=
a.x,y=12/a.pdf.internal.scaleFactor,v=(l["margin-left"]+l["padding-left"])*y,P=(l["margin-right"]+l["padding-right"])*y,E=(l["margin-top"]+l["padding-top"])*y,y=(l["margin-bottom"]+l["padding-bottom"])*y,X=void 0!==l["float"]&&"right"===l["float"]?X+(a.settings.width-h.width-P):X+v;a.pdf.addImage(O,X,a.y+E,h.width,h.height);O=void 0;"right"===l["float"]||"left"===l["float"]?(a.watchFunctions.push(function(c,h,e,f){return a.y>=h?(a.x+=c,a.settings.width+=e,!0):f&&1===f.nodeType&&!G[f.nodeName]&&a.x+
f.width>a.pdf.margins_doc.left+a.pdf.margins_doc.width?(a.x+=c,a.y=h,a.settings.width+=e,!0):!1}.bind(this,"left"===l["float"]?-h.width-v-P:0,a.y+h.height+E+y,h.width)),a.watchFunctions.push(function(c,h,e){return a.y<c&&h===a.pdf.internal.getNumberOfPages()?1===e.nodeType&&"both"===p(e).clear?(a.y=c,!0):!1:!0}.bind(this,a.y+h.height,a.pdf.internal.getNumberOfPages())),a.settings.width-=h.width+v+P,"left"===l["float"]&&(a.x+=h.width+v+P)):a.y+=h.height+E+y}else"TABLE"===h.nodeName?(l=A(h,a),a.y+=
10,a.pdf.table(a.x,a.y,l.rows,l.headers,{autoSize:!1,printHeaders:e.printHeaders,margins:a.pdf.margins_doc,css:p(h)}),a.y=a.pdf.lastCellPos.y+a.pdf.lastCellPos.h+20):"OL"===h.nodeName||"UL"===h.nodeName?(Z=1,D(h,a,e)||m(h,a,e),a.y+=10):"LI"===h.nodeName?(l=a.x,a.x+=20/a.pdf.internal.scaleFactor,a.y+=3,D(h,a,e)||m(h,a,e),a.x=l):"BR"===h.nodeName?(a.y+=c["font-size"]*a.pdf.internal.scaleFactor,a.addText("\u2028",k(c))):D(h,a,e)||m(h,a,e)}}d++}e.outY=a.y;if(n)return a.setBlockBoundary(B)};q={};y=function(c,
a,h,e){function f(){a.pdf.internal.events.publish("imagesLoaded");e(k)}function d(c,h,e){if(c){var d=new Image;k=++n;d.crossOrigin="";d.onerror=d.onload=function(){if(d.complete&&(0===d.src.indexOf("data:image/")&&(d.width=h||d.width||0,d.height=e||d.height||0),d.width+d.height)){var k=a.pdf.sHashCode(c)||c;q[k]=q[k]||d}--n||f()};d.src=c}}c=c.getElementsByTagName("img");h=c.length;for(var k,n=0;h--;)d(c[h].getAttribute("src"),c[h].width,c[h].height);return n||f()};x=function(c,a,h){var e=c.getElementsByTagName("footer");
if(0<e.length){e=e[0];c=a.pdf.internal.write;var f=a.y;a.pdf.internal.write=function(){};m(e,a,h);var d=Math.ceil(a.y-f)+5;a.y=f;a.pdf.internal.write=c;a.pdf.margins_doc.bottom+=d;c=function(c){c=void 0!==c?c.pageNumber:1;var f=a.y;a.y=a.pdf.internal.pageSize.getHeight()-a.pdf.margins_doc.bottom;a.pdf.margins_doc.bottom-=d;for(var k=e.getElementsByTagName("span"),n=0;n<k.length;++n)-1<(" "+k[n].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")&&(k[n].innerHTML=c),-1<(" "+k[n].className+
" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(k[n].innerHTML="###jsPDFVarTotalPages###");m(e,a,h);a.pdf.margins_doc.bottom+=d;a.y=f};for(var f=e.getElementsByTagName("span"),k=0;k<f.length;++k)-1<(" "+f[k].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&a.pdf.internal.events.subscribe("htmlRenderingFinished",a.pdf.putTotalPages.bind(a.pdf,"###jsPDFVarTotalPages###"),!0);a.pdf.internal.events.subscribe("addPage",c,!1);c();G.FOOTER=1}};z=function(c,a,e,h,f,d){if(!a)return!1;"string"===
typeof a||a.parentNode||(a=""+a.innerHTML);"string"===typeof a&&(a=function(c){var a,e;e="jsPDFhtmlText"+Date.now().toString()+(1E3*Math.random()).toFixed(0);a=document.createElement("div");a.style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;";a.innerHTML='\x3ciframe style\x3d"height:1px;width:1px" name\x3d"'+
e+'" /\x3e';document.body.appendChild(a);a=window.frames[e];a.document.open();a.document.writeln(c);a.document.close();return a.document.body}(a.replace(/<\/?script[^>]*?>/gi,"")));var k=new n(c,e,h,f),p;y.call(this,a,k,f.elementHandlers,function(c){x(a,k,f.elementHandlers);m(a,k,f.elementHandlers);k.pdf.internal.events.publish("htmlRenderingFinished");p=k.dispose();"function"===typeof d?d(p):c&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")});return p||{x:k.x,y:k.y}};
n.prototype.init=function(){this.paragraph={text:[],style:[]};return this.pdf.internal.write("q")};n.prototype.dispose=function(){this.pdf.internal.write("Q");return{x:this.x,y:this.y,ready:!0}};n.prototype.executeWatchFunctions=function(c){var a=!1,e=[];if(0<this.watchFunctions.length){for(var h=0;h<this.watchFunctions.length;++h)!0===this.watchFunctions[h](c)?a=!0:e.push(this.watchFunctions[h]);this.watchFunctions=e}return a};n.prototype.splitFragmentsIntoLines=function(c,a){var e,h,f,d,n,p,m,t,
l,H,B;m=this.pdf.internal.scaleFactor;d={};e=f=h=B=n=f=p=h=void 0;t=[];l=[t];e=0;for(H=this.settings.width;c.length;)if(n=c.shift(),B=a.shift(),n)if(h=B["font-family"],p=B["font-style"],f=d[h+p],f||(f=this.pdf.internal.getFont(h,p).metadata.Unicode,d[h+p]=f),h={widths:f.widths,kerning:f.kerning,fontSize:12*B["font-size"],textIndent:e},f=this.pdf.getStringUnitWidth(n,h)*h.fontSize/m,"\u2028"==n)t=[],l.push(t);else if(e+f>H){e=this.pdf.splitTextToSize(n,H,h);for(t.push([e.shift(),B]);e.length;)t=[[e.shift(),
B]],l.push(t);e=this.pdf.getStringUnitWidth(t[0][0],h)*h.fontSize/m}else t.push([n,B]),e+=f;if(void 0!==B["text-align"]&&("center"===B["text-align"]||"right"===B["text-align"]||"justify"===B["text-align"]))for(c=0;c<l.length;++c)a=this.pdf.getStringUnitWidth(l[c][0][0],h)*h.fontSize/m,0<c&&(l[c][0][1]=k(l[c][0][1])),a=H-a,"right"===B["text-align"]?l[c][0][1]["margin-left"]=a:"center"===B["text-align"]?l[c][0][1]["margin-left"]=a/2:"justify"===B["text-align"]&&(d=l[c][0][0].split(" ").length-1,l[c][0][1]["word-spacing"]=
a/d,c===l.length-1&&(l[c][0][1]["word-spacing"]=0));return l};n.prototype.RenderTextFragment=function(c,a){var h;h=0;this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),a.color,"Td"),h=Math.max(h,a["line-height"],a["font-size"]),
this.pdf.internal.write(0,(-12*h).toFixed(2),"Td"));h=this.pdf.internal.getFont(a["font-family"],a["font-style"]);var e=this.getPdfColor(a.color);e!==this.lastTextColor&&(this.pdf.internal.write(e),this.lastTextColor=e);void 0!==a["word-spacing"]&&0<a["word-spacing"]&&this.pdf.internal.write(a["word-spacing"].toFixed(2),"Tw");this.pdf.internal.write("/"+h.id,(12*a["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(c)+") Tj");void 0!==a["word-spacing"]&&this.pdf.internal.write(0,"Tw")};
n.prototype.getPdfColor=function(c){var a,h,e=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(c);null!=e?(a=parseInt(e[1]),h=parseInt(e[2]),c=parseInt(e[3])):("#"!=c.charAt(0)&&((c=v.colorNameToHex(c))||(c="#000000")),a=c.substring(1,3),a=parseInt(a,16),h=c.substring(3,5),h=parseInt(h,16),c=c.substring(5,7),c=parseInt(c,16));"string"===typeof a&&/^#[0-9A-Fa-f]{6}$/.test(a)&&(c=parseInt(a.substr(1),16),a=c>>16&255,h=c>>8&255,c&=255);e=this.f3;return 0===a&&0===h&&0===c||"undefined"===typeof h?e(a/255)+
" g":[e(a/255),e(h/255),e(c/255),"rg"].join(" ")};n.prototype.f3=function(c){return c.toFixed(3)};n.prototype.renderParagraph=function(a){var h,e,f,d,k,n,p,m,t,l;e=c(this.paragraph.text);n=this.paragraph.style;h=this.paragraph.blockstyle;this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:h};if(e.join("").trim()){n=this.splitFragmentsIntoLines(e,n);p=k=void 0;e=12/this.pdf.internal.scaleFactor;this.priorMarginBottom=this.priorMarginBottom||0;k=(Math.max((h["margin-top"]||0)-this.priorMarginBottom,
0)+(h["padding-top"]||0))*e;t=((h["margin-bottom"]||0)+(h["padding-bottom"]||0))*e;this.priorMarginBottom=h["margin-bottom"]||0;"always"===h["page-break-before"]&&(this.pdf.addPage(),this.y=0,k=((h["margin-top"]||0)+(h["padding-top"]||0))*e);m=this.pdf.internal.write;d=f=void 0;this.y+=k;m("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var H=0;n.length;){k=n.shift();f=p=0;for(d=k.length;f!==d;)k[f][0].trim()&&(p=Math.max(p,
k[f][1]["line-height"],k[f][1]["font-size"]),l=7*k[f][1]["font-size"]),f++;d=f=0;void 0!==k[0][1]["margin-left"]&&0<k[0][1]["margin-left"]&&(d=this.pdf.internal.getCoordinateString(k[0][1]["margin-left"]),f=d-H,H=d);m(f+Math.max(h["margin-left"]||0,0)*e,(-12*p).toFixed(2),"Td");f=0;for(d=k.length;f!==d;)k[f][0]&&this.RenderTextFragment(k[f][0],k[f][1]),f++;this.y+=p*e;if(this.executeWatchFunctions(k[0][1])&&0<n.length){var B=[],w=[];n.forEach(function(c){for(var a=0,h=c.length;a!==h;)c[a][0]&&(B.push(c[a][0]+
" "),w.push(c[a][1])),++a});n=this.splitFragmentsIntoLines(c(B),w);m("ET","Q");m("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}a&&"function"===typeof a&&a.call(this,this.x-9,this.y-l/2);m("ET","Q");return this.y+=t}};n.prototype.setBlockBoundary=function(c){return this.renderParagraph(c)};n.prototype.setBlockStyle=function(c){return this.paragraph.blockstyle=c};n.prototype.addText=function(c,a){this.paragraph.text.push(c);return this.paragraph.style.push(a)};
d={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"};e={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"};a={normal:"normal",italic:"italic",oblique:"italic"};l={left:"left",right:"right",center:"center",justify:"justify"};h={none:"none",right:"right",left:"left"};t={none:"none",both:"both"};N=
{normal:1};f.fromHTML=function(c,a,h,e,f,d){this.margins_doc=d||{top:0,bottom:0};e||(e={});e.elementHandlers||(e.elementHandlers={});return z(this,c,isNaN(a)?4:a,isNaN(h)?4:h,e,f)}})(q.API);(function(f){var k,m,d;f.addJS=function(a){d=a;this.internal.events.subscribe("postPutResources",function(a){k=this.internal.newObject();this.internal.write("\x3c\x3c /Names [(EmbeddedJS) "+(k+1)+" 0 R] \x3e\x3e","endobj");m=this.internal.newObject();this.internal.write("\x3c\x3c /S /JavaScript /JS (",d,") \x3e\x3e",
"endobj")});this.internal.events.subscribe("putCatalog",function(){void 0!==k&&void 0!==m&&this.internal.write("/Names \x3c\x3c/JavaScript "+k+" 0 R\x3e\x3e")});return this}})(q.API);(function(f){f.events.push(["postPutResources",function(){var f=/^(\d+) 0 obj$/;if(0<this.outline.root.children.length)for(var m=this.outline.render().split(/\r\n/),d=0;d<m.length;d++){var a=m[d],l=f.exec(a);null!=l&&this.internal.newObjectDeferredBegin(l[1]);this.internal.write(a)}if(this.outline.createNamedDestinations){m=
this.internal.pages.length;f=[];for(d=0;d<m;d++)a=this.internal.newObject(),f.push(a),a=this.internal.getPageInfo(d+1),this.internal.write("\x3c\x3c /D["+a.objId+" 0 R /XYZ null null null]\x3e\x3e endobj");m=this.internal.newObject();this.internal.write("\x3c\x3c /Names [ ");for(d=0;d<f.length;d++)this.internal.write("(page_"+(d+1)+")"+f[d]+" 0 R");this.internal.write(" ] \x3e\x3e","endobj");this.internal.newObject();this.internal.write("\x3c\x3c /Dests "+m+" 0 R");this.internal.write("\x3e\x3e",
"endobj")}}]);f.events.push(["putCatalog",function(){0<this.outline.root.children.length&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+namesOid+" 0 R"))}]);f.events.push(["initialized",function(){var f=this;f.outline={createNamedDestinations:!1,root:{children:[]}};f.outline.add=function(f,d,a){d={title:d,options:a,children:[]};null==f&&(f=this.root);f.children.push(d);return d};f.outline.render=function(){this.ctx=
{};this.ctx.val="";this.ctx.pdf=f;this.genIds_r(this.root);this.renderRoot(this.root);this.renderItems(this.root);return this.ctx.val};f.outline.genIds_r=function(k){k.id=f.internal.newObjectDeferred();for(var d=0;d<k.children.length;d++)this.genIds_r(k.children[d])};f.outline.renderRoot=function(f){this.objStart(f);this.line("/Type /Outlines");0<f.children.length&&(this.line("/First "+this.makeRef(f.children[0])),this.line("/Last "+this.makeRef(f.children[f.children.length-1])));this.line("/Count "+
this.count_r({count:0},f));this.objEnd()};f.outline.renderItems=function(k){for(var d=0;d<k.children.length;d++){var a=k.children[d];this.objStart(a);this.line("/Title "+this.makeString(a.title));this.line("/Parent "+this.makeRef(k));0<d&&this.line("/Prev "+this.makeRef(k.children[d-1]));d<k.children.length-1&&this.line("/Next "+this.makeRef(k.children[d+1]));0<a.children.length&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var m=
this.count=this.count_r({count:0},a);0<m&&this.line("/Count "+m);a.options&&a.options.pageNumber&&(a=f.internal.getPageInfo(a.options.pageNumber),this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+this.ctx.pdf.internal.pageSize.getHeight()+" 0]"));this.objEnd()}for(d=0;d<k.children.length;d++)a=k.children[d],this.renderItems(a)};f.outline.line=function(f){this.ctx.val+=f+"\r\n"};f.outline.makeRef=function(f){return f.id+" 0 R"};f.outline.makeString=function(k){return"("+f.internal.pdfEscape(k)+")"};f.outline.objStart=
function(f){this.ctx.val+="\r\n"+f.id+" 0 obj\r\n\x3c\x3c\r\n"};f.outline.objEnd=function(f){this.ctx.val+="\x3e\x3e \r\nendobj\r\n"};f.outline.count_r=function(f,d){for(var a=0;a<d.children.length;a++)f.count++,this.count_r(f,d.children[a]);return f.count}}]);return this})(q.API);(function(f){var k=function(h,k,p,c){var n=5,t=a;switch(c){case f.image_compression.FAST:n=3;t=d;break;case f.image_compression.MEDIUM:n=6;t=w;break;case f.image_compression.SLOW:n=9,t=e}c=h.length/k;for(var l=new Uint8Array(h.length+
c),N=[m,d,a,w,e],D=0,q,y,u;D<c;D++){u=D*k;q=h.subarray(u,u+k);if(t)l.set(t(q,p,y),u+D);else{for(var v=0,x=N.length,G=[];v<x;v++)G[v]=N[v](q,p,y);y=G.concat();for(var v=0,x=y.length,Z=void 0,P=void 0,A=void 0;v<x;){for(var Z=y[v].slice(1),O=0,U=Z.length,L=0;O<U;)L+=Math.abs(Z[O++]);Z=L;if(Z<P||!P)P=Z,A=v;v++}l.set(G[A],u+D)}y=q}h=l;k=Uint8Array;p=Math.LOG2E*Math.log(32768)-8<<4|8;t=p<<8|Math.min(3,0)<<6;t|=0;k=new k([p,t+(31-t%31)&255]);p=1;t=0;c=h.length;for(N=0;0<c;){l=void 0<c?void 0:c;c-=l;do p+=
h[N++],t+=p;while(--l);p%=65521;t%=65521}p=(t<<16|p)>>>0;t=new z(n);n=t.append(h);h=t.flush();t=k.length+n.length+h.length;c=new Uint8Array(t+4);c.set(k);c.set(n,k.length);c.set(h,k.length+n.length);c[t++]=p>>>24&255;c[t++]=p>>>16&255;c[t++]=p>>>8&255;c[t++]=p&255;return f.arrayBufferToBinaryString(c)},m=function(a,e,f){a=Array.apply([],a);a.unshift(0);return a},d=function(a,e,f){f=[];var c=0,h=a.length,d;for(f[0]=1;c<h;c++)d=a[c-e]||0,f[c+1]=a[c]-d+256&255;return f},a=function(a,e,f){e=[];var c=
0,h=a.length,d;for(e[0]=2;c<h;c++)d=f&&f[c]||0,e[c+1]=a[c]-d+256&255;return e},w=function(a,e,f){var c=[],h=0,d=a.length,k,p;for(c[0]=3;h<d;h++)k=a[h-e]||0,p=f&&f[h]||0,c[h+1]=a[h]+256-(k+p>>>1)&255;return c},e=function(a,e,f){var c=[],h=0,d=a.length,k,p,t;for(c[0]=4;h<d;h++){k=a[h-e]||0;p=f&&f[h]||0;t=f&&f[h-e]||0;var m=k+p-t,l=Math.abs(m-k),w=Math.abs(m-p),m=Math.abs(m-t);k=l<=w&&l<=m?k:w<=m?p:t;c[h+1]=a[h]-k+256&255}return c};f.processPNG=function(a,e,d,c,n){n=this.color_spaces.DEVICE_RGB;var h=
this.decode.FLATE_DECODE,p=8,t,m,w,q,u;this.isArrayBuffer(a)&&(a=new Uint8Array(a));if(this.isArrayBufferView(a)){if("function"!==typeof l.PNG||"function"!==typeof y)throw Error("PNG support requires png.js and zlib.js");t=new l.PNG(a);a=t.imgData;p=t.bits;n=t.colorSpace;m=t.colors;if(-1!==[4,6].indexOf(t.colorType)){if(8===t.bits){u=32==t.pixelBitlength?new Uint32Array(t.decodePixels().buffer):16==t.pixelBitlength?new Uint16Array(t.decodePixels().buffer):new Uint8Array(t.decodePixels().buffer);var v=
u.length,x=new Uint8Array(v*t.colors),G=new Uint8Array(v),Z=t.pixelBitlength-t.bits,P=0;a=0;for(var A,O;P<v;P++){A=u[P];for(O=0;O<Z;)x[a++]=A>>>O&255,O+=t.bits;G[P]=A>>>O&255}}if(16===t.bits){u=new Uint32Array(t.decodePixels().buffer);v=u.length;x=new Uint8Array(32/t.pixelBitlength*v*t.colors);G=new Uint8Array(32/t.pixelBitlength*v);p=1<t.colors;for(Z=a=P=0;P<v;)A=u[P++],x[a++]=A>>>0&255,p&&(x[a++]=A>>>16&255,A=u[P++],x[a++]=A>>>0&255),G[Z++]=A>>>16&255;p=8}if(v=c!==f.image_compression.NONE)if(v=
"function"===typeof z,!v)throw Error("requires deflate.js for compression");v?(a=k(x,t.width*t.colors,t.colors,c),u=k(G,t.width,1,c)):(a=x,u=G,h=null)}if(3===t.colorType&&(n=this.color_spaces.INDEXED,q=t.palette,t.transparency.indexed)){x=t.transparency.indexed;P=G=0;for(v=x.length;P<v;++P)G+=x[P];G/=255;if(G===v-1&&-1!==x.indexOf(0))w=[x.indexOf(0)];else if(G!==v){u=t.decodePixels();G=new Uint8Array(u.length);P=0;for(v=u.length;P<v;P++)G[P]=x[u[P]];u=k(G,t.width,1)}}switch(c){case f.image_compression.FAST:c=
11;break;case f.image_compression.MEDIUM:c=13;break;case f.image_compression.SLOW:c=14;break;default:c=12}m=h===this.decode.FLATE_DECODE?"/Predictor "+c+" /Colors "+m+" /BitsPerComponent "+p+" /Columns "+t.width:"/Colors "+m+" /BitsPerComponent "+p+" /Columns "+t.width;if(this.isArrayBuffer(a)||this.isArrayBufferView(a))a=this.arrayBufferToBinaryString(a);if(u&&this.isArrayBuffer(u)||this.isArrayBufferView(u))u=this.arrayBufferToBinaryString(u);return this.createImageInfo(a,t.width,t.height,n,p,h,
e,d,m,w,q,u,c)}throw Error("Unsupported PNG image data, try using JPEG instead.");}})(q.API);(function(f){var k=f.getCharWidthsArray=function(a,h){h||(h={});var e=h.widths?h.widths:this.internal.getFont().metadata.Unicode.widths,f=e.fof?e.fof:1;h=h.kerning?h.kerning:this.internal.getFont().metadata.Unicode.kerning;var c=h.fof?h.fof:1,d,k,m,l=0,w=e[0]||f,q=[];d=0;for(k=a.length;d<k;d++)m=a.charCodeAt(d),q.push((e[m]||w)/f+(h[m]&&h[m][l]||0)/c),l=m;return q},m=function(a){for(var e=a.length,f=0;e;)e--,
f+=a[e];return f},d=f.getStringUnitWidth=function(a,f){return m(k.call(this,a,f))},a=function(a,f,d,k){for(var c=[],e=0,h=a.length,p=0;e!==h&&p+f[e]<d;)p+=f[e],e++;c.push(a.slice(0,e));d=e;for(p=0;e!==h;)p+f[e]>k&&(c.push(a.slice(d,e)),p=0,d=e),p+=f[e],e++;d!==e&&c.push(a.slice(d,e));return c},l=function(e,f,t){t||(t={});var h=[],c=[h],n=t.textIndent||0,l=0,w=0,q,D=e.split(" "),u=k(" ",t)[0],y,v,x;if(x=-1===t.lineIndent?D[0].length+2:t.lineIndent||0){var z=Array(x).join(" "),G=[];D.map(function(c){c=
c.split(/\s*\n/);1<c.length?G=G.concat(c.map(function(c,a){return(a&&c.length?"\n":"")+c})):G.push(c[0])});D=G;x=d(z,t)}y=0;for(v=D.length;y<v;y++){var Z=0;e=D[y];x&&"\n"==e[0]&&(e=e.substr(1),Z=1);q=k(e,t);w=m(q);if(n+l+w>f||Z){if(w>f){n=a(e,q,f-(n+l),f);h.push(n.shift());for(h=[n.pop()];n.length;)c.push([n.shift()]);w=m(q.slice(e.length-h[0].length))}else h=[e];c.push(h);n=w+x}else h.push(e),n+=l+w;l=u}return c.map(x?function(c,a){return(a?z:"")+c.join(" ")}:function(c){return c.join(" ")})};f.splitTextToSize=
function(a,f,d){d||(d={});var e=d.fontSize||this.internal.getFontSize(),c;var h=d;c={0:1};var k={};h.widths&&h.kerning?c={widths:h.widths,kerning:h.kerning}:(h=this.internal.getFont(h.fontName,h.fontStyle),c=h.metadata.Unicode?{widths:h.metadata.Unicode.widths||c,kerning:h.metadata.Unicode.kerning||k}:{widths:c,kerning:k});a=Array.isArray(a)?a:a.split(/\r?\n/);f=1*this.internal.scaleFactor*f/e;c.textIndent=d.textIndent?1*d.textIndent*this.internal.scaleFactor/e:0;c.lineIndent=d.lineIndent;k=[];d=
0;for(e=a.length;d<e;d++)k=k.concat(l(a[d],f,c));return k}})(q.API);(function(f){var k=function(a){for(var e={},f=0;16>f;f++)e["klmnopqrstuvwxyz"[f]]="0123456789abcdef"[f];for(var d={},k=1,c,n=d,m=[],l,w="",D="",q,u=a.length-1,f=1;f!=u;)l=a[f],f+=1,"'"==l?c?(q=c.join(""),c=void 0):c=[]:c?c.push(l):"{"==l?(m.push([n,q]),n={},q=void 0):"}"==l?(l=m.pop(),l[0][l[1]]=n,q=void 0,n=l[0]):"-"==l?k=-1:void 0===q?e.hasOwnProperty(l)?(w+=e[l],q=parseInt(w,16)*k,k=1,w=""):w+=l:e.hasOwnProperty(l)?(D+=e[l],n[q]=
parseInt(D,16)*k,k=1,q=void 0,D=""):D+=l;return d},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:k("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},a={Unicode:{"Courier-Oblique":k("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),
"Times-BoldItalic":k("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),
"Helvetica-Bold":k("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),
Courier:k("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":k("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":k("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),
Helvetica:k("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),
"Helvetica-BoldOblique":k("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),
"Courier-Bold":k("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":k("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),
"Times-Roman":k("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),
"Helvetica-Oblique":k("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};
f.events.push(["addFont",function(f){var e,h;if(e=a.Unicode[f.PostScriptName])h=f.metadata.Unicode?f.metadata.Unicode:f.metadata.Unicode={},h.widths=e.widths,h.kerning=e.kerning;if(e=d.Unicode[f.PostScriptName])h=f.metadata.Unicode?f.metadata.Unicode:f.metadata.Unicode={},h.encoding=e,e.codePages&&e.codePages.length&&(f.encoding=e.codePages[0])}])})(q.API);(function(f){f.addSVG=function(f,m,d,a,l){function e(c){for(var a=parseFloat(c[1]),f=parseFloat(c[2]),e=[],h=3,d=c.length;h<d;)"c"===c[h]?(e.push([parseFloat(c[h+
1]),parseFloat(c[h+2]),parseFloat(c[h+3]),parseFloat(c[h+4]),parseFloat(c[h+5]),parseFloat(c[h+6])]),h+=7):"l"===c[h]?(e.push([parseFloat(c[h+1]),parseFloat(c[h+2])]),h+=3):h+=1;return[a,f,e]}if(void 0===m||void 0===d)throw Error("addSVG needs values for 'x' and 'y'");var h=function(c){var a=c.createElement("iframe"),f=c.createElement("style");f.type="text/css";f.styleSheet?f.styleSheet.cssText=".jsPDF_sillysvg_iframe {display:none;position:absolute;}":f.appendChild(c.createTextNode(".jsPDF_sillysvg_iframe {display:none;position:absolute;}"));
c.getElementsByTagName("head")[0].appendChild(f);a.name="childframe";a.setAttribute("width",0);a.setAttribute("height",0);a.setAttribute("frameborder","0");a.setAttribute("scrolling","no");a.setAttribute("seamless","seamless");a.setAttribute("class","jsPDF_sillysvg_iframe");c.body.appendChild(a);return a}(document),h=function(c,a){a=(a.contentWindow||a.contentDocument).document;a.write(c);a.close();return a.getElementsByTagName("svg")[0]}(f,h);f=[1,1];var k=parseFloat(h.getAttribute("width")),p=parseFloat(h.getAttribute("height"));
k&&p&&(a&&l?f=[a/k,l/p]:a?f=[a/k,a/k]:l&&(f=[l/p,l/p]));h=h.childNodes;a=0;for(l=h.length;a<l;a++)k=h[a],k.tagName&&"PATH"===k.tagName.toUpperCase()&&(k=e(k.getAttribute("d").split(" ")),k[0]=k[0]*f[0]+m,k[1]=k[1]*f[1]+d,this.lines.call(this,k[2],k[0],k[1],f));return this}})(q.API);(function(f){f.putTotalPages=function(f){f=new RegExp(f,"g");for(var k=1;k<=this.internal.getNumberOfPages();k++)for(var d=0;d<this.internal.pages[k].length;d++)this.internal.pages[k][d]=this.internal.pages[k][d].replace(f,
this.internal.getNumberOfPages());return this}})(q.API);(function(f){var k="",m="",d="";f.addMetadata=function(a,f){m=f||"http://jspdf.default.namespaceuri/";k=a;this.internal.events.subscribe("postPutResources",function(){if(k){var a='\x3crdf:RDF xmlns:rdf\x3d"http://www.w3.org/1999/02/22-rdf-syntax-ns#"\x3e\x3crdf:Description rdf:about\x3d"" xmlns:jspdf\x3d"'+m+'"\x3e\x3cjspdf:metadata\x3e',f=unescape(encodeURIComponent('\x3cx:xmpmeta xmlns:x\x3d"adobe:ns:meta/"\x3e')),a=unescape(encodeURIComponent(a)),
t=unescape(encodeURIComponent(k)),p=unescape(encodeURIComponent("\x3c/jspdf:metadata\x3e\x3c/rdf:Description\x3e\x3c/rdf:RDF\x3e")),c=unescape(encodeURIComponent("\x3c/x:xmpmeta\x3e")),n=a.length+t.length+p.length+f.length+c.length;d=this.internal.newObject();this.internal.write("\x3c\x3c /Type /Metadata /Subtype /XML /Length "+n+" \x3e\x3e");this.internal.write("stream");this.internal.write(f+a+t+p+c);this.internal.write("endstream");this.internal.write("endobj")}else d=""});this.internal.events.subscribe("putCatalog",
function(){d&&this.internal.write("/Metadata "+d+" 0 R")});return this}})(q.API);q.adler32cs=function(){var f="function"===typeof ArrayBuffer&&"function"===typeof Uint8Array,k=null,m=function(){if(!f)return function(){return!1};try{var a={};"function"===typeof a.Buffer&&(k=a.Buffer)}catch(p){}return function(a){return a instanceof ArrayBuffer||null!==k&&a instanceof k}}(),d=function(){return null!==k?function(a){return(new k(a,"utf8")).toString("binary")}:function(a){return unescape(encodeURIComponent(a))}}(),
a=function(a,f){var c=a&65535;a>>>=16;for(var e=0,h=f.length;e<h;e++)c=(c+(f.charCodeAt(e)&255))%65521,a=(a+c)%65521;return(a<<16|c)>>>0},l=function(a,f){var c=a&65535;a>>>=16;for(var e=0,h=f.length;e<h;e++)c=(c+f[e])%65521,a=(a+c)%65521;return(a<<16|c)>>>0},e={},h=e.Adler32=function(){var e=function(c){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(c=null==c?1:+c))throw Error("First arguments needs to be a finite number.");this.checksum=c>>>
0},k=e.prototype={};k.constructor=e;e.from=function(c){c.prototype=k;return c}(function(c){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==c)throw Error("First argument needs to be a string.");this.checksum=a(1,c.toString())});e.fromUtf8=function(c){c.prototype=k;return c}(function(c){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==c)throw Error("First argument needs to be a string.");c=d(c.toString());
this.checksum=a(1,c)});f&&(e.fromBuffer=function(c){c.prototype=k;return c}(function(c){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!m(c))throw Error("First argument needs to be ArrayBuffer.");c=new Uint8Array(c);return this.checksum=l(1,c)}));k.update=function(c){if(null==c)throw Error("First argument needs to be a string.");c=c.toString();return this.checksum=a(this.checksum,c)};k.updateUtf8=function(c){if(null==c)throw Error("First argument needs to be a string.");
c=d(c.toString());return this.checksum=a(this.checksum,c)};f&&(k.updateBuffer=function(c){if(!m(c))throw Error("First argument needs to be ArrayBuffer.");c=new Uint8Array(c);return this.checksum=l(this.checksum,c)});k.clone=function(){return new h(this.checksum)};return e}();e.from=function(f){if(null==f)throw Error("First argument needs to be a string.");return a(1,f.toString())};e.fromUtf8=function(f){if(null==f)throw Error("First argument needs to be a string.");f=d(f.toString());return a(1,f)};
f&&(e.fromBuffer=function(a){if(!m(a))throw Error("First argument need to be ArrayBuffer.");a=new Uint8Array(a);return l(1,a)});return e};var v={_colorsTable:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",
cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",
floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",
lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",
mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",
seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},colorNameToHex:function(f){f=f.toLowerCase();return"undefined"!=typeof this._colorsTable[f]?this._colorsTable[f]:!1}},z=
function(f){function k(){var c=this;c.build_tree=function(a){var f=c.dyn_tree,e=c.stat_desc.static_tree,h=c.stat_desc.elems,d,k=-1,n;a.heap_len=0;a.heap_max=573;for(d=0;d<h;d++)0!==f[2*d]?(a.heap[++a.heap_len]=k=d,a.depth[d]=0):f[2*d+1]=0;for(;2>a.heap_len;)n=a.heap[++a.heap_len]=2>k?++k:0,f[2*n]=1,a.depth[n]=0,a.opt_len--,e&&(a.static_len-=e[2*n+1]);c.max_code=k;for(d=Math.floor(a.heap_len/2);1<=d;d--)a.pqdownheap(f,d);n=h;do d=a.heap[1],a.heap[1]=a.heap[a.heap_len--],a.pqdownheap(f,1),e=a.heap[1],
a.heap[--a.heap_max]=d,a.heap[--a.heap_max]=e,f[2*n]=f[2*d]+f[2*e],a.depth[n]=Math.max(a.depth[d],a.depth[e])+1,f[2*d+1]=f[2*e+1]=n,a.heap[1]=n++,a.pqdownheap(f,1);while(2<=a.heap_len);a.heap[--a.heap_max]=a.heap[1];d=c.dyn_tree;for(var k=c.stat_desc.static_tree,p=c.stat_desc.extra_bits,m=c.stat_desc.extra_base,t=c.stat_desc.max_length,l,w,q=0,h=0;15>=h;h++)a.bl_count[h]=0;d[2*a.heap[a.heap_max]+1]=0;for(n=a.heap_max+1;573>n;n++)e=a.heap[n],h=d[2*d[2*e+1]+1]+1,h>t&&(h=t,q++),d[2*e+1]=h,e>c.max_code||
(a.bl_count[h]++,l=0,e>=m&&(l=p[e-m]),w=d[2*e],a.opt_len+=w*(h+l),k&&(a.static_len+=w*(k[2*e+1]+l)));if(0!==q){do{for(h=t-1;0===a.bl_count[h];)h--;a.bl_count[h]--;a.bl_count[h+1]+=2;a.bl_count[t]--;q-=2}while(0<q);for(h=t;0!==h;h--)for(e=a.bl_count[h];0!==e;)k=a.heap[--n],k>c.max_code||(d[2*k+1]!=h&&(a.opt_len+=(h-d[2*k+1])*d[2*k],d[2*k+1]=h),e--)}d=c.max_code;n=a.bl_count;a=[];e=0;for(h=1;15>=h;h++)a[h]=e=e+n[h-1]<<1;for(n=0;n<=d;n++)if(k=f[2*n+1],0!==k){e=2*n;h=a[k]++;p=0;do p|=h&1,h>>>=1,p<<=1;
while(0<--k);f[e]=p>>>1}}}function m(c,a,f,e,h){this.static_tree=c;this.extra_bits=a;this.extra_base=f;this.elems=e;this.max_length=h}function d(c,a,f,e,h){this.good_length=c;this.max_lazy=a;this.nice_length=f;this.max_chain=e;this.func=h}function a(c,a,f,e){var h=c[2*a];c=c[2*f];return h<c||h==c&&e[a]<=e[f]}function l(){function c(){var c;for(c=0;286>c;c++)ma[2*c]=0;for(c=0;30>c;c++)wa[2*c]=0;for(c=0;19>c;c++)ka[2*c]=0;ma[512]=1;qa=La=L.opt_len=L.static_len=0}function f(c,a){var f,e=-1,h,d=c[1],
k=0,n=7,p=4;0===d&&(n=138,p=3);c[2*(a+1)+1]=65535;for(f=0;f<=a;f++)h=d,d=c[2*(f+1)+1],++k<n&&h==d||(k<p?ka[2*h]+=k:0!==h?(h!=e&&ka[2*h]++,ka[32]++):10>=k?ka[34]++:ka[36]++,k=0,e=h,0===d?(n=138,p=3):h==d?(n=6,p=3):(n=7,p=4))}function e(c){L.pending_buf[L.pending++]=c}function h(c){e(c&255);e(c>>>8&255)}function d(c,a){la>16-a?(pa|=c<<la&65535,h(pa),pa=c>>>16-la,la+=a-16):(pa|=c<<la&65535,la+=a)}function l(c,a){c*=2;d(a[c]&65535,a[c+1]&65535)}function w(c,a){var f,e=-1,h,k=c[1],n=0,p=7,m=4;0===k&&(p=
138,m=3);for(f=0;f<=a;f++)if(h=k,k=c[2*(f+1)+1],!(++n<p&&h==k)){if(n<m){do l(h,ka);while(0!==--n)}else 0!==h?(h!=e&&(l(h,ka),n--),l(16,ka),d(n-3,2)):10>=n?(l(17,ka),d(n-3,3)):(l(18,ka),d(n-11,7));n=0;e=h;0===k?(p=138,m=3):h==k?(p=6,m=3):(p=7,m=4)}}function q(){16==la?(h(pa),la=pa=0):8<=la&&(e(pa&255),pa>>>=8,la-=8)}function u(c,a){var f;L.pending_buf[Ea+2*qa]=c>>>8&255;L.pending_buf[Ea+2*qa+1]=c&255;L.pending_buf[Ja+qa]=a&255;qa++;0===c?ma[2*a]++:(La++,c--,ma[2*(k._length_code[a]+256+1)]++,wa[2*k.d_code(c)]++);
if(0===(qa&8191)&&2<ea){c=8*qa;a=R-ga;for(f=0;30>f;f++)c+=wa[2*f]*(5+k.extra_dbits[f]);if(La<Math.floor(qa/2)&&c>>>3<Math.floor(a/2))return!0}return qa==Ba-1}function y(c,a){var f,e,h=0,n,p;if(0!==qa){do f=L.pending_buf[Ea+2*h]<<8&65280|L.pending_buf[Ea+2*h+1]&255,e=L.pending_buf[Ja+h]&255,h++,0===f?l(e,c):(n=k._length_code[e],l(n+256+1,c),p=k.extra_lbits[n],0!==p&&(e-=k.base_length[n],d(e,p)),f--,n=k.d_code(f),l(n,a),p=k.extra_dbits[n],0!==p&&(f-=k.base_dist[n],d(f,p)));while(h<qa)}l(256,c);Fa=c[513]}
function v(){8<la?h(pa):0<la&&e(pa&255);la=pa=0}function x(c,a,f){v();Fa=8;f&&(h(a),h(~a));L.pending_buf.set(K.subarray(c,c+a),L.pending);L.pending+=a}function z(a){var e=0<=ga?ga:-1,h=R-ga,n,p,H=0;if(0<ea){va.build_tree(L);Aa.build_tree(L);f(ma,va.max_code);f(wa,Aa.max_code);Ia.build_tree(L);for(H=18;3<=H&&0===ka[2*k.bl_order[H]+1];H--);L.opt_len+=3*(H+1)+14;n=L.opt_len+3+7>>>3;p=L.static_len+3+7>>>3;p<=n&&(n=p)}else n=p=h+5;if(h+4<=n&&-1!=e)d(0+(a?1:0),3),x(e,h,!0);else if(p==n)d(2+(a?1:0),3),y(m.static_ltree,
m.static_dtree);else{d(4+(a?1:0),3);e=va.max_code+1;h=Aa.max_code+1;H+=1;d(e-257,5);d(h-1,5);d(H-4,4);for(n=0;n<H;n++)d(ka[2*k.bl_order[n]+1],3);w(ma,e-1);w(wa,h-1);y(ma,wa)}c();a&&v();ga=R;V.flush_pending()}function A(){var c,a,f,e;do{e=ba-W-R;if(0===e&&0===R&&0===W)e=T;else if(-1==e)e--;else if(R>=T+T-262){K.set(K.subarray(T,T+T),0);ua-=T;R-=T;ga-=T;f=c=ca;do a=Y[--f]&65535,Y[f]=a>=T?a-T:0;while(0!==--c);f=c=T;do a=da[--f]&65535,da[f]=a>=T?a-T:0;while(0!==--c);e+=T}if(0===V.avail_in)break;c=V.read_buf(K,
R+W,e);W+=c;3<=W&&(M=K[R]&255,M=(M<<E^K[R+1]&255)&oa)}while(262>W&&0!==V.avail_in)}function F(c){var a=65535,f;for(a>I-5&&(a=I-5);;){if(1>=W){A();if(0===W&&0==c)return 0;if(0===W)break}R+=W;W=0;f=ga+a;if(0===R||R>=f)if(W=R-f,R=f,z(!1),0===V.avail_out)return 0;if(R-ga>=T-262&&(z(!1),0===V.avail_out))return 0}z(4==c);return 0===V.avail_out?4==c?2:0:4==c?3:1}function O(c){var a=Ka,f=R,e,h=ra,d=R>T-262?R-(T-262):0,k=Ca,n=H,p=R+258,m=K[f+h-1],l=K[f+h];ra>=za&&(a>>=2);k>W&&(k=W);do if(e=c,K[e+h]==l&&K[e+
h-1]==m&&K[e]==K[f]&&K[++e]==K[f+1]){f+=2;for(e++;K[++f]==K[++e]&&K[++f]==K[++e]&&K[++f]==K[++e]&&K[++f]==K[++e]&&K[++f]==K[++e]&&K[++f]==K[++e]&&K[++f]==K[++e]&&K[++f]==K[++e]&&f<p;);e=258-(p-f);f=p-258;if(e>h){ua=c;h=e;if(e>=k)break;m=K[f+h-1];l=K[f+h]}}while((c=da[c&n]&65535)>d&&0!==--a);return h<=W?h:W}function U(c){for(var a=0,f,e;;){if(262>W){A();if(262>W&&0==c)return 0;if(0===W)break}3<=W&&(M=(M<<E^K[R+2]&255)&oa,a=Y[M]&65535,da[R&H]=Y[M],Y[M]=R);ra=fa;Da=ua;fa=2;0!==a&&ra<xa&&(R-a&65535)<=
T-262&&(2!=ya&&(fa=O(a)),5>=fa&&(1==ya||3==fa&&4096<R-ua)&&(fa=2));if(3<=ra&&fa<=ra){e=R+W-3;f=u(R-1-Da,ra-3);W-=ra-1;ra-=2;do++R<=e&&(M=(M<<E^K[R+2]&255)&oa,a=Y[M]&65535,da[R&H]=Y[M],Y[M]=R);while(0!==--ra);ta=0;fa=2;R++;if(f&&(z(!1),0===V.avail_out))return 0}else if(0!==ta){if((f=u(0,K[R-1]&255))&&z(!1),R++,W--,0===V.avail_out)return 0}else ta=1,R++,W--}0!==ta&&(f=u(0,K[R-1]&255),ta=0);z(4==c);return 0===V.avail_out?4==c?2:0:4==c?3:1}var L=this,V,J,I,ja,T,na,H,K,ba,da,Y,M,ca,Q,oa,E,ga,fa,Da,ta,
R,ua,W,ra,Ka,xa,ea,ya,za,Ca,ma,wa,ka,va=new k,Aa=new k,Ia=new k;L.depth=[];var Ja,Ba,qa,Ea,La,Fa,pa,la;L.bl_count=[];L.heap=[];ma=[];wa=[];ka=[];L.pqdownheap=function(c,f){for(var e=L.heap,h=e[f],d=f<<1;d<=L.heap_len;){d<L.heap_len&&a(c,e[d+1],e[d],L.depth)&&d++;if(a(c,h,e[d],L.depth))break;e[f]=e[d];f=d;d<<=1}e[f]=h};L.deflateInit=function(a,f,e,h,d,k){h||(h=8);d||(d=8);k||(k=0);a.msg=null;-1==f&&(f=6);if(1>d||9<d||8!=h||9>e||15<e||0>f||9<f||0>k||2<k)return-2;a.dstate=L;na=e;T=1<<na;H=T-1;Q=d+7;
ca=1<<Q;oa=ca-1;E=Math.floor((Q+3-1)/3);K=new Uint8Array(2*T);da=[];Y=[];Ba=1<<d+6;L.pending_buf=new Uint8Array(4*Ba);I=4*Ba;Ea=Math.floor(Ba/2);Ja=3*Ba;ea=f;ya=k;a.total_in=a.total_out=0;a.msg=null;L.pending=0;L.pending_out=0;J=113;ja=0;va.dyn_tree=ma;va.stat_desc=m.static_l_desc;Aa.dyn_tree=wa;Aa.stat_desc=m.static_d_desc;Ia.dyn_tree=ka;Ia.stat_desc=m.static_bl_desc;la=pa=0;Fa=8;c();ba=2*T;for(a=Y[ca-1]=0;a<ca-1;a++)Y[a]=0;xa=t[ea].max_lazy;za=t[ea].good_length;Ca=t[ea].nice_length;Ka=t[ea].max_chain;
W=ga=R=0;fa=ra=2;return M=ta=0};L.deflateEnd=function(){if(42!=J&&113!=J&&666!=J)return-2;K=da=Y=L.pending_buf=null;L.dstate=null;return 113==J?-3:0};L.deflateParams=function(c,a,f){var e=0;-1==a&&(a=6);if(0>a||9<a||0>f||2<f)return-2;t[ea].func!=t[a].func&&0!==c.total_in&&(e=c.deflate(1));ea!=a&&(ea=a,xa=t[ea].max_lazy,za=t[ea].good_length,Ca=t[ea].nice_length,Ka=t[ea].max_chain);ya=f;return e};L.deflateSetDictionary=function(c,a,f){c=f;var e=0;if(!a||42!=J)return-2;if(3>c)return 0;c>T-262&&(c=T-
262,e=f-c);K.set(a.subarray(e,e+c),0);ga=R=c;M=K[0]&255;M=(M<<E^K[1]&255)&oa;for(a=0;a<=c-3;a++)M=(M<<E^K[a+2]&255)&oa,da[a&H]=Y[M],Y[M]=a;return 0};L.deflate=function(c,a){var f,h,k;if(4<a||0>a)return-2;if(!c.next_out||!c.next_in&&0!==c.avail_in||666==J&&4!=a)return c.msg=p[4],-2;if(0===c.avail_out)return c.msg=p[7],-5;V=c;k=ja;ja=a;42==J&&(f=8+(na-8<<4)<<8,h=(ea-1&255)>>1,3<h&&(h=3),f|=h<<6,0!==R&&(f|=32),J=113,f+=31-f%31,e(f>>8&255),e(f&255));if(0!==L.pending){if(V.flush_pending(),0===V.avail_out)return ja=
-1,0}else if(0===V.avail_in&&a<=k&&4!=a)return V.msg=p[7],-5;if(666==J&&0!==V.avail_in)return c.msg=p[7],-5;if(0!==V.avail_in||0!==W||0!=a&&666!=J){c=-1;switch(t[ea].func){case 0:c=F(a);break;case 1:a:{for(c=0;;){if(262>W){A();if(262>W&&0==a){c=0;break a}if(0===W)break}3<=W&&(M=(M<<E^K[R+2]&255)&oa,c=Y[M]&65535,da[R&H]=Y[M],Y[M]=R);0!==c&&(R-c&65535)<=T-262&&2!=ya&&(fa=O(c));if(3<=fa)if(k=u(R-ua,fa-3),W-=fa,fa<=xa&&3<=W){fa--;do R++,M=(M<<E^K[R+2]&255)&oa,c=Y[M]&65535,da[R&H]=Y[M],Y[M]=R;while(0!==
--fa);R++}else R+=fa,fa=0,M=K[R]&255,M=(M<<E^K[R+1]&255)&oa;else k=u(0,K[R]&255),W--,R++;if(k&&(z(!1),0===V.avail_out)){c=0;break a}}z(4==a);c=0===V.avail_out?4==a?2:0:4==a?3:1}break;case 2:c=U(a)}if(2==c||3==c)J=666;if(0==c||2==c)return 0===V.avail_out&&(ja=-1),0;if(1==c){if(1==a)d(2,3),l(256,m.static_ltree),q(),9>1+Fa+10-la&&(d(2,3),l(256,m.static_ltree),q()),Fa=7;else if(d(0,3),x(0,0,!0),3==a)for(c=0;c<ca;c++)Y[c]=0;V.flush_pending();if(0===V.avail_out)return ja=-1,0}}return 4!=a?0:1}}function e(){this.total_out=
this.avail_out=this.total_in=this.avail_in=this.next_out_index=this.next_in_index=0}var h=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,
14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,
25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,
29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];k._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,
24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28];k.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];k.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,
96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];k.d_code=function(c){return 256>c?h[c]:h[256+(c>>>7)]};k.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];k.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];k.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];k.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];m.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,
8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,
8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,
9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,
8,67,8,195,8,35,8,163,8,99,8,227,8];m.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5];m.static_l_desc=new m(m.static_ltree,k.extra_lbits,257,286,15);m.static_d_desc=new m(m.static_dtree,k.extra_dbits,0,30,15);m.static_bl_desc=new m(null,k.extra_blbits,0,19,7);var t=[new d(0,0,0,0,0),new d(4,4,8,4,1),new d(4,5,16,8,1),new d(4,6,32,32,1),new d(4,4,16,16,2),new d(8,16,32,32,2),new d(8,16,128,128,
2),new d(8,32,128,256,2),new d(32,128,258,1024,2),new d(32,258,258,4096,2)],p="need dictionary;stream end;;;stream error;data error;;buffer error;;".split(";");e.prototype={deflateInit:function(c,a){this.dstate=new l;a||(a=15);return this.dstate.deflateInit(this,c,a)},deflate:function(c){return this.dstate?this.dstate.deflate(this,c):-2},deflateEnd:function(){if(!this.dstate)return-2;var c=this.dstate.deflateEnd();this.dstate=null;return c},deflateParams:function(c,a){return this.dstate?this.dstate.deflateParams(this,
c,a):-2},deflateSetDictionary:function(c,a){return this.dstate?this.dstate.deflateSetDictionary(this,c,a):-2},read_buf:function(c,a,f){var e=this.avail_in;e>f&&(e=f);if(0===e)return 0;this.avail_in-=e;c.set(this.next_in.subarray(this.next_in_index,this.next_in_index+e),a);this.next_in_index+=e;this.total_in+=e;return e},flush_pending:function(){var c=this.dstate.pending;c>this.avail_out&&(c=this.avail_out);0!==c&&(this.next_out.set(this.dstate.pending_buf.subarray(this.dstate.pending_out,this.dstate.pending_out+
c),this.next_out_index),this.next_out_index+=c,this.dstate.pending_out+=c,this.total_out+=c,this.avail_out-=c,this.dstate.pending-=c,0===this.dstate.pending&&(this.dstate.pending_out=0))}};return function(c){var a=new e,f=new Uint8Array(512);"undefined"==typeof c&&(c=-1);a.deflateInit(c);a.next_out=f;this.append=function(c,e){var h=[],d=0,k=0,p=0,n;if(c.length){a.next_in_index=0;a.next_in=c;a.avail_in=c.length;do{a.next_out_index=0;a.avail_out=512;c=a.deflate(0);if(0!=c)throw"deflating: "+a.msg;a.next_out_index&&
(512==a.next_out_index?h.push(new Uint8Array(f)):h.push(new Uint8Array(f.subarray(0,a.next_out_index))));p+=a.next_out_index;e&&0<a.next_in_index&&a.next_in_index!=d&&(e(a.next_in_index),d=a.next_in_index)}while(0<a.avail_in||0===a.avail_out);n=new Uint8Array(p);h.forEach(function(c){n.set(c,k);k+=c.length});return n}};this.flush=function(){var c,e=[],h=0,d=0,k;do{a.next_out_index=0;a.avail_out=512;c=a.deflate(4);if(1!=c&&0!=c)throw"deflating: "+a.msg;0<512-a.avail_out&&e.push(new Uint8Array(f.subarray(0,
a.next_out_index)));d+=a.next_out_index}while(0<a.avail_in||0===a.avail_out);a.deflateEnd();k=new Uint8Array(d);e.forEach(function(c){k.set(c,h);h+=c.length});return k}}}(void 0);q.API.html2canvas=function(){return function k(m,d,a){function l(h,p){if(!d[h]){if(!m[h]){var c="function"==typeof require&&require;if(!p&&c)return c(h,!0);if(e)return e(h,!0);p=Error("Cannot find module '"+h+"'");throw p.code="MODULE_NOT_FOUND",p;}p=d[h]={exports:{}};m[h][0].call(p.exports,function(c){var a=m[h][1][c];return l(a?
a:c)},p,p.exports,k,m,d,a)}return d[h].exports}for(var e="function"==typeof require&&require,h=0;h<a.length;h++)l(a[h]);return l}({1:[function(k,m,d){(function(a){(function(k){function e(c){throw RangeError(G[c]);}function h(c,a){for(var e=c.length;e--;)c[e]=a(c[e]);return c}function l(c,a){return h(c.split(z),a).join(".")}function p(c){for(var a=[],e=0,h=c.length,d,k;e<h;)d=c.charCodeAt(e++),55296<=d&&56319>=d&&e<h?(k=c.charCodeAt(e++),56320==(k&64512)?a.push(((d&1023)<<10)+(k&1023)+65536):(a.push(d),
e--)):a.push(d);return a}function c(c){return h(c,function(c){var a="";65535<c&&(c-=65536,a+=J(c>>>10&1023|55296),c=56320|c&1023);return a+=J(c)}).join("")}function n(c,a){return c+22+75*(26>c)-((0!=a)<<5)}function w(c,a,e){var h=0;c=e?A(c/700):c>>1;for(c+=A(c/a);455<c;h+=36)c=A(c/35);return A(h+36*c/(c+38))}function B(a){var h=[],d=a.length,k,p=0,n=128,m=72,l,t,H,K,q;l=a.lastIndexOf("-");0>l&&(l=0);for(t=0;t<l;++t)128<=a.charCodeAt(t)&&e("not-basic"),h.push(a.charCodeAt(t));for(l=0<l?l+1:0;l<d;){t=
p;k=1;for(H=36;;H+=36){l>=d&&e("invalid-input");K=a.charCodeAt(l++);K=10>K-48?K-22:26>K-65?K-65:26>K-97?K-97:36;(36<=K||K>A((2147483647-p)/k))&&e("overflow");p+=K*k;q=H<=m?1:H>=m+26?26:H-m;if(K<q)break;K=36-q;k>A(2147483647/K)&&e("overflow");k*=K}k=h.length+1;m=w(p-t,k,0==t);A(p/k)>2147483647-n&&e("overflow");n+=A(p/k);p%=k;h.splice(p++,0,n)}return c(h)}function q(c){var a,h,d,k,m,l,t,q,H,K=[],B,D,C;c=p(c);B=c.length;a=128;h=0;m=72;for(l=0;l<B;++l)H=c[l],128>H&&K.push(J(H));for((d=k=K.length)&&K.push("-");d<
B;){t=2147483647;for(l=0;l<B;++l)H=c[l],H>=a&&H<t&&(t=H);D=d+1;t-a>A((2147483647-h)/D)&&e("overflow");h+=(t-a)*D;a=t;for(l=0;l<B;++l)if(H=c[l],H<a&&2147483647<++h&&e("overflow"),H==a){q=h;for(t=36;;t+=36){H=t<=m?1:t>=m+26?26:t-m;if(q<H)break;C=q-H;q=36-H;K.push(J(n(H+C%q,0)));q=A(C/q)}K.push(J(n(q,0)));m=w(h,D,d==k);h=0;++d}++h;++a}return K.join("")}var D="object"==typeof d&&d,u="object"==typeof m&&m&&m.exports==D&&m,y="object"==typeof a&&a;if(y.global===y||y.window===y)k=y;var v=/^xn--/,x=/[^ -~]/,
z=/\x2E|\u3002|\uFF0E|\uFF61/g,G={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=Math.floor,J=String.fromCharCode,F,y={version:"1.2.4",ucs2:{decode:p,encode:c},decode:B,encode:q,toASCII:function(c){return l(c,function(c){return x.test(c)?"xn--"+q(c):c})},toUnicode:function(c){return l(c,function(c){return v.test(c)?B(c.slice(4).toLowerCase()):c})}};if(D&&!D.nodeType)if(u)u.exports=y;else for(F in y)y.hasOwnProperty(F)&&
(D[F]=y[F]);else k.punycode=y})(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],2:[function(k,m,d){function a(h,d){for(var k=3===h.nodeType?document.createTextNode(h.nodeValue):h.cloneNode(!1),c=h.firstChild;c;)!0!==d&&1===c.nodeType&&"SCRIPT"===c.nodeName||k.appendChild(a(c,d)),c=c.nextSibling;if(1===h.nodeType)if(k._scrollTop=h.scrollTop,k._scrollLeft=h.scrollLeft,"CANVAS"===h.nodeName)try{k&&(k.width=h.width,k.height=
h.height,k.getContext("2d").putImageData(h.getContext("2d").getImageData(0,0,h.width,h.height),0,0))}catch(n){e("Unable to copy canvas content from",h,n)}else if("TEXTAREA"===h.nodeName||"SELECT"===h.nodeName)k.value=h.value;return k}function l(a){if(1===a.nodeType)for(a.scrollTop=a._scrollTop,a.scrollLeft=a._scrollLeft,a=a.firstChild;a;)l(a),a=a.nextSibling}var e=k("./log");m.exports=function(e,d,k,c,n,m,w){var h=a(e.documentElement,n.javascriptEnabled),p=d.createElement("iframe");p.className="html2canvas-container";
p.style.visibility="hidden";p.style.position="fixed";p.style.left="-10000px";p.style.top="0px";p.style.border="0";p.width=k;p.height=c;p.scrolling="no";d.body.appendChild(p);return new Promise(function(c){var a=p.contentWindow.document;p.contentWindow.onload=p.onload=function(){var e=setInterval(function(){0<a.body.childNodes.length&&(l(a.documentElement),clearInterval(e),"view"===n.type&&(p.contentWindow.scrollTo(m,w),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||p.contentWindow.scrollY===w&&
p.contentWindow.scrollX===m||(a.documentElement.style.top=-w+"px",a.documentElement.style.left=-m+"px",a.documentElement.style.position="absolute")),c(p))},50)};a.open();a.write("\x3c!DOCTYPE html\x3e\x3chtml\x3e\x3c/html\x3e");!e.defaultView||m===e.defaultView.pageXOffset&&w===e.defaultView.pageYOffset||e.defaultView.scrollTo(m,w);a.replaceChild(a.adoptNode(h),a.documentElement);a.close()})}},{"./log":13}],3:[function(k,m,d){function a(c){this.b=this.g=this.r=0;this.a=null;this.fromArray(c)||this.namedColor(c)||
this.rgb(c)||this.rgba(c)||this.hex6(c)||this.hex3(c)}a.prototype.darken=function(c){c=1-c;return new a([Math.round(this.r*c),Math.round(this.g*c),Math.round(this.b*c),this.a])};a.prototype.isTransparent=function(){return 0===this.a};a.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b};a.prototype.fromArray=function(c){Array.isArray(c)&&(this.r=Math.min(c[0],255),this.g=Math.min(c[1],255),this.b=Math.min(c[2],255),3<c.length&&(this.a=c[3]));return Array.isArray(c)};var l=/^#([a-f0-9]{3})$/i;
a.prototype.hex3=function(c){var a=null;null!==(a=c.match(l))&&(this.r=parseInt(a[1][0]+a[1][0],16),this.g=parseInt(a[1][1]+a[1][1],16),this.b=parseInt(a[1][2]+a[1][2],16));return null!==a};var e=/^#([a-f0-9]{6})$/i;a.prototype.hex6=function(c){var a=null;null!==(a=c.match(e))&&(this.r=parseInt(a[1].substring(0,2),16),this.g=parseInt(a[1].substring(2,4),16),this.b=parseInt(a[1].substring(4,6),16));return null!==a};var h=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;a.prototype.rgb=function(c){var a=
null;null!==(a=c.match(h))&&(this.r=Number(a[1]),this.g=Number(a[2]),this.b=Number(a[3]));return null!==a};var t=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;a.prototype.rgba=function(c){var a=null;null!==(a=c.match(t))&&(this.r=Number(a[1]),this.g=Number(a[2]),this.b=Number(a[3]),this.a=Number(a[4]));return null!==a};a.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join()+")":"rgb("+[this.r,this.g,this.b].join()+
")"};a.prototype.namedColor=function(c){c=c.toLowerCase();var a=p[c];if(a)this.r=a[0],this.g=a[1],this.b=a[2];else if("transparent"===c)return this.r=this.g=this.b=this.a=0,!0;return!!a};a.prototype.isColor=!0;var p={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,
158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,
61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],
hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,
136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,
228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,
143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],
whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};m.exports=a},{}],4:[function(k,m,d){function a(a,h){var d=A++;h=h||{};h.logging&&(D.options.logging=!0,D.options.start=Date.now());h.async="undefined"===typeof h.async?!0:h.async;h.allowTaint="undefined"===typeof h.allowTaint?!1:h.allowTaint;h.removeContainer="undefined"===typeof h.removeContainer?!0:h.removeContainer;h.javascriptEnabled="undefined"===typeof h.javascriptEnabled?!1:h.javascriptEnabled;h.imageTimeout="undefined"===
typeof h.imageTimeout?1E4:h.imageTimeout;h.renderer="function"===typeof h.renderer?h.renderer:q;h.strict=!!h.strict;if("string"===typeof a){if("string"!==typeof h.proxy)return Promise.reject("Proxy must be used when rendering url");var k=null!=h.width?h.width:window.innerWidth,p=null!=h.height?h.height:window.innerHeight;return x(c(a),h.proxy,document,k,p,h).then(function(c){return e(c.contentWindow.document.documentElement,c,h,k,p)})}a=(void 0===a?[document.documentElement]:a.length?a:[a])[0];a.setAttribute("data-html2canvas-node"+
d,d);return l(a.ownerDocument,h,a.ownerDocument.defaultView.innerWidth,a.ownerDocument.defaultView.innerHeight,d).then(function(c){"function"===typeof h.onrendered&&(D("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),h.onrendered(c));return c})}function l(c,a,h,d,k){return v(c,c,h,d,a,c.defaultView.pageXOffset,c.defaultView.pageYOffset).then(function(p){D("Document cloned");var n="data-html2canvas-node"+k,m="["+n+"\x3d'"+k+"']";c.querySelector(m).removeAttribute(n);
var n=p.contentWindow,l=n.document.querySelector(m);return("function"===typeof a.onclone?Promise.resolve(a.onclone(n.document)):Promise.resolve(!0)).then(function(){return e(l,p,a,h,d)})})}function e(c,a,e,d,k){var m=a.contentWindow,l=new n(m.document),w=new B(e,l),q=z(c);d="view"===e.type?d:t(m.document);k="view"===e.type?k:p(m.document);var C=new e.renderer(d,k,w,e,document);return(new y(c,C,l,w,e)).ready.then(function(){D("Finished rendering");var d;d="view"===e.type?h(C.canvas,{width:C.canvas.width,
height:C.canvas.height,top:0,left:0,x:0,y:0}):c===m.document.body||c===m.document.documentElement||null!=e.canvas?C.canvas:h(C.canvas,{width:null!=e.width?e.width:q.width,height:null!=e.height?e.height:q.height,top:q.top,left:q.left,x:0,y:0});e.removeContainer&&(a.parentNode.removeChild(a),D("Cleaned up container"));return d})}function h(c,a){var e=document.createElement("canvas"),h=Math.min(c.width-1,Math.max(0,a.left)),d=Math.min(c.width,Math.max(1,a.left+a.width)),k=Math.min(c.height-1,Math.max(0,
a.top)),p=Math.min(c.height,Math.max(1,a.top+a.height));e.width=a.width;e.height=a.height;d-=h;p-=k;D("Cropping canvas at:","left:",a.left,"top:",a.top,"width:",d,"height:",p);D("Resulting crop with width",a.width,"and height",a.height,"with x",h,"and y",k);e.getContext("2d").drawImage(c,h,k,d,p,a.x,a.y,d,p);return e}function t(c){return Math.max(Math.max(c.body.scrollWidth,c.documentElement.scrollWidth),Math.max(c.body.offsetWidth,c.documentElement.offsetWidth),Math.max(c.body.clientWidth,c.documentElement.clientWidth))}
function p(c){return Math.max(Math.max(c.body.scrollHeight,c.documentElement.scrollHeight),Math.max(c.body.offsetHeight,c.documentElement.offsetHeight),Math.max(c.body.clientHeight,c.documentElement.clientHeight))}function c(c){var a=document.createElement("a");a.href=c;a.href=a.href;return a}var n=k("./support"),q=k("./renderers/canvas"),B=k("./imageloader"),y=k("./nodeparser");d=k("./nodecontainer");var D=k("./log"),u=k("./utils"),v=k("./clone"),x=k("./proxy").loadUrlDocument,z=u.getBounds,A=0;
a.CanvasRenderer=q;a.NodeContainer=d;a.log=D;a.utils=u;k="undefined"===typeof document||"function"!==typeof Object.create||"function"!==typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:a;m.exports=k},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(k,m,d){function a(h){this.src=h;l("DummyImageContainer for",h);if(!this.promise||!this.image){l("Initiating DummyImageContainer");
a.prototype.image=new Image;var d=this.image;a.prototype.promise=new Promise(function(a,c){d.onload=a;d.onerror=c;d.src=e();!0===d.complete&&a(d)})}}var l=k("./log"),e=k("./utils").smallImage;m.exports=a},{"./log":13,"./utils":26}],6:[function(k,m,d){var a=k("./utils").smallImage;m.exports=function(d,e){var h=document.createElement("div"),k=document.createElement("img"),p=document.createElement("span");h.style.visibility="hidden";h.style.fontFamily=d;h.style.fontSize=e;h.style.margin=0;h.style.padding=
0;document.body.appendChild(h);k.src=a();k.width=1;k.height=1;k.style.margin=0;k.style.padding=0;k.style.verticalAlign="baseline";p.style.fontFamily=d;p.style.fontSize=e;p.style.margin=0;p.style.padding=0;p.appendChild(document.createTextNode("Hidden Text"));h.appendChild(p);h.appendChild(k);d=k.offsetTop-p.offsetTop+1;h.removeChild(p);h.appendChild(document.createTextNode("Hidden Text"));h.style.lineHeight="normal";k.style.verticalAlign="super";k=k.offsetTop-h.offsetTop+1;document.body.removeChild(h);
this.baseline=d;this.lineWidth=1;this.middle=k}},{"./utils":26}],7:[function(k,m,d){function a(){this.data={}}var l=k("./font");a.prototype.getMetrics=function(a,h){void 0===this.data[a+"-"+h]&&(this.data[a+"-"+h]=new l(a,h));return this.data[a+"-"+h]};m.exports=a},{"./font":6}],8:[function(k,m,d){function a(a,e,d){this.image=null;this.src=a;var c=this,h=l(a);this.promise=(e?new Promise(function(c){"about:blank"===a.contentWindow.document.URL||null==a.contentWindow.document.documentElement?a.contentWindow.onload=
a.onload=function(){c(a)}:c(a)}):this.proxyLoad(d.proxy,h,d)).then(function(c){return k("./core")(c.contentWindow.document.documentElement,{type:"view",width:c.width,height:c.height,proxy:d.proxy,javascriptEnabled:d.javascriptEnabled,removeContainer:d.removeContainer,allowTaint:d.allowTaint,imageTimeout:d.imageTimeout/2})}).then(function(a){return c.image=a})}var l=k("./utils").getBounds,e=k("./proxy").loadUrlDocument;a.prototype.proxyLoad=function(a,d,k){var c=this.src;return e(c.src,a,c.ownerDocument,
d.width,d.height,k)};m.exports=a},{"./core":4,"./proxy":16,"./utils":26}],9:[function(k,m,d){function a(a){this.src=a.value;this.colorStops=[];this.type=null;this.y1=this.x1=this.y0=this.x0=.5;this.promise=Promise.resolve(!0)}a.TYPES={LINEAR:1,RADIAL:2};a.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i;m.exports=a},{}],10:[function(k,m,d){m.exports=function(a,d){this.src=a;this.image=new Image;
var e=this;this.tainted=null;this.promise=new Promise(function(h,k){e.image.onload=h;e.image.onerror=k;d&&(e.image.crossOrigin="anonymous");e.image.src=a;!0===e.image.complete&&h(e.image)})}},{}],11:[function(k,m,d){function a(c,a){this.link=null;this.options=c;this.support=a;this.origin=this.getOrigin(window.location.href)}var l=k("./log"),e=k("./imagecontainer"),h=k("./dummyimagecontainer"),t=k("./proxyimagecontainer"),p=k("./framecontainer"),c=k("./svgcontainer"),n=k("./svgnodecontainer"),q=k("./lineargradientcontainer"),
B=k("./webkitgradientcontainer"),y=k("./utils").bind;a.prototype.findImages=function(c){var a=[];c.reduce(function(c,a){switch(a.node.nodeName){case "IMG":return c.concat([{args:[a.node.src],method:"url"}]);case "svg":case "IFRAME":return c.concat([{args:[a.node],method:a.node.nodeName}])}return c},[]).forEach(this.addImage(a,this.loadImage),this);return a};a.prototype.findBackgroundImage=function(c,a){a.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(c,this.loadImage),
this);return c};a.prototype.addImage=function(c,a){return function(e){e.args.forEach(function(h){this.imageExists(c,h)||(c.splice(0,0,a.call(this,e)),l("Added image #"+c.length,"string"===typeof h?h.substring(0,100):h))},this)}};a.prototype.hasImageBackground=function(c){return"none"!==c.method};a.prototype.loadImage=function(a){return"url"===a.method?(a=a.args[0],!this.isSVG(a)||this.support.svg||this.options.allowTaint?a.match(/data:image\/.*;base64,/i)?new e(a.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,
""),!1):this.isSameOrigin(a)||!0===this.options.allowTaint||this.isSVG(a)?new e(a,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new e(a,!0):this.options.proxy?new t(a,this.options.proxy):new h(a):new c(a)):"linear-gradient"===a.method?new q(a):"gradient"===a.method?new B(a):"svg"===a.method?new n(a.args[0],this.support.svg):"IFRAME"===a.method?new p(a.args[0],this.isSameOrigin(a.args[0].src),this.options):new h(a)};a.prototype.isSVG=function(a){return"svg"===a.substring(a.length-
3).toLowerCase()||c.prototype.isInline(a)};a.prototype.imageExists=function(c,a){return c.some(function(c){return c.src===a})};a.prototype.isSameOrigin=function(c){return this.getOrigin(c)===this.origin};a.prototype.getOrigin=function(c){var a=this.link||(this.link=document.createElement("a"));a.href=c;a.href=a.href;return a.protocol+a.hostname+a.port};a.prototype.getPromise=function(c){return this.timeout(c,this.options.imageTimeout)["catch"](function(){return(new h(c.src)).promise.then(function(a){c.image=
a})})};a.prototype.get=function(c){var a=null;return this.images.some(function(e){return(a=e).src===c})?a:null};a.prototype.fetch=function(c){this.images=c.reduce(y(this.findBackgroundImage,this),this.findImages(c));this.images.forEach(function(c,a){c.promise.then(function(){l("Succesfully loaded image #"+(a+1),c)},function(e){l("Failed loading image #"+(a+1),c,e)})});this.ready=Promise.all(this.images.map(this.getPromise,this));l("Finished searching images");return this};a.prototype.timeout=function(c,
a){var e,h=Promise.race([c.promise,new Promise(function(h,d){e=setTimeout(function(){l("Timed out loading image",c);d(c)},a)})]).then(function(c){clearTimeout(e);return c});h["catch"](function(){clearTimeout(e)});return h};m.exports=a},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(k,m,d){function a(h){l.apply(this,
arguments);this.type=l.TYPES.LINEAR;var d=a.REGEXP_DIRECTION.test(h.args[0])||!l.REGEXP_COLORSTOP.test(h.args[0]);d?h.args[0].split(/\s+/).reverse().forEach(function(a,c){switch(a){case "left":this.x0=0;this.x1=1;break;case "top":this.y0=0;this.y1=1;break;case "right":this.x0=1;this.x1=0;break;case "bottom":this.y0=1;this.y1=0;break;case "to":c=this.y0;a=this.x0;this.y0=this.y1;this.x0=this.x1;this.x1=a;this.y1=c;break;case "center":break;default:a=.01*parseFloat(a,10),isNaN(a)||(0===c?(this.y0=a,
this.y1=1-this.y0):(this.x0=a,this.x1=1-this.x0))}},this):(this.y0=0,this.y1=1);this.colorStops=h.args.slice(d?1:0).map(function(a){a=a.match(l.REGEXP_COLORSTOP);var c=+a[2],h=0===c?"%":a[3];return{color:new e(a[1]),stop:"%"===h?c/100:null}});null===this.colorStops[0].stop&&(this.colorStops[0].stop=0);null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1);this.colorStops.forEach(function(a,c){null===a.stop&&this.colorStops.slice(c).some(function(e,
h){return null!==e.stop?(a.stop=(e.stop-this.colorStops[c-1].stop)/(h+1)+this.colorStops[c-1].stop,!0):!1},this)},this)}var l=k("./gradientcontainer"),e=k("./color");a.prototype=Object.create(l.prototype);a.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i;m.exports=a},{"./color":3,"./gradientcontainer":9}],13:[function(k,m,d){var a=function(){a.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,
[Date.now()-a.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};a.options={logging:!1};m.exports=a},{}],14:[function(k,m,d){function a(c,a){this.node=c;this.parent=a;this.borders=this.bounds=this.stack=null;this.clip=[];this.backgroundClip=[];this.computedStyles=this.visible=this.offsetBounds=null;this.colors={};this.styles={};this.transformMatrix=this.transformData=this.backgroundImages=null;this.isPseudoElement=!1;this.opacity=null}function l(c){if(c&&"matrix"===c[1])return c[2].split(",").map(function(c){return parseFloat(c.trim())});
if(c&&"matrix3d"===c[1])return c=c[2].split(",").map(function(c){return parseFloat(c.trim())}),[c[0],c[1],c[4],c[5],c[12],c[13]]}function e(c){return-1!==c.toString().indexOf("%")}function h(c){return c.replace("px","")}function t(c){return parseFloat(c)}var p=k("./color");k=k("./utils");var c=k.getBounds,n=k.parseBackgrounds,q=k.offsetBounds;a.prototype.cloneTo=function(c){c.visible=this.visible;c.borders=this.borders;c.bounds=this.bounds;c.clip=this.clip;c.backgroundClip=this.backgroundClip;c.computedStyles=
this.computedStyles;c.styles=this.styles;c.backgroundImages=this.backgroundImages;c.opacity=this.opacity};a.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity};a.prototype.assignStack=function(c){this.stack=c;c.children.push(this)};a.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&
("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))};a.prototype.css=function(c){this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null));return this.styles[c]||(this.styles[c]=this.computedStyles[c])};a.prototype.prefixedCss=function(c){var a=["webkit","moz","ms","o"],e=this.css(c);void 0===e&&a.some(function(a){e=this.css(a+c.substr(0,1).toUpperCase()+c.substr(1));return void 0!==e},this);
return void 0===e?null:e};a.prototype.computedStyle=function(c){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,c)};a.prototype.cssInt=function(c){c=parseInt(this.css(c),10);return isNaN(c)?0:c};a.prototype.color=function(c){return this.colors[c]||(this.colors[c]=new p(this.css(c)))};a.prototype.cssFloat=function(c){c=parseFloat(this.css(c));return isNaN(c)?0:c};a.prototype.fontWeight=function(){var c=this.css("fontWeight");switch(parseInt(c,10)){case 401:c="bold";break;case 400:c=
"normal"}return c};a.prototype.parseClip=function(){var c=this.css("clip").match(this.CLIP);return c?{top:parseInt(c[1],10),right:parseInt(c[2],10),bottom:parseInt(c[3],10),left:parseInt(c[4],10)}:null};a.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=n(this.css("backgroundImage")))};a.prototype.cssList=function(c,a){c=(this.css(c)||"").split(",");c=c[a||0]||c[0]||"auto";c=c.trim().split(" ");1===c.length&&(c=[c[0],e(c[0])?"auto":c[0]]);return c};a.prototype.parseBackgroundSize=
function(c,a,h){h=this.cssList("backgroundSize",h);var d;if(e(h[0]))d=c.width*parseFloat(h[0])/100;else{if(/contain|cover/.test(h[0]))return a=a.width/a.height,c.width/c.height<a^"contain"===h[0]?{width:c.height*a,height:c.height}:{width:c.width,height:c.width/a};d=parseInt(h[0],10)}c="auto"===h[0]&&"auto"===h[1]?a.height:"auto"===h[1]?d/a.width*a.height:e(h[1])?c.height*parseFloat(h[1])/100:parseInt(h[1],10);"auto"===h[0]&&(d=c/a.height*a.width);return{width:d,height:c}};a.prototype.parseBackgroundPosition=
function(c,a,h,d){h=this.cssList("backgroundPosition",h);var k;k=e(h[0])?(c.width-(d||a).width)*(parseFloat(h[0])/100):parseInt(h[0],10);c="auto"===h[1]?k/a.width*a.height:e(h[1])?(c.height-(d||a).height)*parseFloat(h[1])/100:parseInt(h[1],10);"auto"===h[0]&&(k=c/a.height*a.width);return{left:k,top:c}};a.prototype.parseBackgroundRepeat=function(c){return this.cssList("backgroundRepeat",c)[0]};a.prototype.parseTextShadows=function(){var c=this.css("textShadow"),a=[];if(c&&"none"!==c)for(var c=c.match(this.TEXT_SHADOW_PROPERTY),
e=0;c&&e<c.length;e++){var h=c[e].match(this.TEXT_SHADOW_VALUES);a.push({color:new p(h[0]),offsetX:h[1]?parseFloat(h[1].replace("px","")):0,offsetY:h[2]?parseFloat(h[2].replace("px","")):0,blur:h[3]?h[3].replace("px",""):0})}return a};a.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var c=this.parseBounds(),a=this.prefixedCss("transformOrigin").split(" ").map(h).map(t);a[0]+=c.left;a[1]+=c.top;this.transformData={origin:a,matrix:this.parseTransformMatrix()}}else this.transformData=
{origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData};a.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var c=this.prefixedCss("transform");this.transformMatrix=(c=c?l(c.match(this.MATRIX_PROPERTY)):null)?c:[1,0,0,1,0,0]}return this.transformMatrix};a.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?q(this.node):c(this.node))};a.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&
this.parent.hasTransform()};a.prototype.getValue=function(){var c=this.node.value||"";"SELECT"===this.node.tagName?(c=this.node,c=(c=c.options[c.selectedIndex||0])?c.text||"":""):"password"===this.node.type&&(c=Array(c.length+1).join("\u2022"));return 0===c.length?this.node.placeholder||"":c};a.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/;a.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g;a.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;a.prototype.CLIP=
/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/;m.exports=a},{"./color":3,"./utils":26}],15:[function(k,m,d){function a(c,a,e,h,d){ha("Starting NodeParser");this.renderer=a;this.options=d;this.range=null;this.support=e;this.renderQueue=[];this.stack=new da(!0,1,c.ownerDocument,null);e=new T(c,null);d.background&&a.rectangle(0,0,a.width,a.height,new ba(d.background));if(c===c.ownerDocument.documentElement){var k=new T(e.color("backgroundColor").isTransparent()?c.ownerDocument.body:c.ownerDocument.documentElement,
null);a.rectangle(0,0,a.width,a.height,k.color("backgroundColor"))}e.visibile=e.isElementVisible();this.createPseudoHideStyles(c.ownerDocument);this.disableAnimations(c.ownerDocument);this.nodes=[].concat.apply([],[e].concat(this.getChildren(e)).filter(function(c){return c.visible=c.isElementVisible()}).map(this.getPseudoElements,this));this.fontMetrics=new K;ha("Fetched nodes, total:",this.nodes.length);ha("Calculate overflow clips");this.calculateOverflowClips();ha("Start fetching images");this.images=
h.fetch(this.nodes.filter(P));this.ready=this.images.ready.then(Y(function(){ha("Images loaded, starting parsing");ha("Creating stacking contexts");this.createStackingContexts();ha("Sorting stacking contexts");this.sortStackingContexts(this.stack);this.parse(this.stack);ha("Render queue created with "+this.renderQueue.length+" items");return new Promise(Y(function(c){d.async?"function"===typeof d.async?d.async.call(this,this.renderQueue,c):0<this.renderQueue.length?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,
c)):c():(this.renderQueue.forEach(this.paint,this),c())},this))},this))}function l(c){return c.replace(/(\-[a-z])/g,function(c){return c.toUpperCase().replace("-","")})}function e(){}function h(c,a,e,h){return c.map(function(d,k){if(0<d.width){var p=a.left,m=a.top,l=a.width,H=a.height-c[2].width;switch(k){case 0:H=c[0].width;d.args=n({c1:[p,m],c2:[p+l,m],c3:[p+l-c[1].width,m+H],c4:[p+c[3].width,m+H]},h[0],h[1],e.topLeftOuter,e.topLeftInner,e.topRightOuter,e.topRightInner);break;case 1:p=a.left+a.width-
c[1].width;l=c[1].width;d.args=n({c1:[p+l,m],c2:[p+l,m+H+c[2].width],c3:[p,m+H],c4:[p,m+c[0].width]},h[1],h[2],e.topRightOuter,e.topRightInner,e.bottomRightOuter,e.bottomRightInner);break;case 2:m=m+a.height-c[2].width;H=c[2].width;d.args=n({c1:[p+l,m+H],c2:[p,m+H],c3:[p+c[3].width,m],c4:[p+l-c[3].width,m]},h[2],h[3],e.bottomRightOuter,e.bottomRightInner,e.bottomLeftOuter,e.bottomLeftInner);break;case 3:l=c[3].width,d.args=n({c1:[p,m+H+c[2].width],c2:[p,m],c3:[p+l,m+c[0].width],c4:[p+l,m+H]},h[3],
h[0],e.bottomLeftOuter,e.bottomLeftInner,e.topLeftOuter,e.topLeftInner)}}return d})}function t(a,e,h,d){var k=(Math.sqrt(2)-1)/3*4,p=h*k,k=d*k;h=a+h;d=e+d;return{topLeft:c({x:a,y:d},{x:a,y:d-k},{x:h-p,y:e},{x:h,y:e}),topRight:c({x:a,y:e},{x:a+p,y:e},{x:h,y:d-k},{x:h,y:d}),bottomRight:c({x:h,y:e},{x:h,y:e+k},{x:a+p,y:d},{x:a,y:d}),bottomLeft:c({x:h,y:d},{x:h-p,y:d},{x:a,y:e+k},{x:a,y:e})}}function p(c,a,e){var h=c.left,d=c.top,k=c.width;c=c.height;var p=a[0][0]<k/2?a[0][0]:k/2,m=a[0][1]<c/2?a[0][1]:
c/2,n=a[1][0]<k/2?a[1][0]:k/2,l=a[1][1]<c/2?a[1][1]:c/2,H=a[2][0]<k/2?a[2][0]:k/2,E=a[2][1]<c/2?a[2][1]:c/2,w=a[3][0]<k/2?a[3][0]:k/2;a=a[3][1]<c/2?a[3][1]:c/2;var K=k-n,q=c-E,da=k-H,ba=c-a;return{topLeftOuter:t(h,d,p,m).topLeft.subdivide(.5),topLeftInner:t(h+e[3].width,d+e[0].width,Math.max(0,p-e[3].width),Math.max(0,m-e[0].width)).topLeft.subdivide(.5),topRightOuter:t(h+K,d,n,l).topRight.subdivide(.5),topRightInner:t(h+Math.min(K,k+e[3].width),d+e[0].width,K>k+e[3].width?0:n-e[3].width,l-e[0].width).topRight.subdivide(.5),
bottomRightOuter:t(h+da,d+q,H,E).bottomRight.subdivide(.5),bottomRightInner:t(h+Math.min(da,k-e[3].width),d+Math.min(q,c+e[0].width),Math.max(0,H-e[1].width),E-e[2].width).bottomRight.subdivide(.5),bottomLeftOuter:t(h,d+ba,w,a).bottomLeft.subdivide(.5),bottomLeftInner:t(h+e[3].width,d+ba,Math.max(0,w-e[3].width),a-e[2].width).bottomLeft.subdivide(.5)}}function c(a,e,h,d){var k=function(c,a,e){return{x:c.x+(a.x-c.x)*e,y:c.y+(a.y-c.y)*e}};return{start:a,startControl:e,endControl:h,end:d,subdivide:function(p){var m=
k(a,e,p),n=k(e,h,p),l=k(h,d,p),H=k(m,n,p),n=k(n,l,p);p=k(H,n,p);return[c(a,m,H,p),c(p,n,l,d)]},curveTo:function(c){c.push(["bezierCurve",e.x,e.y,h.x,h.y,d.x,d.y])},curveToReversed:function(c){c.push(["bezierCurve",h.x,h.y,e.x,e.y,a.x,a.y])}}}function n(c,a,e,h,d,k,p){var m=[];0<a[0]||0<a[1]?(m.push(["line",h[1].start.x,h[1].start.y]),h[1].curveTo(m)):m.push(["line",c.c1[0],c.c1[1]]);0<e[0]||0<e[1]?(m.push(["line",k[0].start.x,k[0].start.y]),k[0].curveTo(m),m.push(["line",p[0].end.x,p[0].end.y]),p[0].curveToReversed(m)):
(m.push(["line",c.c2[0],c.c2[1]]),m.push(["line",c.c3[0],c.c3[1]]));0<a[0]||0<a[1]?(m.push(["line",d[1].end.x,d[1].end.y]),d[1].curveToReversed(m)):m.push(["line",c.c4[0],c.c4[1]]);return m}function q(c,a,e,h,d,k,p){0<a[0]||0<a[1]?(c.push(["line",h[0].start.x,h[0].start.y]),h[0].curveTo(c),h[1].curveTo(c)):c.push(["line",k,p]);(0<e[0]||0<e[1])&&c.push(["line",d[0].start.x,d[0].start.y])}function y(c){return 0>c.cssInt("zIndex")}function u(c){return 0<c.cssInt("zIndex")}function v(c){return 0===c.cssInt("zIndex")}
function x(c){return-1!==["inline","inline-block","inline-table"].indexOf(c.css("display"))}function z(c){return 0<c.node.data.trim().length}function A(c){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(a){a=c.css("border"+a+"Radius").split(" ");1>=a.length&&(a[1]=a[0]);return a.map(U)})}function J(c){return c.nodeType===Node.TEXT_NODE||c.nodeType===Node.ELEMENT_NODE}function F(c){return"static"!==c.css("position")}function G(c){return"none"!==c.css("float")}function I(c){var a=
this;return function(){return!c.apply(a,arguments)}}function P(c){return c.node.nodeType===Node.ELEMENT_NODE}function S(c){return c.node.nodeType===Node.TEXT_NODE}function O(c){return function(a,e){return a.cssInt("zIndex")+c.indexOf(a)/c.length-(e.cssInt("zIndex")+c.indexOf(e)/c.length)}}function U(c){return parseInt(c,10)}function L(c){return c.width}function V(c){return c.node.nodeType!==Node.ELEMENT_NODE||-1==="SCRIPT HEAD TITLE OBJECT BR OPTION".split(" ").indexOf(c.node.nodeName)}function sa(c){for(var a=
[],e=0,h=!1,d;c.length;)-1!==[32,13,10,9,45].indexOf(c[e])===h?(d=c.splice(0,e),d.length&&a.push(ja.ucs2.encode(d)),h=!h,e=0):e++,e>=c.length&&(d=c.splice(0,e),d.length&&a.push(ja.ucs2.encode(d)));return a}var ha=k("./log"),ja=k("punycode"),T=k("./nodecontainer"),na=k("./textcontainer"),H=k("./pseudoelementcontainer"),K=k("./fontmetrics"),ba=k("./color"),da=k("./stackingcontext");k=k("./utils");var Y=k.bind,M=k.getBounds,ca=k.parseBackgrounds,Q=k.offsetBounds;a.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(c){if(P(c)){!0===
c.isPseudoElement&&c.appendToDOM();c.borders=this.parseBorders(c);var a="hidden"===c.css("overflow")?[c.borders.clip]:[],e=c.parseClip();e&&-1!==["absolute","fixed"].indexOf(c.css("position"))&&a.push([["rect",c.bounds.left+e.left,c.bounds.top+e.top,e.right-e.left,e.bottom-e.top]]);c.clip=c.parent&&c.parent.clip.length?c.parent.clip.concat(a):a;c.backgroundClip="hidden"!==c.css("overflow")?c.clip.concat([c.borders.clip]):c.clip;!0===c.isPseudoElement&&c.cleanDOM()}else S(c)&&(c.clip=c.parent&&c.parent.clip.length?
c.parent.clip:[]);!0!==c.isPseudoElement&&(c.bounds=null)},this)};a.prototype.asyncRenderer=function(c,a,e){e=e||Date.now();this.paint(c[this.renderIndex++]);c.length===this.renderIndex?a():e+20>Date.now()?this.asyncRenderer(c,a,e):setTimeout(Y(function(){this.asyncRenderer(c,a)},this),0)};a.prototype.createPseudoHideStyles=function(c){this.createStyles(c,"."+H.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+H.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+
':after { content: "" !important; display: none !important; }')};a.prototype.disableAnimations=function(c){this.createStyles(c,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")};a.prototype.createStyles=function(c,a){var e=c.createElement("style");e.innerHTML=a;c.body.appendChild(e)};
a.prototype.getPseudoElements=function(c){var a=[[c]];if(c.node.nodeType===Node.ELEMENT_NODE){var e=this.getPseudoElement(c,":before");c=this.getPseudoElement(c,":after");e&&a.push(e);c&&a.push(c)}return[].concat.apply([],a)};a.prototype.getPseudoElement=function(c,a){var e=c.computedStyle(a);if(!e||!e.content||"none"===e.content||"-moz-alt-content"===e.content||"none"===e.display)return null;var h,d=e.content;h=d.substr(0,1);h=h===d.substr(d.length-1)&&h.match(/'|"/)?d.substr(1,d.length-2):d;var k=
"url"===h.substr(0,3),d=document.createElement(k?"img":"html2canvaspseudoelement");c=new H(d,c,a);for(a=e.length-1;0<=a;a--){var p=l(e.item(a));d.style[p]=e[p]}d.className=H.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+H.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER;if(k)return d.src=ca(h)[0].args[0],[c];e=document.createTextNode(h);d.appendChild(e);return[c,new na(e,c)]};a.prototype.getChildren=function(c){return[].concat.apply([],[].filter.call(c.node.childNodes,J).map(function(a){var e=[a.nodeType===
Node.TEXT_NODE?new na(a,c):new T(a,c)].filter(V);return a.nodeType===Node.ELEMENT_NODE&&e.length&&"TEXTAREA"!==a.tagName?e[0].isElementVisible()?e.concat(this.getChildren(e[0])):[]:e},this))};a.prototype.newStackingContext=function(c,a){var e=new da(a,c.getOpacity(),c.node,c.parent);c.cloneTo(e);(a?e.getParentStack(this):e.parent.stack).contexts.push(e);c.stack=e};a.prototype.createStackingContexts=function(){this.nodes.forEach(function(c){var a;if(a=P(c))(a=this.isRootElement(c)||1>c.getOpacity())||
(a=c.css("position"),a="auto"!==(-1!==["absolute","relative","fixed"].indexOf(a)?c.css("zIndex"):"auto")),a=a||this.isBodyWithTransparentRoot(c)||c.hasTransform();a?this.newStackingContext(c,!0):P(c)&&(F(c)&&v(c)||-1!==["inline-block","inline-table"].indexOf(c.css("display"))||G(c))?this.newStackingContext(c,!1):c.assignStack(c.parent.stack)},this)};a.prototype.isBodyWithTransparentRoot=function(c){return"BODY"===c.node.nodeName&&c.parent.color("backgroundColor").isTransparent()};a.prototype.isRootElement=
function(c){return null===c.parent};a.prototype.sortStackingContexts=function(c){c.contexts.sort(O(c.contexts.slice(0)));c.contexts.forEach(this.sortStackingContexts,this)};a.prototype.parseTextBounds=function(c){return function(a,e,h){if("none"!==c.parent.css("textDecoration").substr(0,4)||0!==a.trim().length){if(this.support.rangeBounds&&!c.parent.hasTransform())return e=h.slice(0,e).join("").length,this.getRangeBounds(c.node,e,a.length);if(c.node&&"string"===typeof c.node.data)return a=c.node.splitText(a.length),
e=this.getWrapperBounds(c.node,c.parent.hasTransform()),c.node=a,e}else if(!this.support.rangeBounds||c.parent.hasTransform())c.node=c.node.splitText(a.length);return{}}};a.prototype.getWrapperBounds=function(c,a){var e=c.ownerDocument.createElement("html2canvaswrapper"),h=c.parentNode,d=c.cloneNode(!0);e.appendChild(c.cloneNode(!0));h.replaceChild(e,c);c=a?Q(e):M(e);h.replaceChild(d,e);return c};a.prototype.getRangeBounds=function(c,a,e){var h=this.range||(this.range=c.ownerDocument.createRange());
h.setStart(c,a);h.setEnd(c,a+e);return h.getBoundingClientRect()};a.prototype.parse=function(c){var a=c.contexts.filter(y),h=c.children.filter(P),d=h.filter(I(G)),k=d.filter(I(F)).filter(I(x)),h=h.filter(I(F)).filter(G),p=d.filter(I(F)).filter(x),d=c.contexts.concat(d.filter(F)).filter(v),m=c.children.filter(S).filter(z);c=c.contexts.filter(u);a.concat(k).concat(h).concat(p).concat(d).concat(m).concat(c).forEach(function(c){this.renderQueue.push(c);c instanceof da&&(this.parse(c),this.renderQueue.push(new e))},
this)};a.prototype.paint=function(c){try{c instanceof e?this.renderer.ctx.restore():S(c)?(!0===c.parent.isPseudoElement&&c.parent.appendToDOM(),this.paintText(c),!0===c.parent.isPseudoElement&&c.parent.cleanDOM()):this.paintNode(c)}catch(ga){if(ha(ga),this.options.strict)throw ga;}};a.prototype.paintNode=function(c){c instanceof da&&(this.renderer.setOpacity(c.opacity),this.renderer.ctx.save(),c.hasTransform()&&this.renderer.setTransform(c.parseTransform()));"INPUT"===c.node.nodeName&&"checkbox"===
c.node.type?this.paintCheckbox(c):"INPUT"===c.node.nodeName&&"radio"===c.node.type?this.paintRadio(c):this.paintElement(c)};a.prototype.paintElement=function(c){var a=c.parseBounds();this.renderer.clip(c.backgroundClip,function(){this.renderer.renderBackground(c,a,c.borders.borders.map(L))},this);this.renderer.clip(c.clip,function(){this.renderer.renderBorders(c.borders.borders)},this);this.renderer.clip(c.backgroundClip,function(){switch(c.node.nodeName){case "svg":case "IFRAME":var e=this.images.get(c.node);
e?this.renderer.renderImage(c,a,c.borders,e):ha("Error loading \x3c"+c.node.nodeName+"\x3e",c.node);break;case "IMG":(e=this.images.get(c.node.src))?this.renderer.renderImage(c,a,c.borders,e):ha("Error loading \x3cimg\x3e",c.node.src);break;case "CANVAS":this.renderer.renderImage(c,a,c.borders,{image:c.node});break;case "SELECT":case "INPUT":case "TEXTAREA":this.paintFormValue(c)}},this)};a.prototype.paintCheckbox=function(c){var a=c.parseBounds(),e=Math.min(a.width,a.height),d={width:e-1,height:e-
1,top:a.top,left:a.left},a=[3,3],k=[a,a,a,a],m=[1,1,1,1].map(function(c){return{color:new ba("#A5A5A5"),width:c}}),n=p(d,k,m);this.renderer.clip(c.backgroundClip,function(){this.renderer.rectangle(d.left+1,d.top+1,d.width-2,d.height-2,new ba("#DEDEDE"));this.renderer.renderBorders(h(m,d,n,k));c.node.checked&&(this.renderer.font(new ba("#424242"),"normal","normal","bold",e-3+"px","arial"),this.renderer.text("\u2714",d.left+e/6,d.top+e-1))},this)};a.prototype.paintRadio=function(c){var a=c.parseBounds(),
e=Math.min(a.width,a.height)-2;this.renderer.clip(c.backgroundClip,function(){this.renderer.circleStroke(a.left+1,a.top+1,e,new ba("#DEDEDE"),1,new ba("#A5A5A5"));c.node.checked&&this.renderer.circle(Math.ceil(a.left+e/4)+1,Math.ceil(a.top+e/4)+1,Math.floor(e/2),new ba("#424242"))},this)};a.prototype.paintFormValue=function(c){var a=c.getValue();if(0<a.length){var e=c.node.ownerDocument,h=e.createElement("html2canvaswrapper");"lineHeight textAlign fontFamily fontWeight fontSize color paddingLeft paddingTop paddingRight paddingBottom width height borderLeftStyle borderTopStyle borderLeftWidth borderTopWidth boxSizing whiteSpace wordWrap".split(" ").forEach(function(a){try{h.style[a]=
c.css(a)}catch(ua){ha("html2canvas: Parse: Exception caught in renderFormValue: "+ua.message)}});var d=c.parseBounds();h.style.position="fixed";h.style.left=d.left+"px";h.style.top=d.top+"px";h.textContent=a;e.body.appendChild(h);this.paintText(new na(h.firstChild,c));e.body.removeChild(h)}};a.prototype.paintText=function(c){c.applyTextTransform();var a=ja.ucs2.decode(c.node.data),e=this.options.letterRendering&&!/^(normal|none|0px)$/.test(c.parent.css("letterSpacing"))||/[^\u0000-\u00ff]/.test(c.node.data)?
a.map(function(c){return ja.ucs2.encode([c])}):sa(a),a=c.parent.fontWeight(),h=c.parent.css("fontSize"),d=c.parent.css("fontFamily"),k=c.parent.parseTextShadows();this.renderer.font(c.parent.color("color"),c.parent.css("fontStyle"),c.parent.css("fontVariant"),a,h,d);k.length?this.renderer.fontShadow(k[0].color,k[0].offsetX,k[0].offsetY,k[0].blur):this.renderer.clearShadow();this.renderer.clip(c.parent.clip,function(){e.map(this.parseTextBounds(c),this).forEach(function(a,k){a&&(this.renderer.text(e[k],
a.left,a.bottom),this.renderTextDecoration(c.parent,a,this.fontMetrics.getMetrics(d,h)))},this)},this)};a.prototype.renderTextDecoration=function(c,a,e){switch(c.css("textDecoration").split(" ")[0]){case "underline":this.renderer.rectangle(a.left,Math.round(a.top+e.baseline+e.lineWidth),a.width,1,c.color("color"));break;case "overline":this.renderer.rectangle(a.left,Math.round(a.top),a.width,1,c.color("color"));break;case "line-through":this.renderer.rectangle(a.left,Math.ceil(a.top+e.middle+e.lineWidth),
a.width,1,c.color("color"))}};var oa={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};a.prototype.parseBorders=function(c){var a=c.parseBounds(),e=A(c),d=["Top","Right","Bottom","Left"].map(function(a,e){var h=c.css("border"+a+"Style"),d=c.color("border"+a+"Color");"inset"===h&&d.isBlack()&&(d=new ba([255,255,255,d.a]));e=oa[h]?oa[h][e]:null;return{width:c.cssInt("border"+a+"Width"),color:e?d[e[0]](e[1]):d,args:null}}),k=p(a,e,d);return{clip:this.parseBackgroundClip(c,k,d,e,a),borders:h(d,
a,k,e)}};a.prototype.parseBackgroundClip=function(c,a,e,h,d){var k=[];switch(c.css("backgroundClip")){case "content-box":case "padding-box":q(k,h[0],h[1],a.topLeftInner,a.topRightInner,d.left+e[3].width,d.top+e[0].width);q(k,h[1],h[2],a.topRightInner,a.bottomRightInner,d.left+d.width-e[1].width,d.top+e[0].width);q(k,h[2],h[3],a.bottomRightInner,a.bottomLeftInner,d.left+d.width-e[1].width,d.top+d.height-e[2].width);q(k,h[3],h[0],a.bottomLeftInner,a.topLeftInner,d.left+e[3].width,d.top+d.height-e[2].width);
break;default:q(k,h[0],h[1],a.topLeftOuter,a.topRightOuter,d.left,d.top),q(k,h[1],h[2],a.topRightOuter,a.bottomRightOuter,d.left+d.width,d.top),q(k,h[2],h[3],a.bottomRightOuter,a.bottomLeftOuter,d.left+d.width,d.top+d.height),q(k,h[3],h[0],a.bottomLeftOuter,a.topLeftOuter,d.left,d.top+d.height)}return k};m.exports=a},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(k,m,d){function a(c,
a,d){var k="withCredentials"in new XMLHttpRequest;if(!a)return Promise.reject("No proxy configured");var m=e(k);c=h(a,c,m);return k?p(c):l(d,c,m).then(function(c){return q(c.content)})}function l(c,a,e){return new Promise(function(h,d){var k=c.createElement("script"),p=function(){delete window.html2canvas.proxy[e];c.body.removeChild(k)};window.html2canvas.proxy[e]=function(c){p();h(c)};k.src=a;k.onerror=function(c){p();d(c)};c.body.appendChild(k)})}function e(c){return c?"":"html2canvas_"+Date.now()+
"_"+ ++y+"_"+Math.round(1E5*Math.random())}function h(c,a,e){return c+"?url\x3d"+encodeURIComponent(a)+(e.length?"\x26callback\x3dhtml2canvas.proxy."+e:"")}function t(a){return function(e){var h=new DOMParser,d;try{d=h.parseFromString(e,"text/html")}catch(ia){c("DOMParser not supported, falling back to createHTMLDocument");d=document.implementation.createHTMLDocument("");try{d.open(),d.write(e),d.close()}catch(Ga){c("createHTMLDocument write not supported, falling back to document.body.innerHTML"),
d.body.innerHTML=e}}e=d.querySelector("base");e&&e.href.host||(e=d.createElement("base"),e.href=a,d.head.insertBefore(e,d.head.firstChild));return d}}var p=k("./xhr");m=k("./utils");var c=k("./log"),n=k("./clone"),q=m.decode64,y=0;d.Proxy=a;d.ProxyURL=function(c,a,d){var k="crossOrigin"in new Image,p=e(k);c=h(a,c,p);return k?Promise.resolve(c):l(d,c,p).then(function(c){return"data:"+c.type+";base64,"+c.content})};d.loadUrlDocument=function(c,e,h,d,k,p){return(new a(c,e,window.document)).then(t(c)).then(function(c){return n(c,
h,d,k,p,0,0)})}},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(k,m,d){var a=k("./proxy").ProxyURL;m.exports=function(d,e){var h=document.createElement("a");h.href=d;this.src=d=h.href;this.image=new Image;var k=this;this.promise=new Promise(function(h,c){k.image.crossOrigin="Anonymous";k.image.onload=h;k.image.onerror=c;(new a(d,e,document)).then(function(c){k.image.src=c})["catch"](c)})}},{"./proxy":16}],18:[function(k,m,d){function a(a,h,d){l.call(this,a,h);this.isPseudoElement=
!0;this.before=":before"===d}var l=k("./nodecontainer");a.prototype.cloneTo=function(e){a.prototype.cloneTo.call(this,e);e.isPseudoElement=!0;e.before=this.before};a.prototype=Object.create(l.prototype);a.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node);this.parent.node.className+=" "+this.getHideClass()};a.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node);this.parent.node.className=
this.parent.node.className.replace(this.getHideClass(),"")};a.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]};a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before";a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after";m.exports=a},{"./nodecontainer":14}],19:[function(k,m,d){function a(a,h,d,k,c){this.width=a;this.height=h;this.images=d;this.options=k;this.document=c}var l=k("./log");
a.prototype.renderImage=function(a,h,d,k){var c=a.cssInt("paddingLeft"),e=a.cssInt("paddingTop"),p=a.cssInt("paddingRight");a=a.cssInt("paddingBottom");d=d.borders;p=h.width-(d[1].width+d[3].width+c+p);a=h.height-(d[0].width+d[2].width+e+a);this.drawImage(k,0,0,k.image.width||p,k.image.height||a,h.left+c+d[3].width,h.top+e+d[0].width,p,a)};a.prototype.renderBackground=function(a,h,d){0<h.height&&0<h.width&&(this.renderBackgroundColor(a,h),this.renderBackgroundImage(a,h,d))};a.prototype.renderBackgroundColor=
function(a,h){a=a.color("backgroundColor");a.isTransparent()||this.rectangle(h.left,h.top,h.width,h.height,a)};a.prototype.renderBorders=function(a){a.forEach(this.renderBorder,this)};a.prototype.renderBorder=function(a){a.color.isTransparent()||null===a.args||this.drawShape(a.args,a.color)};a.prototype.renderBackgroundImage=function(a,h,d){a.parseBackgroundImages().reverse().forEach(function(e,c,k){switch(e.method){case "url":var p=this.images.get(e.args[0]);p?this.renderBackgroundRepeating(a,h,
p,k.length-(c+1),d):l("Error loading background-image",e.args[0]);break;case "linear-gradient":case "gradient":(c=this.images.get(e.value))?this.renderBackgroundGradient(c,h,d):l("Error loading background-image",e.args[0]);break;case "none":break;default:l("Unknown background-image type",e.args[0])}},this)};a.prototype.renderBackgroundRepeating=function(a,h,d,k,c){var e=a.parseBackgroundSize(h,d.image,k),p=a.parseBackgroundPosition(h,d.image,k,e);switch(a.parseBackgroundRepeat(k)){case "repeat-x":case "repeat no-repeat":this.backgroundRepeatShape(d,
p,e,h,h.left+c[3],h.top+p.top+c[0],99999,e.height,c);break;case "repeat-y":case "no-repeat repeat":this.backgroundRepeatShape(d,p,e,h,h.left+p.left+c[3],h.top+c[0],e.width,99999,c);break;case "no-repeat":this.backgroundRepeatShape(d,p,e,h,h.left+p.left+c[3],h.top+p.top+c[0],e.width,e.height,c);break;default:this.renderBackgroundRepeat(d,p,e,{top:h.top,left:h.left},c[3],c[0])}};m.exports=a},{"./log":13}],20:[function(k,m,d){function a(a,c){e.apply(this,arguments);this.canvas=this.options.canvas||this.document.createElement("canvas");
this.options.canvas||(this.canvas.width=a,this.canvas.height=c);this.ctx=this.canvas.getContext("2d");this.taintCtx=this.document.createElement("canvas").getContext("2d");this.ctx.textBaseline="bottom";this.variables={};t("Initialized CanvasRenderer with size",a,"x",c)}function l(a){return 0<a.length}var e=k("../renderer"),h=k("../lineargradientcontainer"),t=k("../log");a.prototype=Object.create(e.prototype);a.prototype.setFillStyle=function(a){this.ctx.fillStyle="object"===typeof a&&a.isColor?a.toString():
a;return this.ctx};a.prototype.rectangle=function(a,c,e,h,d){this.setFillStyle(d).fillRect(a,c,e,h)};a.prototype.circle=function(a,c,e,h){this.setFillStyle(h);this.ctx.beginPath();this.ctx.arc(a+e/2,c+e/2,e/2,0,2*Math.PI,!0);this.ctx.closePath();this.ctx.fill()};a.prototype.circleStroke=function(a,c,e,h,d,k){this.circle(a,c,e,h);this.ctx.strokeStyle=k.toString();this.ctx.stroke()};a.prototype.drawShape=function(a,c){this.shape(a);this.setFillStyle(c).fill()};a.prototype.taints=function(a){if(null===
a.tainted){this.taintCtx.drawImage(a.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),a.tainted=!1}catch(c){this.taintCtx=document.createElement("canvas").getContext("2d"),a.tainted=!0}}return a.tainted};a.prototype.drawImage=function(a,c,e,h,d,k,m,l,t){this.taints(a)&&!this.options.allowTaint||this.ctx.drawImage(a.image,c,e,h,d,k,m,l,t)};a.prototype.clip=function(a,c,e){this.ctx.save();a.filter(l).forEach(function(c){this.shape(c).clip()},this);c.call(e);this.ctx.restore()};a.prototype.shape=function(a){this.ctx.beginPath();
a.forEach(function(c,a){"rect"===c[0]?this.ctx.rect.apply(this.ctx,c.slice(1)):this.ctx[0===a?"moveTo":c[0]+"To"].apply(this.ctx,c.slice(1))},this);this.ctx.closePath();return this.ctx};a.prototype.font=function(a,c,e,h,d,k){this.setFillStyle(a).font=[c,e,h,d,k].join(" ").split(",")[0]};a.prototype.fontShadow=function(a,c,e,h){this.setVariable("shadowColor",a.toString()).setVariable("shadowOffsetY",c).setVariable("shadowOffsetX",e).setVariable("shadowBlur",h)};a.prototype.clearShadow=function(){this.setVariable("shadowColor",
"rgba(0,0,0,0)")};a.prototype.setOpacity=function(a){this.ctx.globalAlpha=a};a.prototype.setTransform=function(a){this.ctx.translate(a.origin[0],a.origin[1]);this.ctx.transform.apply(this.ctx,a.matrix);this.ctx.translate(-a.origin[0],-a.origin[1])};a.prototype.setVariable=function(a,c){this.variables[a]!==c&&(this.variables[a]=this.ctx[a]=c);return this};a.prototype.text=function(a,c,e){this.ctx.fillText(a,c,e)};a.prototype.backgroundRepeatShape=function(a,c,e,h,d,k,m,l,t){this.clip([[["line",Math.round(d),
Math.round(k)],["line",Math.round(d+m),Math.round(k)],["line",Math.round(d+m),Math.round(l+k)],["line",Math.round(d),Math.round(l+k)]]],function(){this.renderBackgroundRepeat(a,c,e,h,t[3],t[0])},this)};a.prototype.renderBackgroundRepeat=function(a,c,e,h,d,k){d=Math.round(h.left+c.left+d);c=Math.round(h.top+c.top+k);this.setFillStyle(this.ctx.createPattern(this.resizeImage(a,e),"repeat"));this.ctx.translate(d,c);this.ctx.fill();this.ctx.translate(-d,-c)};a.prototype.renderBackgroundGradient=function(a,
c){if(a instanceof h){var e=this.ctx.createLinearGradient(c.left+c.width*a.x0,c.top+c.height*a.y0,c.left+c.width*a.x1,c.top+c.height*a.y1);a.colorStops.forEach(function(c){e.addColorStop(c.stop,c.color.toString())});this.rectangle(c.left,c.top,c.width,c.height,e)}};a.prototype.resizeImage=function(a,c){a=a.image;if(a.width===c.width&&a.height===c.height)return a;var e=document.createElement("canvas");e.width=c.width;e.height=c.height;e.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,c.width,
c.height);return e};m.exports=a},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(k,m,d){function a(a,h,d,k){l.call(this,d,k);this.ownStacking=a;this.contexts=[];this.children=[];this.opacity=(this.parent?this.parent.stack.opacity:1)*h}var l=k("./nodecontainer");a.prototype=Object.create(l.prototype);a.prototype.getParentStack=function(a){var e=this.parent?this.parent.stack:null;return e?e.ownStacking?e:e.getParentStack(a):a.stack};m.exports=a},{"./nodecontainer":14}],
22:[function(k,m,d){function a(a){this.rangeBounds=this.testRangeBounds(a);this.cors=this.testCORS();this.svg=this.testSVG()}a.prototype.testRangeBounds=function(a){var e,h,d=!1;a.createRange&&(e=a.createRange(),e.getBoundingClientRect&&(h=a.createElement("boundtest"),h.style.height="123px",h.style.display="block",a.body.appendChild(h),e.selectNode(h),e=e.getBoundingClientRect(),e=e.height,123===e&&(d=!0),a.body.removeChild(h)));return d};a.prototype.testCORS=function(){return"undefined"!==typeof(new Image).crossOrigin};
a.prototype.testSVG=function(){var a=new Image,e=document.createElement("canvas"),h=e.getContext("2d");a.src="data:image/svg+xml,\x3csvg xmlns\x3d'http://www.w3.org/2000/svg'\x3e\x3c/svg\x3e";try{h.drawImage(a,0,0),e.toDataURL()}catch(t){return!1}return!0};m.exports=a},{}],23:[function(k,m,d){function a(a){this.src=a;this.image=null;var e=this;this.promise=this.hasFabric().then(function(){return e.isInline(a)?Promise.resolve(e.inlineFormatting(a)):l(a)}).then(function(a){return new Promise(function(c){window.html2canvas.svg.fabric.loadSVGFromString(a,
e.createCanvas.call(e,c))})})}var l=k("./xhr"),e=k("./utils").decode64;a.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(Error("html2canvas.svg.js is not loaded, cannot render svg"))};a.prototype.inlineFormatting=function(a){return/^data:image\/svg\+xml;base64,/.test(a)?this.decode64(this.removeContentType(a)):this.removeContentType(a)};a.prototype.removeContentType=function(a){return a.replace(/^data:image\/svg\+xml(;base64)?,/,
"")};a.prototype.isInline=function(a){return/^data:image\/svg\+xml/i.test(a)};a.prototype.createCanvas=function(a){var e=this;return function(h,c){var d=new window.html2canvas.svg.fabric.StaticCanvas("c");e.image=d.lowerCanvasEl;d.setWidth(c.width).setHeight(c.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(h,c)).renderAll();a(d.lowerCanvasEl)}};a.prototype.decode64=function(a){return"function"===typeof window.atob?window.atob(a):e(a)};m.exports=a},{"./utils":26,"./xhr":28}],24:[function(k,
m,d){function a(a,e){this.src=a;this.image=null;var h=this;this.promise=e?new Promise(function(e,d){h.image=new Image;h.image.onload=e;h.image.onerror=d;h.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(a);!0===h.image.complete&&e(h.image)}):this.hasFabric().then(function(){return new Promise(function(e){window.html2canvas.svg.fabric.parseSVGDocument(a,h.createCanvas.call(h,e))})})}k=k("./svgcontainer");a.prototype=Object.create(k.prototype);m.exports=a},{"./svgcontainer":23}],
25:[function(k,m,d){function a(a,d){e.call(this,a,d)}function l(a,e,d){if(0<a.length)return e+d.toUpperCase()}var e=k("./nodecontainer");a.prototype=Object.create(e.prototype);a.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))};a.prototype.transform=function(a){var e=this.node.data;switch(a){case "lowercase":return e.toLowerCase();case "capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,l);case "uppercase":return e.toUpperCase();default:return e}};
m.exports=a},{"./nodecontainer":14}],26:[function(k,m,d){d.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"};d.bind=function(a,d){return function(){return a.apply(d,arguments)}};d.decode64=function(a){var d=a.length,e,h,k,m,c,l,q="";for(e=0;e<d;e+=4)h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[e]),k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[e+1]),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[e+
2]),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[e+3]),h=h<<2|k>>4,k=(k&15)<<4|m>>2,l=(m&3)<<6|c,q=64===m?q+String.fromCharCode(h):64===c||-1===c?q+String.fromCharCode(h,k):q+String.fromCharCode(h,k,l);return q};d.getBounds=function(a){if(a.getBoundingClientRect){var d=a.getBoundingClientRect(),e=null==a.offsetWidth?d.width:a.offsetWidth;return{top:d.top,bottom:d.bottom||d.top+d.height,right:d.left+e,left:d.left,width:e,height:null==a.offsetHeight?d.height:a.offsetHeight}}return{}};
d.offsetBounds=function(a){var k=a.offsetParent?d.offsetBounds(a.offsetParent):{top:0,left:0};return{top:a.offsetTop+k.top,bottom:a.offsetTop+a.offsetHeight+k.top,right:a.offsetLeft+k.left+a.offsetWidth,left:a.offsetLeft+k.left,width:a.offsetWidth,height:a.offsetHeight}};d.parseBackgrounds=function(a){var d,e,h,k,m,c=[],l=0,q=0,y,u,v=function(){d&&('"'===e.substr(0,1)&&(e=e.substr(1,e.length-2)),e&&u.push(e),"-"===d.substr(0,1)&&0<(k=d.indexOf("-",1)+1)&&(h=d.substr(0,k),d=d.substr(k)),c.push({prefix:h,
method:d.toLowerCase(),value:m,args:u,image:null}));u=[];d=h=e=m=""};u=[];d=h=e=m="";a.split("").forEach(function(c){if(!(0===l&&-1<" \r\n\t".indexOf(c))){switch(c){case '"':y?y===c&&(y=null):y=c;break;case "(":if(!y){if(0===l){l=1;m+=c;return}q++}break;case ")":if(!y&&1===l){if(0===q){l=0;m+=c;v();return}q--}break;case ",":if(!y){if(0===l){v();return}if(1===l&&0===q&&!d.match(/^url$/i)){u.push(e);e="";m+=c;return}}}m+=c;0===l?d+=c:e+=c}});v();return c}},{}],27:[function(k,m,d){function a(a){l.apply(this,
arguments);this.type="linear"===a.args[0]?l.TYPES.LINEAR:l.TYPES.RADIAL}var l=k("./gradientcontainer");a.prototype=Object.create(l.prototype);m.exports=a},{"./gradientcontainer":9}],28:[function(k,m,d){m.exports=function(a){return new Promise(function(d,e){var h=new XMLHttpRequest;h.open("GET",a);h.onload=function(){200===h.status?d(h.responseText):e(Error(h.statusText))};h.onerror=function(){e(Error("Network Error"))};h.send()})}},{}]},{},[4])(4)}();!0;(function(f){var k;k=function(){function k(a){var e,
d,f,c;this.data=a;this.pos=8;this.palette=[];this.imgData=[];this.transparency={};this.animation=null;this.text={};for(f=null;;){e=this.readUInt32();c=a=void 0;c=[];for(a=0;4>a;++a)c.push(String.fromCharCode(this.data[this.pos++]));a=c.join("");switch(a){case "IHDR":this.width=this.readUInt32();this.height=this.readUInt32();this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=this.data[this.pos++];this.interlaceMethod=
this.data[this.pos++];break;case "acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||Infinity,frames:[]};break;case "PLTE":this.palette=this.read(e);break;case "fcTL":f&&this.animation.frames.push(f);this.pos+=4;f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()};a=this.readUInt16();e=this.readUInt16()||100;f.delay=1E3*a/e;f.disposeOp=this.data[this.pos++];f.blendOp=this.data[this.pos++];f.data=[];break;case "IDAT":case "fdAT":"fdAT"===
a&&(this.pos+=4,e-=4);a=(null!=f?f.data:void 0)||this.imgData;for(c=0;0<=e?c<e:c>e;0<=e?++c:--c)a.push(this.data[this.pos++]);break;case "tRNS":this.transparency={};switch(this.colorType){case 3:a=this.palette.length/3;this.transparency.indexed=this.read(e);if(this.transparency.indexed.length>a)throw Error("More transparent colors than palette size");e=a-this.transparency.indexed.length;if(0<e)for(a=0;0<=e?a<e:a>e;0<=e?++a:--a)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=
this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case "tEXt":c=this.read(e);e=c.indexOf(0);a=String.fromCharCode.apply(String,c.slice(0,e));this.text[a]=String.fromCharCode.apply(String,c.slice(e+1));break;case "IEND":f&&this.animation.frames.push(f);a:{switch(this.colorType){case 0:case 3:case 4:f=1;break a;case 2:case 6:f=3;break a}f=void 0}this.colors=f;this.hasAlphaChannel=4===(d=this.colorType)||6===d;d=this.colors+(this.hasAlphaChannel?1:0);this.pixelBitlength=this.bits*
d;a:{switch(this.colors){case 1:d="DeviceGray";break a;case 3:d="DeviceRGB";break a}d=void 0}this.colorSpace=d;this.imgData=new Uint8Array(this.imgData);return;default:this.pos+=e}this.pos+=4;if(this.pos>this.data.length)throw Error("Incomplete or corrupt PNG file");}}var d,a,l;k.load=function(a,d,f){var e;"function"===typeof d&&(f=d);e=new XMLHttpRequest;e.open("GET",a,!0);e.responseType="arraybuffer";e.onload=function(){var c;c=new Uint8Array(e.response||e.mozResponseArrayBuffer);c=new k(c);"function"===
typeof(null!=d?d.getContext:void 0)&&c.render(d);return"function"===typeof f?f(c):void 0};return e.send(null)};k.prototype.read=function(a){var e,d;d=[];for(e=0;0<=a?e<a:e>a;0<=a?++e:--e)d.push(this.data[this.pos++]);return d};k.prototype.readUInt32=function(){var a,d,f,k;a=this.data[this.pos++]<<24;d=this.data[this.pos++]<<16;f=this.data[this.pos++]<<8;k=this.data[this.pos++];return a|d|f|k};k.prototype.readUInt16=function(){var a,d;a=this.data[this.pos++]<<8;d=this.data[this.pos++];return a|d};
k.prototype.decodePixels=function(a){var e,d,f,c,k,m,l,q,w,u,v,x,z,A,J;null==a&&(a=this.imgData);if(0===a.length)return new Uint8Array(0);a=new y(a);a=a.getBytes();q=this.pixelBitlength/8;x=q*this.width;w=new Uint8Array(x*this.height);m=a.length;for(d=u=v=0;u<m;){switch(a[u++]){case 0:for(c=e=0;e<x;c=e+=1)w[d++]=a[u++];break;case 1:for(c=z=0;z<x;c=z+=1)e=a[u++],k=c<q?0:w[d-q],w[d++]=(e+k)%256;break;case 2:for(c=k=0;k<x;c=k+=1)e=a[u++],f=(c-c%q)/q,z=v&&w[(v-1)*x+f*q+c%q],w[d++]=(z+e)%256;break;case 3:for(c=
J=0;J<x;c=J+=1)e=a[u++],f=(c-c%q)/q,k=c<q?0:w[d-q],z=v&&w[(v-1)*x+f*q+c%q],w[d++]=(e+Math.floor((k+z)/2))%256;break;case 4:for(c=J=0;J<x;c=J+=1)e=a[u++],f=(c-c%q)/q,k=c<q?0:w[d-q],0===v?z=A=0:(z=w[(v-1)*x+f*q+c%q],A=f&&w[(v-1)*x+(f-1)*q+c%q]),l=k+z-A,c=Math.abs(l-k),f=Math.abs(l-z),l=Math.abs(l-A),k=c<=f&&c<=l?k:f<=l?z:A,w[d++]=(e+k)%256;break;default:throw Error("Invalid filter algorithm: "+a[u-1]);}v++}return w};k.prototype.decodePalette=function(){var a,d,f,k,c,l,m,q,w;f=this.palette;l=this.transparency.indexed||
[];c=new Uint8Array((l.length||0)+f.length);d=m=a=k=0;for(q=f.length;m<q;d=m+=3)c[k++]=f[d],c[k++]=f[d+1],c[k++]=f[d+2],c[k++]=null!=(w=l[a++])?w:255;return c};k.prototype.copyToImageData=function(a,d){var e,h,c,f,k,l,m;h=this.colors;m=null;e=this.hasAlphaChannel;this.palette.length&&(m=null!=(c=this._decodedPalette)?c:this._decodedPalette=this.decodePalette(),h=4,e=!0);a=a.data||a;l=a.length;f=m||d;c=k=0;if(1===h)for(;c<l;)h=m?4*d[c/4]:k,k=f[h++],a[c++]=k,a[c++]=k,a[c++]=k,a[c++]=e?f[h++]:255,k=
h;else for(;c<l;)h=m?4*d[c/4]:k,a[c++]=f[h++],a[c++]=f[h++],a[c++]=f[h++],a[c++]=e?f[h++]:255,k=h};k.prototype.decode=function(){var a;a=new Uint8Array(this.width*this.height*4);this.copyToImageData(a,this.decodePixels());return a};try{a=f.document.createElement("canvas"),l=a.getContext("2d")}catch(e){return-1}d=function(e){l.width=e.width;l.height=e.height;l.clearRect(0,0,e.width,e.height);l.putImageData(e,0,0);e=new Image;e.src=a.toDataURL();return e};k.prototype.decodeFrames=function(a){var e,
f,k,c,l,m,q;if(this.animation){m=this.animation.frames;q=[];e=c=0;for(l=m.length;c<l;e=++c)e=m[e],f=a.createImageData(e.width,e.height),k=this.decodePixels(new Uint8Array(e.data)),this.copyToImageData(f,k),e.imageData=f,q.push(e.image=d(f));return q}};k.prototype.renderFrame=function(a,d){var e,h;h=this.animation.frames;e=h[d];h=h[d-1];0===d&&a.clearRect(0,0,this.width,this.height);1===(null!=h?h.disposeOp:void 0)?a.clearRect(h.xOffset,h.yOffset,h.width,h.height):2===(null!=h?h.disposeOp:void 0)&&
a.putImageData(h.imageData,h.xOffset,h.yOffset);0===e.blendOp&&a.clearRect(e.xOffset,e.yOffset,e.width,e.height);return a.drawImage(e.image,e.xOffset,e.yOffset)};k.prototype.animate=function(a){var e,d,f,c,k,l,m=this;d=0;l=this.animation;c=l.numFrames;f=l.frames;k=l.numPlays;return(e=function(){var h,l;h=d++%c;l=f[h];m.renderFrame(a,h);if(1<c&&d/c<k)return m.animation._timeout=setTimeout(e,l.delay)})()};k.prototype.stopAnimation=function(){var a;return clearTimeout(null!=(a=this.animation)?a._timeout:
void 0)};k.prototype.render=function(a){var e;a._png&&a._png.stopAnimation();a._png=this;a.width=this.width;a.height=this.height;a=a.getContext("2d");if(this.animation)return this.decodeFrames(a),this.animate(a);e=a.createImageData(this.width,this.height);this.copyToImageData(e,this.decodePixels());return a.putImageData(e,0,0)};return k}();f.AcroForm.PNG=k})("undefined"!==typeof window&&window||void 0);var x=function(){function f(){this.bufferLength=this.pos=0;this.eof=!1;this.buffer=null}f.prototype=
{ensureBuffer:function(f){var k=this.buffer,d=k?k.byteLength:0;if(f<d)return k;for(var a=512;a<f;)a<<=1;f=new Uint8Array(a);for(a=0;a<d;++a)f[a]=k[a];return this.buffer=f},getByte:function(){for(var f=this.pos;this.bufferLength<=f;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(f){var k=this.pos;if(f){this.ensureBuffer(k+f);for(f=k+f;!this.eof&&this.bufferLength<f;)this.readBlock();var d=this.bufferLength;f>d&&(f=d)}else{for(;!this.eof;)this.readBlock();
f=this.bufferLength}this.pos=f;return this.buffer.subarray(k,f)},lookChar:function(){for(var f=this.pos;this.bufferLength<=f;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var f=this.pos;this.bufferLength<=f;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(f,l,d){for(var a=f+l;this.bufferLength<=a&&!this.eof;)this.readBlock();return new Stream(this.buffer,f,l,
d)},skip:function(f){f||(f=1);this.pos+=f},reset:function(){this.pos=0}};return f}(),y=function(){function f(a){throw Error(a);}function k(a){var e=0,d=a[e++],c=a[e++];-1!=d&&-1!=c||f("Invalid header in flate stream");8!=(d&15)&&f("Unknown compression method in flate stream");0!=((d<<8)+c)%31&&f("Bad FCHECK in flate stream");c&32&&f("FDICT bit set in flate stream");this.bytes=a;this.bytesPos=e;this.codeBuf=this.codeSize=0;x.call(this)}if("undefined"!==typeof Uint32Array){var l=new Uint32Array([16,
17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),a=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),q=[new Uint32Array([459008,524368,524304,524568,459024,524400,
524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59E4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,
524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,
524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,
524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,
524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,
524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,
524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,
524367,590079]),9],e=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];k.prototype=Object.create(x.prototype);k.prototype.getBits=function(a){for(var e=this.codeSize,d=this.codeBuf,c=this.bytes,h=this.bytesPos,k;e<a;)"undefined"==typeof(k=c[h++])&&f("Bad encoding in flate stream"),d|=k<<e,e+=8;this.codeBuf=d>>a;this.codeSize=
e-=a;this.bytesPos=h;return d&(1<<a)-1};k.prototype.getCode=function(a){var e=a[0],d=a[1];a=this.codeSize;for(var c=this.codeBuf,h=this.bytes,k=this.bytesPos;a<d;){var l;"undefined"==typeof(l=h[k++])&&f("Bad encoding in flate stream");c|=l<<a;a+=8}d=e[c&(1<<d)-1];e=d>>16;d&=65535;(0==a||a<e||0==e)&&f("Bad encoding in flate stream");this.codeBuf=c>>e;this.codeSize=a-e;this.bytesPos=k;return d};k.prototype.generateHuffmanTable=function(a){for(var e=a.length,d=0,c=0;c<e;++c)a[c]>d&&(d=a[c]);for(var f=
1<<d,h=new Uint32Array(f),k=1,l=0,m=2;k<=d;++k,l<<=1,m<<=1)for(var q=0;q<e;++q)if(a[q]==k){for(var w=0,u=l,c=0;c<k;++c)w=w<<1|u&1,u>>=1;for(c=w;c<f;c+=m)h[c]=k<<16|q;++l}return[h,d]};k.prototype.readBlock=function(){function h(c,a,e,d,f){for(c=c.getBits(e)+d;0<c--;)a[y++]=f}var k=this.getBits(3);k&1&&(this.eof=!0);k>>=1;if(0==k){var m=this.bytes,c=this.bytesPos,n;"undefined"==typeof(n=m[c++])&&f("Bad block header in flate stream");var w=n;"undefined"==typeof(n=m[c++])&&f("Bad block header in flate stream");
w|=n<<8;"undefined"==typeof(n=m[c++])&&f("Bad block header in flate stream");k=n;"undefined"==typeof(n=m[c++])&&f("Bad block header in flate stream");(k|n<<8)!=(~w&65535)&&f("Bad uncompressed block length in flate stream");this.codeSize=this.codeBuf=0;n=this.bufferLength;k=this.ensureBuffer(n+w);this.bufferLength=w=n+w;for(var u=n;u<w;++u){if("undefined"==typeof(n=m[c++])){this.eof=!0;break}k[u]=n}this.bytesPos=c}else{if(1==k)c=q,n=e;else if(2==k){k=this.getBits(5)+257;n=this.getBits(5)+1;for(var m=
this.getBits(4)+4,c=Array(l.length),y=0;y<m;)c[l[y++]]=this.getBits(3);c=this.generateHuffmanTable(c);y=m=0;n=k+n;for(w=Array(n);y<n;)u=this.getCode(c),16==u?h(this,w,2,3,m):17==u?h(this,w,3,3,m=0):18==u?h(this,w,7,11,m=0):w[y++]=m=u;c=this.generateHuffmanTable(w.slice(0,k));n=this.generateHuffmanTable(w.slice(k,n))}else f("Unknown block type in flate stream");w=(k=this.buffer)?k.length:0;for(u=this.bufferLength;;){var v=this.getCode(c);if(256>v)u+1>=w&&(k=this.ensureBuffer(u+1),w=k.length),k[u++]=
v;else{if(256==v){this.bufferLength=u;break}var v=v-257,v=d[v],x=v>>16;0<x&&(x=this.getBits(x));m=(v&65535)+x;v=this.getCode(n);v=a[v];x=v>>16;0<x&&(x=this.getBits(x));v=(v&65535)+x;u+m>=w&&(k=this.ensureBuffer(u+m),w=k.length);for(x=0;x<m;++x,++u)k[u]=k[u-v]}}}};return k}}();String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")});String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s\s*$/,"")});return q}})})},"widgets/PublicNotification/Download_CSV":function(){define(["dojo/_base/array",
"dojo/_base/declare","dojo/Deferred"],function(I,A,v){return A(null,{save:function(x,u){var q=new v;x=I.map(x,function(l){return'"'+l.join('","')+'"\n'});u=this._createAndSaveCSV(x,u);q.resolve(u);return q},_createAndSaveCSV:function(v,u){v=new Blob(v,{type:"text/csv"});if(u)if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(v,u+".csv");else{var q=window.document.createElement("a");q.href=window.URL.createObjectURL(v);q.download=u+".csv";document.body.appendChild(q);q.click();document.body.removeChild(q);
window.URL.revokeObjectURL(v)}return v}})})},"widgets/PublicNotification/Highlighter":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Deferred esri/graphic esri/symbols/SimpleFillSymbol esri/symbols/SimpleLineSymbol esri/symbols/SimpleMarkerSymbol".split(" "),function(I,A,v,x,u,q,l,F){return A([],{constructor:function(l){this._drawingChunkSize="number"===typeof l?l:100},createGraphic:function(v,x){function y(a,d){var e;a.getLayer&&(e=a.getLayer())&&(a=a.getLayer()._getSymbol(a),
!a||isNaN(a.width)||isNaN(a.height)||(d=1+Math.max(a.width,a.height)));return d}var f,k,m=null,d=10;if(v)if(v.geometry)k=v.geometry,f=k.type;else if(k=v,k.hasOwnProperty("x")&&k.hasOwnProperty("y"))f="point";else if(k.hasOwnProperty("paths"))f="polyline";else if(k.hasOwnProperty("rings"))f="polygon";else if(k.hasOwnProperty("points"))f="multipoint";else return null;else return null;switch(f){case "point":if(isNaN(k.x)||isNaN(k.y))return null;d=y(v,d);m=new u(k,new F(F.STYLE_SQUARE,d,new l(l.STYLE_SOLID,
x.point.lineColor,x.point.lineWidth),x.point.fillColor));break;case "polyline":m=new u(k,new l(l.STYLE_SOLID,x.line.lineColor,x.line.lineWidth));break;case "polygon":m=new u(k,new q(q.STYLE_SOLID,new l(l.STYLE_SOLID,x.polygon.lineColor,x.polygon.lineWidth),x.polygon.fillColor));break;case "multipoint":d=y(v,d),m=new u(k,new F(F.STYLE_SQUARE,d,new l(l.STYLE_SOLID,x.point.lineColor,x.point.lineWidth),x.point.fillColor))}return m},highlightFeatures:function(l,q,u,f,k){var m,d=new x;0<l.length?l.length<=
this._drawingChunkSize?this._highlightFeatures(l,q,u,f).then(function(){d.resolve(!0)}):(k(0),m=Math.ceil(l.length/this._drawingChunkSize),setTimeout(v.hitch(this,function(){this._highlightFeaturesContinuation(l,q,u,f,k,this._drawingChunkSize,m,0,0).then(function(){d.resolve(!0)})}),50)):d.resolve(!0);return d},_highlightFeaturesContinuation:function(l,q,u,f,k,m,d,a,w){var e,h=new x;if(w>=l.length)return h.resolve(!0),h;e=Math.min(w+m,l.length);this._highlightFeatures(l.slice(w,e),q,u,f).then(v.hitch(this,
function(){++a;k(100*a/d);setTimeout(v.hitch(this,function(){this._highlightFeaturesContinuation(l,q,u,f,k,this._drawingChunkSize,d,a,e).then(function(){h.resolve(!0)})}),10)}));return h},_highlightFeatures:function(l,q,u,f){var k=new x;I.forEach(l,function(k){q(k,u,f)},this);k.resolve(!0);return k}})})},"widgets/PublicNotification/labelFormatUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/Deferred dojo/promise/all dojo/string esri/arcade/arcade esri/arcade/Feature esri/graphic ./generalUtils".split(" "),
function(I,A,v,x,u,q,l,F,z){var J={convertPopupToLabelSpec:function(l){l=z.sanitizeNoTags(J.convertBreaksToEOLs(J.convertEndParasToEOLs(l))).trim();l=l.replace(/\{/gi,"${");l=l.replace(/\u00a0/gi," ");l=l.split("\n");return l=I.map(l,function(f){return f.trim()})},createLabelsFromFeatures:function(l,f){var k=new v,m=[],d=[],a=0;f.relationships?(I.forEach(l,function(a){J.objEach(f.relationships,function(e,h){var k=new v,l=e.relatedQuery,c;d.push(k);c=a.attributes[e.operLayer.layerObject.objectIdField];
l.objectIds=[c];e.operLayer.layerObject.queryRelatedFeatures(l,function(e){var d=[];e[c]&&e[c].features&&(e=e[c].features,I.forEach(e,function(c){var e=[],k,l,m,n;k=a.attributes;l="relationships/"+h+"/";J.objEach(c.attributes,function(c,a){m=l+a;k[m]=c});n=new F(a.geometry,null,k);I.forEach(f,function(c){e.push(u.substitute(c,J.combineFeatureAttributesAndExpressionResolutions(n,f.parsedExpressions),J.useEmptyStringForNull))});d.push(e)}));k.resolve(d)})})}),x(d).then(function(d){I.forEach(d,function(e){I.forEach(e,
function(e){++a;m.push(e)})});console.log(a+" related address features found");k.resolve(m)})):(I.forEach(l,function(a){var e=[];I.forEach(f,function(d){e.push(u.substitute(d,J.combineFeatureAttributesAndExpressionResolutions(a,f.parsedExpressions),J.useEmptyStringForNull))});m.push(e)}),k.resolve(m));return k},parseArcadeExpressions:function(l){var f;Array.isArray(l)&&0<l.length&&(f={},I.forEach(l,function(k){f[k.name]=q.parseScript(k.expression)}));return f},initArcadeContext:function(q){var f=
{vars:{}};f.vars.$feature=l.createFromGraphicLikeObject(q.geometry,q.attributes);return f},combineFeatureAttributesAndExpressionResolutions:function(l,f){var k,m,d;k=A.mixin({},l.attributes);if(f)for(m in l=J.initArcadeContext(l),f)d=q.executeScript(f[m],l),k["expression/"+m]=d?d.toString():"";return k},convertEndParasToEOLs:function(l){var f=l;l=l.match(/<\/p>/gi);I.forEach(l,function(k){f=f.replace(k,"\n")});return f},convertBreaksToEOLs:function(l){var f=l;l=l.match(/<br\s*\/?>/gi);I.forEach(l,
function(k){f=f.replace(k,"\n")});return f},useEmptyStringForNull:function(l){return l?l:""},objEach:function(l,f,k){for(var m in l)l.hasOwnProperty(m)&&f.call(k,l[m],m)}};return J})},"widgets/PublicNotification/generalUtils":function(){define(["jimu/utils"],function(I){return{sanitizeNoTags:function(A){var v;v=I.sanitizeHTML(A);A=/<(?:!--(?:(?:-*[^->])*--+|-?)|script\b(?:[^"'>]|"[^"]*"|'[^']*')*>[\s\S]*?<\/script\s*|style\b(?:[^"'>]|"[^"]*"|'[^']*')*>[\s\S]*?<\/style\s*|\/?[a-z](?:[^"'>]|"[^"]*"|'[^']*')*)>/gi;
var x;do x=v,v=v.replace(A,"");while(v!==x);return v=v.replace(/</g,"\x26lt;").trim()}}})},"widgets/PublicNotification/Queryer":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Deferred esri/geometry/geometryEngineAsync esri/tasks/BufferParameters esri/tasks/GeometryService esri/tasks/query esri/tasks/QueryTask".split(" "),function(I,A,v,x,u,q,l,F,z){return A([],{constructor:function(q,u){this.map=q;this._geometryService=new l(u)},createUnionOfGeometries:function(l){var q;
q=new x;if(!Array.isArray(l))return q.reject("No geometries to buffer"),q;u.union(l).then(v.hitch(this,function(f){f?q.resolve(f):q.reject("Unioning failed")}),v.hitch(this,function(){q.reject("Unioning failed")}));return q},createBufferFromGeometries:function(z,y){var f,k,m;f=new x;if(!Array.isArray(z))return f.reject("No geometries to buffer"),f;k=y;u.union(z).then(v.hitch(this,function(d){d?0<k||"polygon"===d.type?(0===k&&(k=-.1),m=new q,m.bufferSpatialReference=this.map.spatialReference,m.distances=
[k],m.geodesic=!0,m.geometries=[d],m.outSpatialReference=this.map.spatialReference,m.unit=l.UNIT_METER,this._geometryService.buffer(m,function(a){Array.isArray(a)&&0<a.length?f.resolve(a[0]):f.reject("Buffering failed")},function(a){f.reject("Buffering failed: "+a)})):f.resolve(d):f.reject("Unioning failed")}),function(d){f.reject(d)});return f},findIntersectingFeatures:function(A,y,f){var k,m=new x,d={};y=new z(y);k=new F;k.geometry=A;k.returnGeometry=!0;k.outFields=f;y.execute(k,v.hitch(this,function(a){a&&
Array.isArray(a.features)&&0<a.features.length?u.union(this._getFeatureGeometries(a.features)).then(v.hitch(this,function(f){var e;Array.isArray(f.rings)&&0<f.rings.length?(e=new q,e.bufferSpatialReference=this.map.spatialReference,e.distances=[-.1],e.geodesic=!0,e.geometries=[f],e.outSpatialReference=this.map.spatialReference,e.unit=l.UNIT_METER,this._geometryService.buffer(e,function(e){Array.isArray(e)&&0<e.length?(d.intersectGeometry=A,d.features=a.features,d.highlight=e[0],m.resolve(d)):m.reject("Buffering union failed")})):
(d.intersectGeometry=A,d.features=a.features,d.highlight=f,m.resolve(d))})):(d.intersectGeometry=A,d.features=[],d.highlight=null,m.resolve(d))}),function(a){m.reject(a)});return m},find:function(l,q,f,k){var m=new x;this.findIntersectingFeatures(l,q,f).then(v.hitch(this,function(d){console.log(d.features.length+" "+k+" features found");m.resolve(d)}),function(d){m.reject(d)});return m},_getFeatureGeometries:function(l){return I.map(l,v.hitch(this,function(l){return l.geometry}))}})})},"widgets/PublicNotification/SearchLayers":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/on dojo/when dojo/promise/all jimu/BaseWidget jimu/portalUtils jimu/utils esri/lang esri/request esri/dijit/Search esri/tasks/locator esri/layers/FeatureLayer esri/InfoTemplate".split(" "),
function(I,A,v,x,u,q,l,F,z,J,y,f,k,m,d,a){return I([F],{baseClass:"jimu-search-layers",declaredClass:"jimu.dijit.SearchLayers",_searchDijitReady:null,_searchDijit:null,_layerInfosObj:null,_esriLocatorRegExp:/geocode(.){0,3}\.arcgis.com\/arcgis\/rest\/services\/World\/GeocodeServer/g,constructor:function(a,e,d,f){this._searchDijitReady=new x;this._layerInfosObj=d;this.own(d.on("layerInfosFilterChanged",A.hitch(this,this._onLayerInfosFilterChanged)));q(this._getConfigInfo(a,e)).then(A.hitch(this,function(a){return l(this._convertConfig(a)).then(function(c){return v.filter(c,
function(c){return c})})})).then(A.hitch(this,function(e){a.sources=e;this._searchDijit=new k(a,f);this._searchDijit.startup();this.setFocus();this._searchDijitReady.resolve(this._searchDijit)}))},searchDijit:function(){return this._searchDijitReady},setFocus:function(){this._searchDijit&&this._searchDijit.inputNode.focus()},destroy:function(){this._searchDijit&&(this._searchDijit.destroy(),this._searchDijit=null);this.inherited(arguments)},_onLayerInfosFilterChanged:function(a){v.some(a,A.hitch(this,
function(a){this._searchDijit&&this._searchDijit.sources&&0<this._searchDijit.sources.length&&v.forEach(this._searchDijit.sources,function(e){e._featureLayerId===a.id&&e.featureLayer.setDefinitionExpression(a.getFilter())})}))},_getConfigInfo:function(a,e){return a&&a.sources&&0<a.sources.length?(e=null,this._searchLayer(a.map)&&a.upgradeFromGeocoder?(e=a.map.itemInfo.itemData.applicationProperties.viewing.search,e=v.map(e.layers,A.hitch(this,function(e,d){d.hintText=e;return this._getQueryTypeGeocoder(a.map,
d)},e.hintText)),l(e).then(A.hitch(this,function(e){a.sources=[].concat(e).concat(a.sources);return a}))):a):q(this._getSourcesFromPortalAndWebmap(a.map,e)).then(A.hitch(this,function(a){return{allPlaceholder:"",showInfoWindowOnSelect:!1,sources:a}}))},_convertConfig:function(a){return v.map(a.sources,A.hitch(this,function(e){var f=new x;if(e&&e.url&&"locator"===e.type){var k={locator:new m(e.url||""),outFields:["*"],singleLineFieldName:e.singleLineFieldName||"",name:J.stripHTML(e.name||""),placeholder:J.stripHTML(e.placeholder||
""),countryCode:e.countryCode||"",maxSuggestions:e.maxSuggestions,maxResults:e.maxResults||6,zoomScale:e.zoomScale||5E4,useMapExtent:!!e.searchInCurrentMapExtent};e.enableLocalSearch&&(k.localSearchOptions={minScale:e.localSearchMinScale,distance:e.localSearchDistance});f.resolve(k)}else e&&e.url&&"query"===e.type?(k=new d(e.url||null,{outFields:["*"]}),this.own(u(k,"load",A.hitch(this,function(d){var c=d.layer,h=this._getInfoTemplate(c,e,e.displayField),k=null;e.searchFields&&0<e.searchFields.length?
k=e.searchFields:(k=[],v.forEach(c.fields,function(a){"esriFieldTypeOID"!==a.type&&a.name!==c.objectIdField&&"esriFieldTypeGeometry"!==a.type&&k.push(a.name)}));d={featureLayer:c,outFields:["*"],searchFields:k,displayField:e.displayField||"",exactMatch:!!e.exactMatch,name:J.stripHTML(e.name||""),placeholder:J.stripHTML(e.placeholder||""),maxSuggestions:e.maxSuggestions||6,maxResults:e.maxResults||6,zoomScale:e.zoomScale||5E4,infoTemplate:h,useMapExtent:!!e.searchInCurrentMapExtent,_featureLayerId:e.layerId,
enableHighlight:!0,showInfoWindowOnSelect:a.showInfoWindowOnSelect,enableInfoWindow:a.showInfoWindowOnSelect};h||delete d.infoTemplate;d._featureLayerId&&(h=this._layerInfosObj.getLayerInfoById(d._featureLayerId),c.setDefinitionExpression(h.getFilter()));f.resolve(d)}))),this.own(u(k,"error",function(){f.resolve(null)}))):f.resolve(null);return f}))},_getInfoTemplate:function(d,e,f){var h=this._layerInfosObj.getLayerInfoById(e.layerId),k=h&&h.getInfoTemplate(),c=h&&k;if(h&&!c)return null;c||(k=new a,
k.setTitle("\x26nbsp;"),k.setContent(A.hitch(this,"_formatContent",e.name,d,f)));return k},_getSourcesFromPortalAndWebmap:function(a,e){var d=[],f=null;this._searchLayer(a)&&(f=a.itemInfo.itemData.applicationProperties.viewing.search,v.forEach(f.layers,A.hitch(this,function(e,c){c.hintText=e;d.push(this._getQueryTypeGeocoder(a,c))},f.hintText)));return z.getPortalSelfInfo(e).then(A.hitch(this,function(a){if((a=a.helperServices&&a.helperServices.geocode)&&0<a.length)for(var c=0,e=a.length;c<e;c++){var f=
a[c];f&&d.push(this._processSingleLine(f))}return l(d).then(A.hitch(this,function(a){for(var c=[],e=0;e<a.length;e++){var d=a[e];d&&(d&&"query"===d.type||(d={name:d.name||this._getGeocodeName(d.url),url:d.url,singleLineFieldName:d.singleLineFieldName,placeholder:d.placeholder||d.name||this._getGeocodeName(d.url),maxResults:6,searchInCurrentMapExtent:!1,type:"locator"},d.enableLocalSearch=this._isEsriLocator(d.url),d.localSearchMinScale=3E5,d.localSearchDistance=5E4),c.push(d))}return c}))}))},_getQueryTypeGeocoder:function(a,
e){a=a.getLayer(e.id);var d=null,f=null,k=null,k=y.isDefined(e.subLayer)?e.id+"_"+e.subLayer:e.id,d=this._layerInfosObj.traversal(function(a){return a.id===k?(f=a,!0):!1});return a&&d&&f?(d=y.isDefined(e.subLayer)?f.url||a.url+"/"+e.subLayer:f.url||a.url,{name:f.title,layerId:k,url:d,placeholder:e.hintText,searchFields:[e.field.name],displayField:e.field.name,exactMatch:e.field.exactMatch||!1,maxResults:6,searchInCurrentMapExtent:!1,type:"query"}):null},_isEsriLocator:function(a){this._esriLocatorRegExp.lastIndex=
0;return this._esriLocatorRegExp.test(a)},_processSingleLine:function(a){if(a.singleLineFieldName)return a;if(this._isEsriLocator(a.url))return a.singleLineFieldName="SingleLine",a;var e=new x;f({url:a.url,content:{f:"json"},handleAs:"json",callbackParamName:"callback"}).then(A.hitch(this,function(d){d.singleLineAddressField&&d.singleLineAddressField.name?(a.singleLineFieldName=d.singleLineAddressField.name,e.resolve(a)):(console.warn(a.url+"has no singleLineFieldName"),e.resolve(null))}),A.hitch(this,
function(a){console.error(a);e.resolve(null)}));return e.promise},_getGeocodeName:function(a){if("string"!==typeof a)return"geocoder";a=a.split("/");return a[a.length-2]||"geocoder"},_getGeocoderName:function(a){return this._getGeocodeName(a)},_hasAppSearchInfo:function(a){return a.itemInfo&&a.itemInfo.itemData&&a.itemInfo.itemData.applicationProperties&&a.itemInfo.itemData.applicationProperties.viewing&&a.itemInfo.itemData.applicationProperties.viewing.search},_searchLayer:function(a){if(!this._hasAppSearchInfo(a))return!1;
a=a.itemInfo.itemData.applicationProperties.viewing.search;return a.enabled&&0!==a.layers.length?!0:!1}})})},"esri/dijit/Search":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Evented dojo/Deferred dojo/keys dojo/on dojo/query dojo/uacss dojo/regexp dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/date/locale dojo/i18n!../nls/jsapi dojo/text!./Search/templates/Search.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_FocusMixin dijit/a11yclick dijit/focus ../lang ../InfoTemplate ../kernel ../SpatialReference ../graphic ../promiseList ../symbols/PictureMarkerSymbol ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../symbols/TextSymbol ../symbols/Font ../geometry/Point ../geometry/Extent ../geometry/normalizeUtils ../geometry/scaleUtils ../tasks/locator ../tasks/query ../Color ../styles/basic".split(" "),
function(I,A,v,x,u,q,l,F,z,J,y,f,k,m,d,a,w,e,h,t,p,c,n,C,B,N,D,X,aa,ia,Ga,Ha,G,Z,P,S,O,U,L,V,sa,ha,ja,T){function na(a,c){a&&c&&(a._layer=c,a._sourceLayer=c)}A=A([t,p,c,u],{declaredClass:"esri.dijit.Search",templateString:h,reHostedFS:/https?:\/\/services.*\.arcgis\.com/i,constructor:function(a,c){this.css={searchGroup:"searchGroup",searchInput:"searchInput",searchInputGroup:"searchInputGroup",searchBtn:"searchBtn",searchSubmit:"searchSubmit",searchIcon:"searchIcon esri-icon-search",searchButtonText:"searchButtonText",
searchToggle:"searchToggle",searchToggleIcon:"searchIcon esri-icon-down-arrow",searchMenu:"searchMenu",searchMenuHeader:"menuHeader",searchClear:"searchClear",searchClearIcon:"searchIcon esri-icon-close searchClose",searchSpinner:"searchIcon esri-icon-loading-indicator searchSpinner",searchSourceName:"sourceName",suggestionsMenu:"suggestionsMenu",sourcesMenu:"sourcesMenu",activeSource:"active",hasValue:"hasValue",hasButtonMode:"hasButtonMode",hasMultipleSources:"hasMultipleSources",showSuggestions:"showSuggestions",
showSources:"showSources",showNoResults:"showNoResults",searchLoading:"searchLoading",latLonHeader:"searchLatLongHeader",searchMoreResults:"moreResults",searchMoreResultsList:"resultsList",searchMoreResultsHeader:"moreHeader",searchMoreResultsItem:"moreItem",searchMoreResultsListHeader:"popupHeader",searchShowMoreResults:"showMoreResults",searchNoResultsMenu:"noResultsMenu",searchNoResultsBody:"noResultsBody",searchNoResultsHeader:"noResultsHeader",searchNoValueIcon:"noValueIcon esri-icon-notice-triangle",
searchNoValueText:"noValueText",searchNoResultsText:"noResultsText",searchExpandContainer:"searchExpandContainer",searchAnimateContainer:"searchAnimate",searchExpanded:"searchExpanded",searchCollapsed:"searchCollapsed",searchClearFloat:"searchClearFloat"};this._allIndex="all";this._objectIdIdentifier="_objectId";this._deferreds=[];this._sourceNames=[];this.defaultSource={locator:new sa("//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"),singleLineFieldName:"SingleLine",outFields:["Addr_type",
"Match_addr","StAddr","City"],name:e.widgets.Search.main.esriLocatorName,localSearchOptions:{minScale:3E5,distance:5E4},placeholder:e.widgets.Search.main.placeholder,highlightSymbol:(new Ga(I.toUrl("./Search/images/search-pointer.png"),36,36)).setOffset(9,18)};this.options={map:null,theme:"arcgisSearch",visible:!0,value:"",allPlaceholder:"",sources:[this.defaultSource],activeSourceIndex:0,suggestionDelay:150,enableSourcesMenu:!0,enableSuggestionsMenu:!0,enableInfoWindow:!0,showInfoWindowOnSelect:!0,
enableSuggestions:!0,enableButtonMode:!1,autoNavigate:!0,autoSelect:!0,addLayersFromMap:!1,zoomScale:1E3,graphicsLayer:null,enableHighlight:!0,highlightGraphic:null,enableLabel:!1,labelSymbol:(new P).setColor(new ja([181,56,46,.9])).setFont(new S("14px",S.STYLE_NORMAL,S.VARIANT_NORMAL,S.WEIGHT_BOLD,"Arial")),labelGraphic:null,infoTemplate:new N(e.widgets.Search.main.searchResult,'\x3cdiv class\x3d"${searchTheme}"\x3e\x3cdiv id\x3d"${searchMoreResultsId}" class\x3d"${searchMoreResults}"\x3e\x3cdiv class\x3d"${searchMoreResultsItem}"\x3e${searchResult}\x3c/div\x3e\x3cdiv\x3e${searchMoreResultsHtml}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
searchResults:null,suggestResults:null,selectedResult:null,magicKey:null,selectedFeatureId:null,expanded:!1,maxLength:128,maxResults:6,maxSuggestions:6,locationToAddressDistance:1500,minCharacters:1,enableSearchingAll:!0};a=v.mixin({},this.options,a);this.set(a);this._updateActiveSource();this._i18n=e;this._defaultSR=new X(4326);this.domNode=c},startup:function(){this.inherited(arguments);this.sources||(this.sources=[]);this._mapLoaded().then(v.hitch(this,this._init))},postCreate:function(){var a=
this;this.inherited(arguments);this._moreResultsId=this.id+"_more_results";this.own(F(this.submitNode,n,v.hitch(this,this._searchButton)));this.own(F(this.sourcesBtnNode,n,v.hitch(this,this._toggleSourcesMenu)));this.own(F(this.inputNode,n,v.hitch(this,this._inputClick)));this.own(F(this.clearNode,n,v.hitch(this,this._clearButton)));this.own(F(this.formNode,"submit",v.hitch(this,function(a){a.preventDefault();this._cancelSuggest();this.search()})));this.own(F(this.inputNode,"keyup",v.hitch(this,function(a){this._inputKey(a)})));
this.own(F(this.sourcesBtnNode,"keyup",v.hitch(this,function(a){this._sourceBtnKey(a)})));this.own(F(this.suggestionsNode,"li:click, li:keyup",function(c){a._suggestionsEvent(c,this)}));this.own(F(this.sourcesNode,"li:click, li:keyup",function(c){a._sourcesEvent(c,this)}));this.own(F(this.inputNode,"input, paste",v.hitch(this,function(){this._suggestDelay()})));this.map&&this.map.infoWindow&&this.map.infoWindow.domNode&&this.enableInfoWindow&&(this.own(F(this.map.infoWindow.domNode,"#"+this._moreResultsId+
"_show:click",v.hitch(this,function(a){this._showMoreResultsClick(a)}))),this.own(F(this.map.infoWindow.domNode,"#"+this._moreResultsId+"_list li a:click",v.hitch(this,function(a){this._moreResultsClick(a)}))),this.own(F(this.map.infoWindow.domNode,"#"+this._moreResultsId+" [data-switch-coordinates]:click",v.hitch(this,function(a){this._switchCoordinatesClick(a)}))));this.value&&this._checkStatus();this._hideMenus();this._updateVisible();this._insertSources(this.sources);this._setPlaceholder(this.activeSourceIndex);
this._updateButtonMode(this.enableButtonMode);this.toggle(this.expanded)},destroy:function(){this.clear();a.empty(this.domNode);this.inherited(arguments)},clear:function(){this.clearGraphics();k.get(this.inputNode,"value")&&k.set(this.inputNode,"value","");this._changeAttrValue("value","");this.set("searchResults",null);this.set("suggestResults",null);this.set("selectedResult",null);this.set("magicKey",null);this.set("selectedFeatureId",null);m.remove(this.containerNode,this.css.hasValue);k.set(this.clearNode,
"title","");this._hideMenus();this._closePopup();this._hideLoading();this.emit("clear-search")},show:function(){d.set(this.domNode,"display","block")},hide:function(){d.set(this.domNode,"display","none")},expand:function(){this.enableButtonMode&&(m.add(this.containerNode,this.css.searchExpanded),m.remove(this.containerNode,this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!0))},collapse:function(){this.enableButtonMode&&(m.remove(this.containerNode,this.css.searchExpanded),m.add(this.containerNode,
this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!1))},toggle:function(a){this.enableButtonMode&&("undefined"===typeof a&&(a=!this.expanded),a?this.expand():this.collapse())},search:function(a){var c=new q;this._mapLoaded().then(v.hitch(this,function(){this._searchDeferred(a).then(v.hitch(this,function(a){var e=a.results;this.set("searchResults",e);0===a.numResults&&(this._noResults(a.value),this._showNoResultsMenu());this._hideLoading();this.emit("search-results",a);this._selectFirstResult(e,
a.activeSourceIndex);c.resolve(e)}),v.hitch(this,function(a){c.reject(a)}))}));return c.promise},suggest:function(a){var c=new q;this._mapLoaded().then(v.hitch(this,function(){this._suggestDeferred(a).then(v.hitch(this,function(a){if(a){var e=a.results;this.set("suggestResults",e);this._insertSuggestions(e,a.value);this.emit("suggest-results",a);c.resolve(e)}}),v.hitch(this,function(a){c.reject(a)}))}));return c.promise},select:function(a){var c=this._getDefaultSymbol(a),e=this.labelSymbol,d,f=this.sources,
h=this.activeSourceIndex,k=this.enableHighlight,l=this.enableLabel,m=this.autoNavigate,H=this.showInfoWindowOnSelect,n=this.enableInfoWindow,p=this.infoTemplate,q=a.feature?new aa(a.feature.toJson()):null,t=q?a.feature._sourceLayer:null;na(q,t);if(h===this._allIndex){var u=this._getSourceIndexOfResult(a);null!==u&&(d=f[u],h=u)}else d=f[h];d&&(d.hasOwnProperty("highlightSymbol")&&(c=d.highlightSymbol),d.hasOwnProperty("labelSymbol")&&(e=d.labelSymbol),d.hasOwnProperty("enableHighlight")&&(k=d.enableHighlight),
d.hasOwnProperty("enableLabel")&&(l=d.enableLabel),d.hasOwnProperty("autoNavigate")&&(m=d.autoNavigate),d.hasOwnProperty("showInfoWindowOnSelect")&&(H=d.showInfoWindowOnSelect),d.hasOwnProperty("enableInfoWindow")&&(n=d.enableInfoWindow),d.hasOwnProperty("infoTemplate")?p=d.infoTemplate:d.featureLayer&&d.featureLayer.infoTemplate&&(p=d.featureLayer.infoTemplate));this._hideMenus();this._hideLoading();if(q){var f=this.highlightGraphic,w=this.graphicsLayer,u=this.labelGraphic,x=v.mixin({},q.attributes,
{searchTheme:this.theme,searchResult:this._searchResultHTML(a),searchMoreResults:this.css.searchMoreResults,searchMoreResultsItem:this.css.searchMoreResultsItem,searchMoreResultsId:this._moreResultsId,searchMoreResultsHtml:this._moreResultsHTML(a)}),y=null;n&&(y=p);u?(u.setGeometry(q.geometry),u.setAttributes(x),u.setSymbol(e),e&&"textsymbol"===e.type&&u.symbol.setText(a.name)):(u=new aa(q.geometry,e,x),na(u,t),e&&"textsymbol"===e.type&&u.symbol.setText(a.name),l&&(w?w.add(u):this.map&&this.map.graphics&&
this.map.graphics.add(u)));f?(f.setGeometry(q.geometry),f.setAttributes(x),f.setInfoTemplate(y),f.setSymbol(c)):(f=new aa(q.geometry,c,x,y),na(f,t),k&&(w?w.add(f):this.map&&this.map.graphics&&this.map.graphics.add(f)));f&&f.symbol&&"textsymbol"===f.symbol.type&&f.symbol.setText(a.name);this.map&&this.map.infoWindow&&n&&H&&(this.map.infoWindow.setFeatures([f]),c=this._getPointFromGeometry(f.geometry),this.map.infoWindow.show(c));this.map&&m&&a&&a.hasOwnProperty("extent")&&"function"===typeof this.map.setExtent&&
this.map.setExtent(a.extent,!0);this.set("highlightGraphic",f);this.set("labelGraphic",u)}this.set("selectedResult",a);this.emit("select-result",{result:a,source:d,sourceIndex:h})},focus:function(){C.focus(this.inputNode)},blur:function(){this.inputNode.blur();C.curNode&&C.curNode.blur()},clearGraphics:function(){var a=this.highlightGraphic,c=this.graphicsLayer,e=this.labelGraphic;a&&(c?c.remove(a):this.map&&this.map.graphics&&this.map.graphics.remove(a));e&&(c?c.remove(e):this.map&&this.map.graphics&&
this.map.graphics.remove(e));this.set("labelGraphic",null);this.set("highlightGraphic",null)},_mapLoaded:function(){var a=new q;if(this.map)if(this.map.loaded)a.resolve();else F.once(this.map,"load",v.hitch(this,function(){a.resolve()}));else a.resolve();return a.promise},_init:function(){this._getMapLayers().then(v.hitch(this,function(){this.set("loaded",!0);this.emit("load")}))},_clearButton:function(){this.clear();C.focus(this.inputNode)},_error:function(a){return Error(this.declaredClass+" "+
a)},_searchDeferred:function(a){var c=new q,e=this.value,d=this.activeSourceIndex;a&&a.hasOwnProperty("index")&&(d=a.index);this._showLoading();this._hideMenus();this._closePopup();this.clearGraphics();var f={magicKey:this.magicKey,text:e};a?"string"===typeof a?(f.text=a,a=this._searchQueries(f)):a="object"===typeof a&&a.hasOwnProperty("magicKey")?this._searchQueries(a):"object"===typeof a&&a.hasOwnProperty("geometry")?this._searchQueries({geometry:a}):"object"===typeof a&&a.hasOwnProperty(this._objectIdIdentifier)?
this._searchQueries(a):"object"===typeof a&&"point"===a.type?this._searchQueries({point:a}):a instanceof Array&&2===a.length?this._searchQueries({latlon:a}):this._searchQueries(f):a=this._searchQueries(f);a.always(v.hitch(this,function(a){a=this._formatResults(a,d,e);c.resolve(a)}));return c.promise},_suggestDeferred:function(a){var c=new q;this._deferreds.push(c);a||(a=this.value);var e=this.activeSourceIndex;this._suggestQueries({text:a}).always(v.hitch(this,function(d){var f;if(d)for(var h=0;h<
d.length;h++)d[h]&&(f=!0);f?(d=this._formatResults(d,e,a),c.resolve(d)):c.resolve()}));return c.promise},_getDefaultSymbol:function(a){var c,e,d,f;this.map&&(f=this.map.getBasemap());f||(f="topo");a&&a.feature&&a.feature.geometry&&(d=a.feature.geometry.type);"polyline"===d?d="line":"circle"===d||"extent"===d?d="polygon":"multipoint"===d&&(d="point");if(d){if(a=T.getSchemes({theme:"default",basemap:f,geometryType:d}))e=a.primaryScheme;if(e){e.color&&e.hasOwnProperty("opacity")&&(e.color.a=e.opacity);
c=e;a=e.color;e=e.size;var h;switch(d){case "point":h=new Ha;h.setColor(a);h.setSize(null!==e?e:c.size);d=new G;d.setColor(c.outline.color);d.setWidth(c.outline.width);h.setOutline(d);break;case "line":h=new G;h.setColor(a);h.setWidth(null!==e?e:c.width);break;case "polygon":h=new Z,h.setColor(a),d=new G,d.setColor(c.outline.color),d.setWidth(c.outline.width),h.setOutline(d)}c=h}}return c},_selectFirstResult:function(a,c){if(this.autoSelect&&a){var e;c===this._allIndex?e=this._getFirstResult(a):a[c]&&
a[c][0]&&(e=a[c][0]);e&&this.select(e)}},_getSourceIndexOfResult:function(a){var c=this.searchResults;if(c)for(var e in c)if(c[e]&&c[e].length)for(var d=0;d<c[e].length;d++)if(c[e][d]===a)return parseInt(e,10);return null},_getFirstResult:function(a){if(a)for(var c in a)if(a[c]&&a[c][0])return a[c][0];return!1},_onFocus:function(){this.map&&"function"===typeof this.map.disableKeyboardNavigation&&this.map.disableKeyboardNavigation();this.emit("focus");this.inherited(arguments)},_onBlur:function(){this._hideMenus();
this.map&&"function"===typeof this.map.enableKeyboardNavigation&&this.map.enableKeyboardNavigation();this.enableButtonMode&&this.loaded&&this.collapse();this.emit("blur");this.inherited(arguments)},_getMapLayers:function(){var a=new q;if(this.addLayersFromMap&&this.map){var c=[],e=this.map.graphicsLayerIds;if(e&&e.length){for(var d=0;d<e.length;d++){var f=this.map.getLayer(e[d]);f&&c.push(this._featureLayerLoaded(f))}ia(c).always(v.hitch(this,function(c){for(var e,d=this.sources,f=0;f<c.length;f++)c[f]&&
c[f].loaded&&"Feature Layer"===c[f].type&&(d.push({featureLayer:c[f],enableSuggestions:!0}),e=!0);e&&this.set("sources",d);a.resolve()}))}else a.resolve()}else a.resolve();return a.promise},_switchCoordinatesClick:function(a){a.preventDefault();if(a=k.get(a.target,"data-switch-coordinates"))this._cancelSuggest(),this.set("value",a),this.search()},_moreResultsClick:function(a){a.preventDefault();var c=a.target;a=parseInt(k.get(c,"data-source-index"),10);var c=parseInt(k.get(c,"data-index"),10),e=this.searchResults;
e&&e[a]&&(a=e[a][c])&&this.select(a)},_showMoreResultsClick:function(a){a.preventDefault();if(a=f.byId(this._moreResultsId)){m.toggle(a,this.css.searchShowMoreResults);var c=f.byId(this._moreResultsId+"_show");c&&(m.contains(a,this.css.searchShowMoreResults)?k.set(c,"textContent",e.widgets.Search.main.hideMoreResults):k.set(c,"textContent",e.widgets.Search.main.showMoreResults))}},_featureLayerLoaded:function(a){var c=new q;if(a.loaded)c.resolve(a);else if(a.loadError)c.reject(this._error("Layer failed to load."));
else{var e,d;e=F.once(a,"load",v.hitch(this,function(){d.remove();c.resolve(a)}));d=F.once(a,"error",v.hitch(this,function(){e.remove();c.reject(this._error("Layer could not be loaded."))}))}return c.promise},_getObjectSize:function(a){var c=0,e;for(e in a)a.hasOwnProperty(e)&&c++;return c},_sourcesEvent:function(a,c){var e=k.get(c,"data-index"),d=z("li",this.sourcesNode);c=x.indexOf(d,c);e!==this._allIndex&&(e=parseInt(e,10));"click"===a.type||a.keyCode===l.ENTER?(this.set("activeSourceIndex",e),
C.focus(this.inputNode),this._hideSourcesMenu()):a.keyCode===l.UP_ARROW?(a.stopPropagation(),a.preventDefault(),a=c-1,0>a?C.focus(this.sourcesBtnNode):C.focus(d[a])):a.keyCode===l.DOWN_ARROW?(a.stopPropagation(),a.preventDefault(),a=c+1,a>=d.length?C.focus(this.sourcesBtnNode):C.focus(d[a])):a.keyCode===l.ESCAPE&&(this._hideSourcesMenu(),C.focus(this.inputNode))},_suggestionsEvent:function(a,c){var e=k.get(c,"data-source-index"),d=parseInt(k.get(c,"data-index"),10),f=z("li",this.suggestionsNode),
h=this.sources;c=x.indexOf(f,c);e!==this._allIndex&&(e=parseInt(e,10));var m;this._clearQueryTimeout();"click"===a.type||a.keyCode===l.ENTER?((f=this.suggestResults)&&f[e]&&f[e][d]&&(m=f[e][d]),m&&(m.index=e,h[e].featureLayer?(e=h[e].featureLayer.objectIdField,m[this._objectIdIdentifier]=m.feature.attributes[e],this.set("value",this._getSuggestionName(m)),this.set("selectedFeatureId",m.feature.attributes[e])):m.magicKey&&m.text&&(this.set("value",m.text),this.set("magicKey",m.magicKey)),this.search(m),
C.focus(this.inputNode))):a.keyCode===l.BACKSPACE||a.keyCode===l.DELETE?C.focus(this.inputNode):a.keyCode===l.UP_ARROW?(a.stopPropagation(),a.preventDefault(),m=c-1,0>m?C.focus(this.inputNode):C.focus(f[m])):a.keyCode===l.DOWN_ARROW?(a.stopPropagation(),a.preventDefault(),m=c+1,m>=f.length?C.focus(this.inputNode):C.focus(f[m])):a.keyCode===l.ESCAPE&&(this._hideMenus(),C.focus(this.inputNode))},_getResultName:function(a){var c;a.hasOwnProperty("name")&&null!==a.name&&(c=a.name.toString());c||(c=e.widgets.Search.main.untitledResult);
return c},_getSuggestionName:function(a){var c;a.hasOwnProperty("name")&&null!==a.name&&(c=a.name.toString());a=a.text||c;a||(a=e.widgets.Search.main.untitledResult);return a},_searchResultHTML:function(a){var c="";if(a.feature&&a.feature.attributes&&a.feature.attributes.Addr_type&&"LatLong"===a.feature.attributes.Addr_type){var d=a.name.split(" "),f,h;2===d.length&&(f=d[0],h=d[1]);h&&f?(a=parseFloat(f),h=parseFloat(h),d=h+", "+a,c+='\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e',c+='\x3cdiv class\x3d"'+
this.css.latLonHeader+'"\x3e'+e.widgets.Search.main.lonlat+"\x3c/div\x3e",c=c+(a+", "+h)+"\x3c/div\x3e"+('\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e'),a===h||90<a||-90>a||180<h||-180>h||(c+='\x3cdiv class\x3d"'+this.css.latLonHeader+'"\x3e'+e.widgets.Search.main.reverseLonLatHeader+"\x3c/div\x3e",c=c+('\x3ca data-switch-coordinates\x3d"'+d+'" tabindex\x3d"0" href\x3d"#"\x3e'+d+"\x3c/a\x3e")+"\x3c/div\x3e")):c=a.name}else c=a.name;return c},_moreResultsHTML:function(a){var c="",d="",
f=this.searchResults,h=this.sources,k=0;if(f){var d=d+('\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e'),d=d+('\x3ca href\x3d"#" id\x3d"'+this._moreResultsId+'_show"\x3e'+e.widgets.Search.main.showMoreResults+"\x3c/a\x3e"),d=d+"\x3c/div\x3e"+('\x3cdiv class\x3d"'+this.css.searchMoreResultsList+'"\x3e'),d=d+('\x3cdiv id\x3d"'+this._moreResultsId+'_list"\x3e'),l;for(l in f)if(f[l]){var m=f[l].length;if(m){var n=1===m&&f[l][0]===a;if(1<this._getObjectSize(f)&&!n)var p=this._getSourceName(l),
d=d+('\x3cdiv class\x3d"'+this.css.searchMoreResultsListHeader+'"\x3e'+p+"\x3c/div\x3e");if(m&&!n){d+="\x3cul\x3e";p=h[l].maxResults||this.maxResults;for(n=0;n<m&&n<p;++n)if(f[l][n]!==a){var q=this._getResultName(f[l][n]),d=d+('\x3cli\x3e\x3ca tabindex\x3d"0" data-index\x3d"'+n+'" data-source-index\x3d"'+l+'" href\x3d"#"\x3e'+q+"\x3c/a\x3e\x3c/li\x3e");k++}d+="\x3c/ul\x3e"}}}d+="\x3c/div\x3e\x3c/div\x3e"}k&&(c+=d);return c},_validField:function(a,c){return a.getField(c)},_validFields:function(a,c){if(a&&
c&&c.length){for(var e=0;e<c.length;e++)if(!this._validField(a,c[e]))return!1;return!0}return!1},_getCodedName:function(a,c){if(a&&a.length)for(var e=0,d=a.length;e<d;e++){var f=a[e];if(f.code===c)return f.name}},_getCodedValue:function(a,c,e){if(a&&a.length)for(var d=0,f=a.length;d<f;d++){var h=a[d],k=h.name,l=c;e||(k=k.toLowerCase(),l=l.toLowerCase());if(k===l)return h.code}return!1},_whereClause:function(a,c,e,d){var f=null;if(a){var h="";this.reHostedFS.test(c.url)&&this._containsNonLatinCharacter(a)&&
(h="N");if(e&&e.length)for(var k=0,l=e.length;k<l;k++){var m="",n=a.replace(/\'/g,"''"),m=e[k],p=c.getField(m),q=c.getDomain(m);q&&"codedValue"===q.type&&(n=this._getCodedValue(q.codedValues,n,d));!1!==n&&(p=p.type,"esriFieldTypeString"===p||"esriFieldTypeDate"===p?m=d?m+" \x3d "+h+"'"+n+"'":"UPPER("+m+") LIKE "+h+"'%"+n.toUpperCase()+"%'":"esriFieldTypeOID"===p||"esriFieldTypeSmallInteger"===p||"esriFieldTypeInteger"===p||"esriFieldTypeSingle"===p||"esriFieldTypeDouble"===p?(n=parseFloat(n),m=isNaN(n)?
!1:m+" \x3d "+n):m=m+" \x3d "+n,m&&(f=f?f+" or ":"",f+=m))}}return f},_suggest:function(a){a||(a={index:this.activeSourceIndex,text:this.value});var c=new q,e=a.index,d=this.sources[e],f=this.enableSuggestions;d.hasOwnProperty("enableSuggestions")&&(f=d.enableSuggestions);var h=0,k;a.hasOwnProperty("text")&&a.text&&(k=v.trim(a.text),h=a.text.length);a=d.minCharacters||this.minCharacters;if(f&&k&&h>=a&&this._supportsPagination(d)){var l="";d.prefix&&(l+=d.prefix);l+=k;d.suffix&&(l+=d.suffix);var m=
this._defaultSR;this.map&&(m=this.map.spatialReference);f={};d.locator?(d.categories&&(f.categories=d.categories),d.locator.outSpatialReference=m,this.map&&d.localSearchOptions&&d.localSearchOptions.hasOwnProperty("distance")&&d.localSearchOptions.hasOwnProperty("minScale")&&(h=this._getScale(),!d.localSearchOptions.minScale||h&&h<=parseFloat(d.localSearchOptions.minScale))&&(f.location=this.map.extent.getCenter(),f.distance=d.localSearchOptions.distance),f.text=l,d.useMapExtent&&this.map&&this.map.extent&&
(f.searchExtent=this.map.extent),d.searchExtent&&(f.searchExtent=d.searchExtent),f.maxSuggestions=d.maxSuggestions||this.maxSuggestions,d.sourceCountry&&(f.countryCode=d.sourceCountry),d.countryCode&&(f.countryCode=d.countryCode),d.locator.suggestLocations(f).then(v.hitch(this,function(a){c.resolve(a)}),v.hitch(this,function(a){a||(a=this._error("Locator suggestLocations could not be performed."));c.reject(a)}))):d.featureLayer?this._featureLayerLoaded(d.featureLayer).then(v.hitch(this,function(){var a=
this._getDisplayField(d),f=d.searchFields||[a],h=[];d.suggestionTemplate?d.suggestionTemplate.replace(/(?:\$\{([^}]+)\})/g,function(a,c){h.push(c)}):h=[a];-1===x.indexOf(h,d.featureLayer.objectIdField)&&h.push(d.featureLayer.objectIdField);var a=this._validField(d.featureLayer,a),k=this._validFields(d.featureLayer,h),n=this._validFields(d.featureLayer,f);if(a&&k&&n){a=new ha;d.hasOwnProperty("suggestQueryParams")&&v.mixin(a,d.suggestQueryParams);a.outSpatialReference=m;a.returnGeometry=!1;a.num=d.maxSuggestions||
this.maxSuggestions;a.outFields=h;d.useMapExtent&&this.map&&this.map.extent&&(a.geometry=this.map.extent);d.searchExtent&&(a.geometry=d.searchExtent);var p;if(f=this._whereClause(l,d.featureLayer,f,!1))a.where=f,p=!0;p?d.featureLayer.queryFeatures(a,v.hitch(this,function(a){var d;(a=a.features)&&(d=this._hydrateResults(a,e,!0));c.resolve(d)}),v.hitch(this,function(a){a||(a=this._error("FeatureLayer queryFeatures errored with suggestions"));c.reject(a)})):c.resolve()}else c.reject(this._error("Invalid FeatureLayer field"))})):
c.reject(this._error("Invalid source"))}else c.resolve();return c.promise},_supportsPagination:function(a){var c;a.locator?c=!0:a.featureLayer&&a.featureLayer.advancedQueryCapabilities&&a.featureLayer.advancedQueryCapabilities.supportsPagination&&(c=!0);return c},_suggestQueries:function(a){var c=this.sources,d=this.activeSourceIndex,e=[],f;if(d===this._allIndex)for(d=0;d<c.length;d++)f=a,f.index=d,f=this._suggest(f),e.push(f);else a.index=d,f=this._suggest(a),e.push(f);return ia(e)},_getPointFromGeometry:function(a){var c;
switch(a.type){case "extent":c=a.getCenter();break;case "multipoint":c=a.getPoint(0);break;case "point":c=a;break;case "polygon":c=a.getCentroid();break;case "polyline":c=a.getPoint(0,0)}return c},_searchQueries:function(a){a.hasOwnProperty("index")||(a.index=this.activeSourceIndex);var c=[],d;if(a.index===this._allIndex)for(var e=this.sources,f=0;f<e.length;f++)d=a,d.index=f,d=this._search(d),c.push(d);else a=this._search(a),c.push(a);return ia(c)},_searchButton:function(){this.enableButtonMode&&
!this.expanded?(this.expand(),C.focus(this.inputNode)):(this._cancelSuggest(),this.search())},_search:function(a){a||(a={text:this.value,magicKey:null,geometry:null,point:null,index:this.activeSourceIndex,latlon:null});this.selectedFeatureId&&(a.text=null,a[this._objectIdIdentifier]=this.selectedFeatureId);var c,d=new q,e=a.index,f=this.sources[e],h;a.hasOwnProperty("text")&&a.text&&(h=v.trim(a.text));if(f){var k="";f.prefix&&!a.magicKey&&(k+=f.prefix);k+=h;f.suffix&&!a.magicKey&&(k+=f.suffix);var l=
this._defaultSR;this.map&&(l=this.map.spatialReference);if(f.locator)if(a.hasOwnProperty("text")&&h){var m={};f.categories&&(m.categories=f.categories);f.locationType&&(m.locationType=f.locationType);l&&(f.locator.outSpatialReference=l);if(this.map&&f.localSearchOptions&&f.localSearchOptions.hasOwnProperty("distance")&&f.localSearchOptions.hasOwnProperty("minScale")){var n=this._getScale();if(!f.localSearchOptions.minScale||n&&n<=parseFloat(f.localSearchOptions.minScale))m.location=this.map.extent.getCenter(),
m.distance=f.localSearchOptions.distance}m.address={};m.maxLocations=f.maxResults||this.maxResults;f.useMapExtent&&this.map&&this.map.extent&&(m.searchExtent=this.map.extent);f.searchExtent&&(m.searchExtent=f.searchExtent);f.sourceCountry&&(m.countryCode=f.sourceCountry);f.countryCode&&(m.countryCode=f.countryCode);a.magicKey&&(m.magicKey=a.magicKey);f.singleLineFieldName?m.address[f.singleLineFieldName]=k:m.address["Single Line Input"]=k;f.outFields&&(m.outFields=f.outFields);f.locator.addressToLocations(m).then(v.hitch(this,
function(a){a=this._hydrateResults(a,e,!1);d.resolve(a)}),v.hitch(this,function(a){a||(a=this._error("Locator addressToLocations could not be performed"));d.reject(a)}))}else a.geometry?(c=this._getPointFromGeometry(a.geometry.geometry))?this._reverseGeocodePoint(e,c).then(function(a){d.resolve(a)},function(a){d.reject(a)}):d.reject(this._error("Invalid point to reverse geocode")):a.point?this._reverseGeocodePoint(e,a.point).then(function(a){d.resolve(a)},function(a){d.reject(a)}):a.latlon?(m=new O(a.latlon,
this._defaultSR),this._reverseGeocodePoint(e,m).then(function(a){d.resolve(a)},function(a){d.reject(a)})):a.hasOwnProperty("text")&&!h?d.resolve([]):d.reject(this._error("Invalid query type for Locator"));else f.featureLayer?this._featureLayerLoaded(f.featureLayer).then(v.hitch(this,function(){var m=this._getDisplayField(f),n=f.searchFields||[m],m=this._validField(f.featureLayer,m),p=this._validFields(f.featureLayer,n);if(m&&p){m=new ha;f.hasOwnProperty("searchQueryParams")&&v.mixin(m,f.searchQueryParams);
l&&(m.outSpatialReference=l,p=this.map&&this.map.getMaxResolution()||1/V.getUnitValueForSR(l))&&(m.maxAllowableOffset=p);m.returnGeometry=!0;f.outFields&&(m.outFields=f.outFields);var q;a.hasOwnProperty(this._objectIdIdentifier)||(this._supportsPagination(f)&&(m.num=f.maxResults||this.maxResults),f.useMapExtent&&this.map&&this.map.extent&&(m.geometry=this.map.extent),f.searchExtent&&(m.geometry=f.searchExtent),q=f.exactMatch);a.hasOwnProperty("text")&&h?(n=this._whereClause(k,f.featureLayer,n,q))?
(m.where=n,n=!0):n=!1:a.hasOwnProperty(this._objectIdIdentifier)?(m.objectIds=[a[this._objectIdIdentifier]],n=!0):a.geometry?(m.geometry=a.geometry,n=!0):a.point?(m.geometry=a.point,n=!0):a.latlon?(c=new O(a.latlon,this._defaultSR),m.geometry=c,n=!0):(a.hasOwnProperty("text")&&!h?d.resolve([]):d.reject(this._error("Invalid query type for FeatureLayer")),n=!1);n?f.featureLayer.queryFeatures(m,v.hitch(this,function(a){a=a.features;var c;a&&(c=this._hydrateResults(a,e,!1));d.resolve(c)}),v.hitch(this,
function(a){a||(a=this._error("FeatureLayer queryFeatures could not be performed"));d.reject(a)})):d.resolve()}else d.reject(this._error("Invalid FeatureLayer field"))})):d.reject(this._error("Invalid source"))}else d.reject(this._error("Source is undefined"));return d.promise},_clearQueryTimeout:function(){this._queryTimer&&clearTimeout(this._queryTimer)},_formatResults:function(a,c,d){d={activeSourceIndex:c,value:d,numResults:0,numErrors:0,errors:null,results:null};var e={},f={};if(a)if(c===this._allIndex)for(c=
0;c<a.length;c++)a[c]&&(a[c]instanceof Error?(e[c]=a[c],d.numErrors++):(f[c]=a[c],d.numResults+=a[c].length));else a[0]&&(a[0]instanceof Error?(e[c]=a[0],d.numErrors++):(f[c]=a[0],d.numResults+=a[0].length));d.numErrors&&(d.errors=e);d.numResults&&(d.results=f);return d},_reverseGeocodePoint:function(a,c){var d=new q,e=this.sources[a];if(c&&e){var f=e.locationToAddressDistance||this.locationToAddressDistance;e.locator.outSpatialReference=this._defaultSR;this.map&&(e.locator.outSpatialReference=this.map.spatialReference);
e.locator.locationToAddress(c,f,v.hitch(this,function(c){c=this._hydrateResults([c],a,!1);d.resolve(c)}),v.hitch(this,function(a){a||(a=this._error("Locator locationToAddress could not be performed"));d.reject(a)}))}else d.reject(this._error("No point or source defined for reverse geocoding"));return d.promise},_cancelDeferreds:function(){if(this._deferreds&&this._deferreds.length)for(var a=0;a<this._deferreds.length;a++)this._deferreds[a].cancel(this.declaredClass+" cancelling request");this._deferreds=
[]},_sourceBtnKey:function(a){if(a){var c=z("li",this.sourcesNode);a.keyCode===l.UP_ARROW?(a.stopPropagation(),a.preventDefault(),this._showSourcesMenu(),(a=c.length)&&C.focus(c[a-1])):a.keyCode===l.DOWN_ARROW&&(a.stopPropagation(),a.preventDefault(),this._showSourcesMenu(),c[0]&&C.focus(c[0]))}},_inputKey:function(a){if(a){var c=z("li",this.suggestionsNode),d=this.suggestResults;if(a.keyCode===l.TAB||a.keyCode===l.ESCAPE)this._cancelSuggest(),this._hideMenus();else if(a.keyCode===l.UP_ARROW)a.stopPropagation(),
a.preventDefault(),this._cancelSuggest(),d&&this._showSuggestionsMenu(),(a=c.length)&&C.focus(c[a-1]);else if(a.keyCode===l.DOWN_ARROW)a.stopPropagation(),a.preventDefault(),this._cancelSuggest(),d&&this._showSuggestionsMenu(),c[0]&&C.focus(c[0]);else{if(a.ctrlKey||a.metaKey||a.keyCode===l.copyKey||a.keyCode===l.LEFT_ARROW||a.keyCode===l.RIGHT_ARROW||a.keyCode===l.ENTER)return a;this._suggestDelay()}}},_cancelSuggest:function(){this._cancelDeferreds();this._clearQueryTimeout()},_suggestDelay:function(){this._cancelSuggest();
this._changeValue();this._queryTimer=setTimeout(v.hitch(this,function(){this.suggest()}),this.suggestionDelay)},_changeValue:function(){this.set("magicKey",null);this.set("selectedFeatureId",null);this._changeAttrValue("value",this.inputNode.value);this._checkStatus()},_inputClick:function(){this._hideSourcesMenu();this._hideNoResultsMenu()},_getSourceName:function(a){return this._sourceNames[a]},_loadSources:function(a){a=x.filter(a,function(a){return!!a.featureLayer});a=x.map(a,function(a){return this._featureLayerLoaded(a.featureLayer)},
this);return ia(a)},_createSourceNameMap:function(a){return this._loadSources(a).then(v.hitch(this,function(){var c=x.map(a,function(a){return a.name||a.featureLayer&&a.featureLayer.name||e.widgets.Search.main.untitledSource});this._preventDuplicateSourceNames(a,c);return c}))},_getDuplicateSourceNameIndexes:function(a){var c={},d=[];x.forEach(a,function(e,f){c.hasOwnProperty(e)?(-1===d.indexOf(c[e])&&d.push(c[e]),d.push(f)):a.lastIndexOf(e)!==f&&(c[e]=f)});return d},_preventDuplicateSourceNames:function(a,
c){if(c&&1<c.length){var d=this._getDuplicateSourceNameIndexes(c);x.forEach(d,function(d){c[d]+=this._getFieldsString(a[d])},this)}},_getFieldsString:function(a){var c="",d=a.featureLayer;if(d){a=a.searchFields||[this._getDisplayField(a)];for(var e=0;e<a.length;e++)var c=0===e?c+": ":c+", ",f=a[e],h=d.getFieldLabel(f),c=c+(h||f)}return c},_splitResult:function(a,c){c=y.escapeString(c);return a.replace(new RegExp("(^|)("+c+")(|$)","ig"),"$1|$2|$3").split("|")},_insertSuggestions:function(c,d){if(this.enableSuggestionsMenu&&
this.suggestionsNode){this._hideSourcesMenu();this._hideNoResultsMenu();var e,f=this.sources;if(c){e=a.create("div");for(var h in c)if(c[h]&&c[h].length){var k=this._getSourceName(h);1<f.length&&this.activeSourceIndex===this._allIndex&&a.create("div",{className:this.css.searchMenuHeader,textContent:k},e);for(var k=a.create("ul",{role:"menu"},e),l=f[h].maxSuggestions||this.maxSuggestions,m=0;m<c[h].length&&m<l;++m)for(var n=a.create("li",{"data-index":m,"data-source-index":h,role:"menuitem",tabindex:0},
k),p=this._getSuggestionName(c[h][m]),p=this._splitResult(p,d),q=p.length,t=0;t<q;t++){var u=p[t];u.toLowerCase()===d.toLowerCase()?a.create("strong",{textContent:u},n):(u=document.createTextNode(u),a.place(u,n))}}}e?(a.place(e,this.suggestionsNode,"only"),this._showSuggestionsMenu()):(a.empty(this.suggestionsNode),this._hideSuggestionsMenu())}},_insertSources:function(c){if(this.enableSourcesMenu&&c&&1<c.length){var d,f,h=this.activeSourceIndex,k=a.create("ul",{role:"menu"});this.enableSearchingAll&&
(d="",h===this._allIndex&&(d="active"),a.create("li",{"data-index":this._allIndex,role:"menuitem",className:d,tabIndex:0,textContent:e.widgets.Search.main.all},k));for(f=0;f<c.length;f++){d="";f===h&&(d=this.css.activeSource);var l=this._getSourceName(f);a.create("li",{"data-index":f,role:"menuitem",className:d,tabIndex:0,textContent:l},k)}m.add(this.containerNode,this.css.hasMultipleSources);a.place(k,this.sourcesNode,"only")}else m.remove(this.containerNode,this.css.hasMultipleSources),a.empty(this.sourcesNode)},
_showLoading:function(){m.add(this.containerNode,this.css.searchLoading)},_hideLoading:function(){m.remove(this.containerNode,this.css.searchLoading)},_checkStatus:function(){this.value?(m.add(this.containerNode,this.css.hasValue),k.set(this.clearNode,"title",e.widgets.Search.main.clearButtonTitle)):this.clear()},_closePopup:function(){this.enableInfoWindow&&this.map&&this.map.infoWindow&&this.map.infoWindow.hide()},_noResults:function(c){var d;c&&(d=v.trim(c));var f=a.create("div",{className:this.css.searchNoResultsBody});
c&&d?(a.create("div",{className:this.css.searchNoResultsHeader,textContent:e.widgets.Search.main.noResults},f),a.create("div",{className:this.css.searchNoResultsText,textContent:B.substitute({value:'"'+c+'"'},e.widgets.Search.main.noResultsFound)},f)):(c=a.create("div",{},f),a.create("span",{"aria-hidden":"true",className:this.css.searchNoValueIcon},c),a.create("span",{className:this.css.searchNoValueText,textContent:e.widgets.Search.main.emptyValue},c));a.place(f,this.noResultsMenuNode,"only")},
_hideMenus:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();this._hideNoResultsMenu()},_hideNoResultsMenu:function(){m.remove(this.containerNode,this.css.showNoResults)},_showNoResultsMenu:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();m.add(this.containerNode,this.css.showNoResults)},_hideSourcesMenu:function(){m.remove(this.containerNode,this.css.showSources)},_hideSuggestionsMenu:function(){m.remove(this.containerNode,this.css.showSuggestions)},_showSourcesMenu:function(){this._hideSuggestionsMenu();
this._hideNoResultsMenu();m.add(this.containerNode,this.css.showSources)},_showSuggestionsMenu:function(){this._hideSourcesMenu();this._hideNoResultsMenu();m.add(this.containerNode,this.css.showSuggestions)},_toggleSourcesMenu:function(){this._hideSuggestionsMenu();this._hideNoResultsMenu();m.toggle(this.containerNode,this.css.showSources)},_getFirstStringField:function(a){if(a&&(a=a.fields)&&a.length)for(var c=0;c<a.length;c++){var d=a[c];if("esriFieldTypeString"===d.type)return d.name}return""},
_getDisplayField:function(a){return a.displayField||a.featureLayer.displayField||this._getFirstStringField(a.featureLayer)},_validLocation:function(a){return a&&"number"===typeof a.x&&"number"===typeof a.y},_validExtent:function(a){return a&&"number"===typeof a.xmin&&"number"===typeof a.ymin&&"number"===typeof a.xmax&&"number"===typeof a.ymax},_hydrateResult:function(a,c,d){var e={},f=this._defaultSR,h;c=this.sources[c];this.map&&(f=this.map.spatialReference);if(a.hasOwnProperty("text")&&a.hasOwnProperty("magicKey"))return a;
if(a.hasOwnProperty("geometry"))h=new aa(a.toJson()),e.feature=h,(h=e.feature.geometry)&&h.setSpatialReference(f);else if(a.hasOwnProperty("location")&&this._validLocation(a.location)){var k=new O(a.location.x,a.location.y,f);h={};a.hasOwnProperty("attributes")&&(h=a.attributes);a.hasOwnProperty("address")&&"object"===typeof a.address&&v.mixin(h,a.address);a.hasOwnProperty("score")&&(h.score=a.score);e.feature=new aa(k,null,h,null)}!e.feature&&d&&(h={},a.hasOwnProperty("attributes")&&(h=a.attributes),
a.hasOwnProperty("score")&&(h.score=a.score),e.feature=new aa(null,null,h,null));if(e.feature){if(a.hasOwnProperty("extent")&&this._validExtent(a.extent))e.extent=new U(a.extent),e.extent.setSpatialReference(f);else if(e.feature&&e.feature.geometry)switch(e.feature.geometry.type){case "extent":e.extent=e.feature.geometry;break;case "multipoint":e.extent=L.getDenormalizedExtent(e.feature.geometry);break;case "polygon":e.extent=L.getDenormalizedExtent(e.feature.geometry);break;case "polyline":e.extent=
L.getDenormalizedExtent(e.feature.geometry);break;case "point":this.map?(f=this.zoomScale,c&&c.zoomScale&&(f=c.zoomScale),this._getScale()>f?e.extent=V.getExtentForScale(this.map,f).centerAt(e.feature.geometry):e.extent=this.map.extent.centerAt(e.feature.geometry)):e.extent=new U({xmin:e.feature.geometry.x-.25,ymin:e.feature.geometry.y-.25,xmax:e.feature.geometry.x+.25,ymax:e.feature.geometry.y+.25,spatialReference:this._defaultSR})}else e.extent=null;e.name="";c.featureLayer?c.suggestionTemplate&&
d?e.name=B.substitute(a.attributes,c.suggestionTemplate):c.searchTemplate?e.name=B.substitute(a.attributes,c.searchTemplate):(h=this._getDisplayField(c),d=c.featureLayer.getField(h),f=c.featureLayer.getDomain(h),h&&a.hasOwnProperty("attributes")&&a.attributes.hasOwnProperty(h)&&(a=a.attributes[h],f&&"codedValue"===f.type?e.name=this._getCodedName(f.codedValues,a):d&&"esriFieldTypeDate"===d.type&&!isNaN(a)?e.name=w.format(new Date(a)):e.name=a)):a.address&&c.searchTemplate?e.name=B.substitute(a.address,
c.searchTemplate):a.hasOwnProperty("name")?e.name=a.name:a.hasOwnProperty("attributes")&&"object"===typeof a.attributes&&a.attributes.LongLabel?e.name=a.attributes.LongLabel:a.hasOwnProperty("attributes")&&"object"===typeof a.attributes&&a.attributes.Match_addr?(e.name=a.attributes.Match_addr,a.attributes.Addr_type&&"POI"===a.attributes.Addr_type&&a.attributes.StAddr&&a.attributes.City?e.name+=" - "+a.attributes.StAddr+", "+a.attributes.City:a.attributes.Addr_type&&"POI"===a.attributes.Addr_type&&
a.attributes.City&&(e.name+=" - "+a.attributes.City)):a.hasOwnProperty("address")&&"string"===typeof a.address?e.name=a.address:a.hasOwnProperty("address")&&"object"===typeof a.address&&a.address.hasOwnProperty("Address")?a.address.hasOwnProperty("Match_addr")?e.name=a.address.Match_addr:a.address.hasOwnProperty("Address")&&(e.name=a.address.Address):e.feature&&e.feature.geometry&&(e.name=e.feature.geometry.x+","+e.feature.geometry.y);c.featureLayer&&e.feature&&na(e.feature,c.featureLayer);return e}},
_getScale:function(){var a;this.map&&"function"===typeof this.map.getScale&&(a=this.map.getScale());return a},_hydrateResults:function(a,c,d,e){e=[];var f=0;if(a&&a.length)for(f;f<a.length;f++){var h=this._hydrateResult(a[f],c,d);h&&e.push(h)}return e},_containsNonLatinCharacter:function(a){for(var c=0;c<a.length;c++)if(255<a.charCodeAt(c))return!0;return!1},_setPlaceholder:function(a){var c="",d=this.sources[a];a===this._allIndex?c=this.allPlaceholder||e.widgets.Search.main.allPlaceholder:d&&d.placeholder&&
(c=d.placeholder);var f=e.widgets.Search.main.all;d&&(f=this._getSourceName(a));k.set(this.sourceNameNode,"textContent",f);k.set(this.inputNode,"placeholder",c);k.set(this.inputNode,"title",c)},_updateActiveSource:function(){var a=this.sources,c=this.activeSourceIndex,d;a&&a[c]&&(d=a[c]);d?this.set("activeSource",d):this.set("activeSource",null)},_updateVisible:function(){this.visible?this.show():this.hide()},_updateButtonMode:function(a){a?(m.toggle(this.containerNode,this.css.searchExpanded,this.expanded),
m.toggle(this.containerNode,this.css.searchCollapsed,!this.expanded),m.add(this.containerNode,this.css.hasButtonMode)):(m.remove(this.containerNode,this.css.searchExpanded),m.remove(this.containerNode,this.css.searchCollapsed),m.remove(this.containerNode,this.css.hasButtonMode))},_setDefaultActiveSourceIndex:function(a){a&&1===a.length||!this.enableSearchingAll?this.set("activeSourceIndex",0):this.set("activeSourceIndex",this._allIndex)},_setEnableSourcesMenuAttr:function(a){this._set("enableSourcesMenu",
a);this._created&&this._insertSources(this.sources)},_setEnableSearchingAllAttr:function(a){this._set("enableSearchingAll",a);this._created&&(this._setDefaultActiveSourceIndex(this.sources),this._hideMenus(),this._insertSources(this.sources))},_setSourcesAttr:function(a){this._createSourceNameMap(a).then(v.hitch(this,function(c){this._sourceNames=c;this._created&&(this._setDefaultActiveSourceIndex(a),this._hideMenus(),this._insertSources(a))}));this._set("sources",a)},_setAllPlaceholderAttr:function(a){this._set("allPlaceholder",
a);this._created&&this._setPlaceholder(this.activeSourceIndex)},_setActiveSourceIndexAttr:function(a){this._set("activeSourceIndex",a);this._updateActiveSource();this._created&&(this._setPlaceholder(a),this._hideMenus(),this._insertSources(this.sources))},_setMaxLengthAttr:function(a){this._set("maxLength",a);this._created&&k.set(this.inputNode,"maxLength",a)},_setValueAttr:function(a){this.set("magicKey",null);this.set("selectedFeatureId",null);this._set("value",a);this._created&&(k.set(this.inputNode,
"value",a),this._checkStatus())},_setVisibleAttr:function(a){this._set("visible",a);this._created&&this._updateVisible()},_setEnableButtonModeAttr:function(a){this._set("enableButtonMode",a);this._created&&this._updateButtonMode(a)},_setThemeAttr:function(a){this._created&&(m.remove(this.domNode,this.theme),m.add(this.domNode,a));this._set("theme",a)}});J("extend-esri")&&v.setObject("dijit.Search",A,D);return A})},"esri/tasks/locator":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/json dojo/has ../kernel ../request ../deferredUtils ./Task ./AddressCandidate".split(" "),
function(I,A,v,x,u,q,l,F,z,J,y){I=I(J,{declaredClass:"esri.tasks.Locator",_eventMap:{"address-to-locations-complete":["addresses"],"addresses-to-locations-complete":["addresses"],"location-to-address-complete":["address"],"suggest-locations-complete":["suggestions"]},constructor:function(f){this._geocodeHandler=A.hitch(this,this._geocodeHandler);this._geocodeAddressesHandler=A.hitch(this,this._geocodeAddressesHandler);this._reverseGeocodeHandler=A.hitch(this,this._reverseGeocodeHandler);this.registerConnectEvents()},
outSpatialReference:null,setOutSpatialReference:function(f){this.outSpatialReference=f},_geocodeHandler:function(f,k,l,d,a){try{var m=f.candidates,e;k=[];var h,q=m.length,p=f.spatialReference,c;for(h=0;h<q;h++){e=m[h];if(c=e.location)c.spatialReference=p;k[h]=new y(e)}this._successHandler([k],"onAddressToLocationsComplete",l,a)}catch(n){this._errorHandler(n,d,a)}},_geocodeAddressesHandler:function(f,k,l,d,a){try{var m=f.locations;k=[];var e,h=m.length,q=f.spatialReference,p;for(e=0;e<h;e++){if(p=
m[e].location)p.spatialReference=q;k[e]=new y(m[e])}this._successHandler([k],"onAddressesToLocationsComplete",l,a)}catch(c){this._errorHandler(c,d,a)}},addressToLocations:function(f,k,l,d,a){var m,e,h,q,p,c,n,v;f.address&&(d=l,l=k,k=f.outFields,a=f.searchExtent,v=f.countryCode,m=f.magicKey,e=f.distance,n=f.categories,f.location&&this.normalization&&(h=f.location.normalize()),q=f.locationType,p=f.maxLocations,c=f.forStorage,f=f.address);a&&(a=a.shiftCentralMeridian());var y=this.outSpatialReference;
f=this._encode(A.mixin({},this._url.query,f,{f:"json",outSR:y&&u.toJson(y.toJson()),outFields:k&&k.join(",")||null,searchExtent:a&&u.toJson(a.toJson()),category:n&&n.join(",")||null,countryCode:v||null,magicKey:m||null,distance:e||null,location:h||null,locationType:q||null,maxLocations:p||null,forStorage:c||null}));var I=this._geocodeHandler,D=this._errorHandler,J=new x(z._dfdCanceller);J._pendingDfd=F({url:this._url.path+"/findAddressCandidates",content:f,callbackParamName:"callback",load:function(a,
c){I(a,c,l,d,J)},error:function(a){D(a,d,J)}});return J},suggestLocations:function(f){var k;k=new x(z._dfdCanceller);f.hasOwnProperty("location")&&this.normalization&&(f.location=f.location.normalize());f.searchExtent&&(f.searchExtent=f.searchExtent.shiftCentralMeridian());f=this._encode(A.mixin({},this._url.query,{f:"json",text:f.text,maxSuggestions:f.maxSuggestions,searchExtent:f.searchExtent&&u.toJson(f.searchExtent.toJson()),category:f.categories&&f.categories.join(",")||null,countryCode:f.countryCode||
null,location:f.location||null,distance:f.distance||null},{f:"json"}));f=F({url:this._url.path+"/suggest",content:f,callbackParamName:"callback"});k._pendingDfd=f;f.then(A.hitch(this,function(f){f=f.suggestions||[];this.onSuggestLocationsComplete(f);k.resolve(f)}),A.hitch(this,function(f){this._errorHandler(f);k.reject(f)}));return k},addressesToLocations:function(f,k,l){var d=this.outSpatialReference,a=[],m=f.categories,e=f.locationType,h=f.countryCode;v.forEach(f.addresses,function(c,d){a.push({attributes:c})});
f=this._encode(A.mixin({},this._url.query,{category:m&&m.join(",")||null,locationType:e||null,sourceCountry:h||null},{addresses:u.toJson({records:a})},{f:"json",outSR:d&&u.toJson(d.toJson())}));var q=this._geocodeAddressesHandler,p=this._errorHandler,c=new x(z._dfdCanceller);c._pendingDfd=F({url:this._url.path+"/geocodeAddresses",content:f,callbackParamName:"callback",load:function(a,d){q(a,d,k,l,c)},error:function(a){p(a,l,c)}});return c},_reverseGeocodeHandler:function(f,k,l,d,a){try{var m=new y({address:f.address,
location:f.location,score:100});this._successHandler([m],"onLocationToAddressComplete",l,a)}catch(e){this._errorHandler(e,d,a)}},locationToAddress:function(f,k,l,d){f&&this.normalization&&(f=f.normalize());var a=this.outSpatialReference;f=this._encode(A.mixin({},this._url.query,{outSR:a&&u.toJson(a.toJson()),location:f&&u.toJson(f.toJson()),distance:k,f:"json"}));var m=this._reverseGeocodeHandler,e=this._errorHandler,h=new x(z._dfdCanceller);h._pendingDfd=F({url:this._url.path+"/reverseGeocode",content:f,
callbackParamName:"callback",load:function(a,e){m(a,e,l,d,h)},error:function(a){e(a,d,h)}});return h},onSuggestLocationsComplete:function(){},onAddressToLocationsComplete:function(){},onAddressesToLocationsComplete:function(){},onLocationToAddressComplete:function(){}});q("extend-esri")&&A.setObject("tasks.Locator",I,l);return I})},"esri/tasks/AddressCandidate":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../geometry/Point"],function(I,A,v,x,u){I=I(null,{declaredClass:"esri.tasks.AddressCandidate",
constructor:function(q){A.mixin(this,q);this.location=new u(this.location)}});v("extend-esri")&&A.setObject("tasks.AddressCandidate",I,x);return I})},"esri/styles/basic":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/has","../kernel","../Color"],function(I,A,v,x,u){function q(l,f){var k;if(l)switch(k={},k.color=new u(l.color),k.opacity=l.opacity||1,f){case "point":k.outline={color:new u(l.outline.color),width:l.outline.width};k.size=l.size;break;case "line":k.width=l.width;break;case "polygon":k.outline=
{color:new u(l.outline.color),width:l.outline.width}}return k}function l(l){if("esriGeometryPoint"===l||"esriGeometryMultipoint"===l)l="point";else if("esriGeometryPolyline"===l)l="line";else if("esriGeometryPolygon"===l||"esriGeometryMultiPatch"===l)l="polygon";return l}var F={"default":{name:"default",label:"Default",description:"Default theme for basic visualization of features.",basemapGroups:{light:"streets gray topo terrain national-geographic oceans osm gray-vector streets-vector topo-vector streets-relief-vector streets-navigation-vector".split(" "),
dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector"]},pointSchemes:{light:{primary:{color:[77,77,77,1],outline:{color:[255,255,255,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},{color:[255,255,255,1],outline:{color:[51,51,51,.25],width:1},size:8}]},dark:{primary:{color:[255,255,255,1],outline:{color:[92,92,92,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},
{color:[26,26,26,1],outline:{color:[178,178,178,.25],width:1},size:8}]}},lineSchemes:{light:{primary:{color:[77,77,77,1],width:2},secondary:[{color:[226,119,40,1],width:2},{color:[255,255,255,1],width:2}]},dark:{primary:{color:[255,255,255,1],width:2},secondary:[{color:[226,119,40,1],width:2},{color:[26,26,26,1],width:2}]}},polygonSchemes:{light:{primary:{color:[227,139,79,1],outline:{color:[255,255,255,.25],width:1},opacity:.8},secondary:[{color:[128,128,128,1],outline:{color:[255,255,255,.25],width:1},
opacity:.8},{color:[255,255,255,1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]},dark:{primary:{color:[227,139,79,1],outline:{color:[92,92,92,.25],width:1},opacity:.8},secondary:[{color:[178,178,178,1],outline:{color:[92,92,92,.25],width:1},opacity:.8},{color:[26,26,26,1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]}}}},z={};(function(){var l,f,k,m,d,a,q,e;for(l in F)for(m in f=F[l],k=f.basemapGroups,d=z[l]={basemaps:[].concat(k.light).concat(k.dark),point:{},line:{},polygon:{}},
k)for(a=k[m],q=0;q<a.length;q++)e=a[q],f.pointSchemes&&(d.point[e]=f.pointSchemes[m]),f.lineSchemes&&(d.line[e]=f.lineSchemes[m]),f.polygonSchemes&&(d.polygon[e]=f.polygonSchemes[m])})();var J={getAvailableThemes:function(l){var f=[],k,m,d;for(k in F)m=F[k],d=z[k],l&&-1===I.indexOf(d.basemaps,l)||f.push({name:m.name,label:m.label,description:m.description,basemaps:d.basemaps.slice(0)});return f},getSchemes:function(u){var f=u.theme,k=u.basemap,m=l(u.geometryType);u=z[f];var d;(u=(u=u&&u[m])&&u[k])&&
(d={primaryScheme:q(u.primary,m),secondarySchemes:I.map(u.secondary,function(a){return q(a,m)})});return d},cloneScheme:function(l){var f;l&&(f=A.mixin({},l),f.color&&(f.color=new u(f.color)),f.outline&&(f.outline={color:f.outline.color&&new u(f.outline.color),width:f.outline.width}));return f}};v("extend-esri")&&A.setObject("styles.basic",J,x);return J})},"widgets/PublicNotification/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],
function(){})},"url:dijit/templates/ProgressBar.html":'\x3cdiv class\x3d"dijitProgressBar dijitProgressBarEmpty" role\x3d"progressbar"\r\n\t\x3e\x3cdiv  data-dojo-attach-point\x3d"internalProgress" class\x3d"dijitProgressBarFull"\r\n\t\t\x3e\x3cdiv class\x3d"dijitProgressBarTile" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\x3e\x3cspan style\x3d"visibility:hidden"\x3e\x26#160;\x3c/span\r\n\t\x3e\x3c/div\r\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"labelNode" class\x3d"dijitProgressBarLabel" id\x3d"${id}_label"\x3e\x3c/div\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"indeterminateHighContrastImage"\r\n\t\t   class\x3d"dijitInline dijitProgressBarIndeterminateHighContrastImage"\x3e\x3c/span\r\n\x3e\x3c/div\x3e\r\n',
"url:jimu/dijit/templates/SearchDistance.html":'\x3cdiv\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"cbxDiv"\x3e\x3c/div\x3e\r\n\t\x3ctable style\x3d"table-layout:fixed;width:100%;"\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"15px"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"numberTextBox" data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n\t\t\t\t\t data-dojo-props\x3d\'"required":true,intermediateChanges:false,constraints:{min:0,pattern:"#####0.##########"}\'\r\n\t\t\t\t\t style\x3d"width:100%;" data-dojo-attach-event\x3d"change:_onNumberTextBoxChanged" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cselect data-dojo-type\x3d"jimu/dijit/formSelect" data-dojo-attach-point\x3d"unitSelect"\r\n\t\t\t\t\tdata-dojo-attach-event\x3d"change:_onUnitSelectChanged" style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"MILES" selected\x3e${nls.miles}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"KILOMETERS"\x3e${nls.kilometers}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"FEET"\x3e${nls.feet}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"METERS"\x3e${nls.meters}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"YARDS"\x3e${nls.yards}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"NAUTICAL_MILES"\x3e${nls.nauticalMiles}\x3c/option\x3e\r\n\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:jimu/dijit/templates/FeatureSetChooserForMultipleLayers.html":'\x3cdiv class\x3d"jimu-not-selectable"\x3e\r\n  \x3cdiv class\x3d"draw-item-btn" tabindex\x3d"0"\x3e\r\n    \x3cdiv class\x3d"current-draw-item" data-dojo-attach-point\x3d"currentDrawItem"\x3e\r\n      \x3cdiv class\x3d"btn-select" data-dojo-attach-point\x3d"btnSelect"\x3e\r\n        \x3cdiv class\x3d"labels"\x3e\r\n            \x3cdiv class\x3d"feature-action" data-dojo-attach-point\x3d"geoTypeIcon"\x3e\x3c/div\x3e\r\n            \x3cdiv class\x3d"select-text"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"arrow feature-action icon-drop-down" data-dojo-attach-event\x3d"click:_onArrowClicked"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"btn-clear" data-dojo-attach-point\x3d"btnClear" tabindex\x3d"0"\x3e\r\n    \x3cdiv class\x3d"feature-action icon-clear-selection"\x3e\x3c/div\x3e\x3cdiv class\x3d"clear-text"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:esri/dijit/Search/templates/Search.html":'\x3cdiv role\x3d"presentation" class\x3d"${theme}"\x3e\r\n  \x3cdiv role\x3d"presentation" class\x3d"${css.searchGroup}" data-dojo-attach-point\x3d"containerNode"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"expandNode" class\x3d"${css.searchExpandContainer}"\x3e\r\n      \x3cdiv class\x3d"${css.searchAnimateContainer}"\x3e\r\n        \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchIn}" id\x3d"${id}_menu_button" class\x3d"${css.searchBtn} ${css.searchToggle}" tabindex\x3d"0" data-dojo-attach-point\x3d"sourcesBtnNode"\x3e\r\n          \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchToggleIcon}"\x3e\x3c/span\x3e\x3cspan class\x3d"${css.searchSourceName}" data-dojo-attach-point\x3d"sourceNameNode"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"${css.searchInputGroup}"\x3e\r\n          \x3cform data-dojo-attach-point\x3d"formNode"\x3e\r\n            \x3cinput maxlength\x3d"${maxLength}" autocomplete\x3d"off" type\x3d"text" tabindex\x3d"0" class\x3d"${css.searchInput}" value\x3d"${value}" aria-haspopup\x3d"true" id\x3d"${id}_input" data-dojo-attach-point\x3d"inputNode" role\x3d"textbox"\x3e\r\n          \x3c/form\x3e\r\n          \x3cdiv role\x3d"button" class\x3d"${css.searchClear}" tabindex\x3d"0" data-dojo-attach-point\x3d"clearNode"\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchClearIcon}"\x3e\x3c/span\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchSpinner}"\x3e\x3c/span\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"suggestionsNode" class\x3d"${css.searchMenu} ${css.suggestionsMenu}"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchButtonTitle}" class\x3d"${css.searchBtn} ${css.searchSubmit}" tabindex\x3d"0" data-dojo-attach-point\x3d"submitNode"\x3e\r\n      \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchIcon}"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"${css.searchButtonText}"\x3e${_i18n.widgets.Search.main.searchButtonTitle}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"sourcesNode" class\x3d"${css.searchMenu} ${css.sourcesMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"noResultsMenuNode" class\x3d"${css.searchMenu} ${css.searchNoResultsMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.searchClearFloat}"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/PublicNotification/Widget.html":'\x3cdiv\x3e\r\n    \x3cdiv id\x3d"activeWidgetSection" style\x3d"display:none"\x3e\r\n        \x3cdiv id\x3d"sourceInputsSection"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.searchHeaderText}\x3c/div\x3e\r\n            \x3cdiv class\x3d"section"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"searchNode" class\x3d"search-node searchDijitFillsContainer"\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv tabindex\x3d"-1" data-dojo-attach-point\x3d"searchResultsNode" class\x3d"searchResults arcgisSearch"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"section" data-dojo-attach-point\x3d"drawBoxDijit"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"drawBoxDiv"\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"section" data-dojo-attach-point\x3d"searchDistanceDijit" style\x3d"height:68px"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"searchDistanceDiv" class\x3d"section entryFullWidth"\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv id\x3d"sourceInputsSectionScrim" class\x3d\'scrim hidden\'\x3e\x3c/div\x3e\r\n\r\n        \x3cdiv id\x3d"addresseeSourceSection" class\x3d"section"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.addresseeSource}\x3c/div\x3e\r\n            \x3cdiv class\x3d"entryFullWidth"\x3e\r\n                \x3cselect aria-label\x3d"${nls.groupingLabels.addresseeSource}" data-dojo-attach-point\x3d"addresseeSelect"\r\n                    data-dojo-type\x3d"jimu/dijit/formSelect"\x3e\x3c/select\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.formatHeaderText}\x3c/div\x3e\r\n            \x3cdiv class\x3d"entryFullWidth"\x3e\r\n                \x3cselect aria-label\x3d"${nls.groupingLabels.formatHeaderText}" class\x3d"lastFocusNode" data-dojo-attach-point\x3d"formatSelect"\r\n                    data-dojo-type\x3d"jimu/dijit/formSelect"\x3e\x3c/select\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv id\x3d"numAddresseesFound"\x3e\x3c/div\x3e\r\n            \x3c!-- aria-label added at runtime --\x3e\r\n            \x3cdiv tabindex\x3d"0" role\x3d"button" data-dojo-attach-point\x3d"downloadBtn"\r\n                data-dojo-attach-event\x3d"onclick:_onDownloadBtnClicked"\r\n                class\x3d"jimu-btn jimu-float-trailing focusableItem hidden"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv data-dojo-type\x3d"dijit/ProgressBar" class\x3d"progressbar"\r\n                data-dojo-attach-point\x3d"indeterminateProgress" id\x3d"indeterminateProgress"\x3e\x3c/div\x3e\r\n            \x3cdiv data-dojo-type\x3d"dijit/ProgressBar" class\x3d"progressbar"\r\n                data-dojo-attach-point\x3d"determinateProgress" id\x3d"downloadProgress"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv id\x3d"nothingConfiguredSection" style\x3d"display:none"\x3e\r\n        \x3cdiv\x3e${nls.tooltips.nothingConfigured}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/PublicNotification/css/style.css":".jimu-widget-public-notification .search-controls {height: 34px;}.jimu-widget-public-notification .search-node {height: 34px;}.jimu-widget-public-notification .esriCTSelectLocationDiv {margin: 0px 0px 0px 2px; float: right; min-width: 34px;}.jimu-widget-public-notification .imgBtnCell {width: 34px;}.jimu-widget-public-notification .imgBtn {cursor: pointer; width: 34px; height: 34px; border: 1px solid #57585A; border-radius: 4px; background-position: center center; background-repeat: no-repeat; position: relative;}.jimu-widget-public-notification .focusableItem:focus {border-color: rgb(81,177,254); box-shadow: rgb(81,177,254) 0px 0px 5px 0px; outline-color: rgb(77,144,254);}.jimu-widget-public-notification .arcgisSearch .searchBtn {padding: 6px;}.jimu-widget-public-notification table {width: 100%;}.jimu-widget-public-notification {min-height: 32px;}.jimu-widget-public-notification .search-node.default-width-for-openAtStart {width: 274px;}.jimu-widget-public-notification .result-item-selected {background: #eee;}.jimu-widget-public-notification .arcgisSearch .searchBtn {padding: 6px;}.jimu-widget-public-notification .arcgisSearch .searchBtn:hover,.jimu-widget-public-notification .arcgisSearch .searchBtn:focus {background-color: #485566; color: white;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchToggle {float: left;}.jimu-rtl .jimu-widget-public-notification.use-absolute .arcgisSearch .searchToggle {float: right;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchInputGroup {position: absolute; top: 0; width: auto; left: 34px; right: 34px;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchInputGroup form {overflow: hidden; z-index: 0; position: relative;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchInputGroup .searchClear {z-index: 0;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchExpandContainer {float: none;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchSubmit {float: right;}.jimu-rtl .jimu-widget-public-notification.use-absolute .arcgisSearch .searchSubmit {float: left;}.jimu-widget-public-notification .arcgisSearch .show-all-results {position: absolute; height: 25px; color: #686868; line-height: 25px; display: none; width: 237px; margin: auto; background-color: #fff; padding: 0 12px; cursor: pointer;}.jimu-widget-public-notification .arcgisSearch .searchMenu {border-radius: 0; color: #686868; font-size: 12px; padding: 0; top: 33px;}.jimu-widget-public-notification .arcgisSearch .searchMenu li.active {background-color: #d9dde0; color: #686868; font-size: 14px;}.jimu-widget-public-notification .arcgisSearch .searchMenu li {padding: 0 12px; line-height: 25px;}.jimu-widget-public-notification .arcgisSearch .searchMenu .menuHeader {background-color: #d9dde0; color: #686868; font-size: 14px; min-height: 30px; padding: 0 12px; line-height: 30px;}.jimu-widget-public-notification .section {clear: both; padding-bottom: 12px;}.jimu-widget-public-notification .entryFullWidth {margin: 4px; height: 30px;}.jimu-widget-public-notification .distance {width: calc(100% - 126px); width: 49%;}.jimu-widget-public-notification .unitsSelect {float: right; width: 120px; width: 49%;}.jimu-widget-public-notification .hidden {display: none;}.jimu-widget-public-notification .sourceInputsSection {position: relative;}.jimu-widget-public-notification .scrim {position: absolute; background-color: transparent; z-index: 10;}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .searchExpandContainer {float: none; width: calc(100% - 22px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .searchInputGroup {width: calc(100% - 12px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .searchGroup .searchInput {width: calc(100% - 13px); padding: 6px;}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .hasMultipleSources .searchExpandContainer {float: none; width: calc(100% - 10px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .hasMultipleSources .searchInputGroup {width: calc(100% - 58px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .hasMultipleSources .searchInput {width: calc(100% - 12px); padding: 6px;}.jimu-widget-public-notification #numAddresseesFound {margin-left: 5px; margin-bottom: 12px;}.jimu-widget-public-notification .progressbar {display: none; margin-top: 40px;}",
"*now":function(I){I(['dojo/i18n!*preload*widgets/PublicNotification/nls/Widget*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/_base/array dojo/_base/Color dojo/_base/lang dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/Evented dojo/keys dojo/on dojo/dom-attr dojo/query dojo/string dijit/_WidgetsInTemplateMixin dijit/ProgressBar esri/geometry/geometryEngineAsync esri/layers/GraphicsLayer esri/tasks/BufferParameters esri/tasks/GeometryService esri/tasks/query esri/tasks/QueryTask esri/tasks/RelationshipQuery jimu/dijit/DrawBox jimu/dijit/SearchDistance jimu/dijit/FeatureSetChooserForMultipleLayers jimu/BaseWidget jimu/LayerInfos/LayerInfos jimu/utils ./Download_Avery ./Download_CSV ./Highlighter ./labelFormatUtils ./Queryer ./SearchLayers jimu/dijit/formSelect dojo/domReady!".split(" "),function(I,
A,v,x,u,q,l,F,z,J,y,f,k,m,d,a,w,e,h,t,p,c,n,C,B,N,D,X,aa,ia,Ga,Ha,G,Z,P,S){return I([X,a,J],{baseClass:"jimu-widget-public-notification",_origin:void 0,_bufferDistanceMeters:0,_drawToolOption:{},_activeDrawToolNode:null,_formatCodeHandlers:{AVERY:"./Download_Avery",CSV:"./Download_CSV"},_formatCodeHandlerInstances:{AVERY:null,CSV:null},_bufferGeometry:null,_searchResultSymbology:{point:{lineColor:new v("aqua"),lineWidth:2,fillColor:new v([0,255,255,.1])},line:{lineColor:new v("aqua"),lineWidth:2},
polygon:{lineColor:new v("aqua"),lineWidth:2,fillColor:new v([0,255,255,.1])}},_bufferSymbology:{point:{lineColor:new v("green"),lineWidth:3,fillColor:new v([0,255,0,.1])},line:{lineColor:new v("green"),lineWidth:3},polygon:{lineColor:new v("green"),lineWidth:3,fillColor:new v([0,255,0,.1])}},_addresseeSymbology:{point:{lineColor:new v("blue"),lineWidth:2,fillColor:new v([0,0,255,.1])},line:{lineColor:new v("blue"),lineWidth:2},polygon:{lineColor:new v("blue"),lineWidth:2,fillColor:new v([0,0,255,
.1])}},_addresseeSources:[],_foundAddressees:[],_foundLabels:[],nls:null,config:null,_testConfig:null,constructor:function(a,c){this._testConfig=c},postMixInProperties:function(){this._testConfig&&(this.nls=this._testConfig.nls,this.config=this._testConfig.config);this.nls.common={};x.mixin(this.nls.common,window.jimuNls.common)},postCreate:function(){this.inherited(arguments);this._activeDrawToolNode=null;this._checkDownloadBtnEnable()},startup:function(){this.inherited(arguments);this._init()},
onOpen:function(){this._searchComponent&&this._searchComponent.setFocus();this._dblClickZoom=this.map.isDoubleClickZoom},onClose:function(){this._clearAll()},destroy:function(){this._drawTool&&(this._drawTool.destroyRecursive(),this._drawTool=null);this.inherited(arguments)},_isFeatureUsedForBuffereing:function(a,c){var d=!1;this._prevSelectedFeatures&&this._prevSelectedFeatures.bufferedFeatures&&0<this._prevSelectedFeatures.bufferedFeatures.length&&A.some(this._prevSelectedFeatures.bufferedFeatures,
function(e){if(a===e._layer.id&&e.attributes[e._layer.objectIdField]===c)return d=!0});return d},_filterBufferedFeatures:function(a){var c=[],d=[];A.forEach(a,function(a){this._isFeatureUsedForBuffereing(a._layer.id,a.attributes[a._layer.objectIdField])?c.push(a):d.push(a)},this);return{bufferedFeatures:c,nonBufferedFeatures:d}},_init:function(){var a,c,d,e=[],n;this.own(f(this.downloadBtn,"keydown",x.hitch(this,function(a){a.keyCode!==y.ENTER&&a.keyCode!==y.SPACE||this._onDownloadBtnClicked()})));
aa.getInstance(this.map,this.map.itemInfo).then(x.hitch(this,function(h){var k,p,q,t=x.clone(this.config.searchSourceSettings.search);a=this.config.searchSourceSettings.drawing.tools[0];c=A.filter(this.config.searchSourceSettings.drawing.tools.slice(1),function(c,d){return"1"===a[d]});0<c.length&&(this._drawToolOption.map=this.map,this._drawToolOption.geoTypes=c,this._drawToolOption.showClear=!0,this._drawToolOption.keepOneGraphic=!0,this._drawTool=new B(this._drawToolOption),d=this._drawTool.domNode.childNodes[1].children,
A.forEach(c,function(a){A.some(d,function(c){return c.attributes["data-geotype"].nodeValue===a?(e.push(c),!0):!1})}),e.push(d[d.length-1]),this._replaceChildren(this._drawTool.domNode.childNodes[1],e),this._drawTool.placeAt(this.drawBoxDiv),this.own(this._drawTool.on("icon-selected",x.hitch(this,this._onDrawIconSelected))),this.own(this._drawTool.on("draw-end",x.hitch(this,this._onDrawEnd))),this.own(this._drawTool.on("clear",x.hitch(this,this._onDrawClear))),this.own(this._drawTool.on("user-clear",
x.hitch(this,this._onDrawClear))));this.config.searchSourceSettings.drawing.select&&(k=l.create("div",{width:"100%"}),p=l.create("div",null,k),n=c.indexOf("LINE"),0<=n&&(c.splice(n,1),0>c.indexOf("POLYLINE")&&c.splice(n,0,"POLYLINE")),this._selectTool=new D({geoTypes:0<c.length?c:["EXTENT"],map:this.map,updateSelection:!0,fullyWithin:!1},p),this._selectTool.startup(),this.mapSelectionLayers=A.filter(A.map(h.getLayerInfoArray(),function(a){return a.layerObject}),function(a){return a}),q=A.filter(A.map(t.sources,
function(a){return a.layerId}),function(a){return a}),this.mapSelectionLayers=A.filter(this.mapSelectionLayers,function(a){return 0<=q.indexOf(a.id)}),0<this.mapSelectionLayers.length&&this._selectTool.setFeatureLayers(this.mapSelectionLayers),p=m(".draw-item-btn",this._selectTool.domNode)[0],this.own(f(p,"click",x.hitch(this,this._onSelectSelected))),p=m(".arrow",this._selectTool.domNode)[0],this.own(f(p,"click",x.hitch(this,this._onSelectSelected))),p=m(".btn-clear",this._selectTool.domNode)[0],
this.own(f(p,"click",x.hitch(this,this._onSelectClear))),this.own(f(this._selectTool,"unloading",x.hitch(this,function(a,c,d,e,f){var h=[];!this._prevSelectedFeatures||e||f||(this._prevSelectedFeatures=null);A.forEach(this.mapSelectionLayers,x.hitch(this,function(a){h=h.concat(a.getSelectedFeatures())}));this._prevSelectedFeatures=!this._bufferDistanceMeters||this._bufferDistanceMeters&&!this._prevSelectedFeatures?{bufferedFeatures:h,nonBufferedFeatures:[]}:this._filterBufferedFeatures(h);this._origin=
A.map(this._prevSelectedFeatures.bufferedFeatures,function(a){return a.geometry});this._doBufferSearch(this._prevSelectedFeatures.nonBufferedFeatures);0===h.length&&(this._prevSelectedFeatures=null)}))),l.place(k,this.drawBoxDiv,"last"));t.map=this.map;this._searchComponent=new S(t,this.appConfig.portalUrl,h,l.create("div",null,this.searchNode));this._searchComponent.searchDijit().then(x.hitch(this,function(a){this._searchDijit=a;this.own(f(a,"search-results",x.hitch(this,this._onSearchResults)));
this.own(f(a,"clear-search",x.hitch(this,this._onClearSearch)));1===this._searchComponent.sources.length?ia.initFirstFocusNode(this.domNode,this._searchComponent._searchDijit.inputNode):ia.initFirstFocusNode(this.domNode,this._searchComponent._searchDijit.sourcesBtnNode);ia.focusFirstFocusNode(this.domNode)}));a=this.config.addresseeSourceSettings.sources[0];this._addresseeSources=A.filter(this.config.addresseeSourceSettings.sources.slice(1),function(c,d){return"1"===a[d]});A.forEach(this._addresseeSources,
function(a,c){A.some(h._operLayers,function(d){return a.name===d.title&&d.popupInfo&&d.popupInfo.description?(a.labelLineTemplates=Z.convertPopupToLabelSpec(d.popupInfo.description),a.labelLineTemplates.parsedExpressions=Z.parseArcadeExpressions(d.popupInfo.expressionInfos),a.url=d.url,a.useRelatedRecords&&(a.labelLineTemplates.relationships=this._createRelationshipQueries(d)),this.addresseeSelect.addOption({value:c,label:a.name}),!0):!1},this)},this)}));0<this.addresseeSelect.options.length?(z.set("activeWidgetSection",
"display",""),this.own(this.addresseeSelect.on("change",x.hitch(this,this._updateAddresseesFromBufferGeometry))),this._queryer=new P(this.map,this.config.searchSourceSettings.geometryServiceURL),this._bufferLayer=new h,this.map.addLayer(this._bufferLayer),this._highlighter=new G(100),this._createSearchDistanceDisplay(),a=this.config.notificationSettings.labelFormats[0],A.filter(this.config.notificationSettings.labelFormats.slice(1),x.hitch(this,function(c,d){var e="1"===a[d];e&&this.formatSelect.addOption({value:d,
label:"\x3cspan"+(c.hint?' title\x3d"'+c.hint+'"':"")+"\x3e"+c.name+"\x3c/span\x3e"});return e})),this.downloadBtn.innerHTML=window.jimuNls.layerInfosMenu.itemDownload,k.set(this.downloadBtn,"aria-label",window.jimuNls.layerInfosMenu.itemDownload),this.resize()):z.set("nothingConfiguredSection","display","block")},_createSearchDistanceDisplay:function(a){var c=!1,d,e,h,k=[];this._searchDistance&&(c=this._searchDistance.isEnabled(),this._searchDistance.destroy(),this._searchDistance=null);l.empty(this.searchDistanceDiv);
this._searchDistanceSource=a;a="undefined"===typeof this._searchDistanceSource?this.config.searchSourceSettings.drawing.buffer:this.config.searchSourceSettings.search.sources[this._searchDistanceSource].buffer;d=a.bufferUnitsMenu[0];e=A.filter(a.bufferUnitsMenu.slice(1),function(a,c){return"1"===d[c]});this._searchDistance=new N({distance:a.bufferDistance,unit:a.bufferUnits});h=this._searchDistance.unitSelect.options;A.forEach(e,function(a){A.some(h,function(c){return c.value===a?(k.push(c),!0):!1},
this)},this);0<k.length&&(this._searchDistance.unitSelect.options=k);this._searchDistance.placeAt(this.searchDistanceDiv);c?this._searchDistance.enable():this._searchDistance.disable();this._updateDisplayedBuffer(this._searchDistance.getData());this.own(this._searchDistance.numberTextBox.on("keyup",x.hitch(this,this._onBufferDistanceKeyup)));this.own(f(this._searchDistance,"change",x.hitch(this,this._onSearchDistanceChanged)))},_updateDisplayedBuffer:function(a){this._bufferDistanceMeters=0;a&&a.isEnabled&&
0<=a.meters&&(this._bufferDistanceMeters=a.meters);Array.isArray(this._origin)&&0<this._origin.length&&(this._prevSelectedFeatures&&0<this._prevSelectedFeatures.bufferedFeatures.length&&this._prevSelectedFeatures.nonBufferedFeatures?this._doBufferSearch(this._prevSelectedFeatures.nonBufferedFeatures):this._doBufferSearch())},_replaceChildren:function(a,c){for(;a.firstChild;)a.removeChild(a.firstChild);A.forEach(c,function(c){a.appendChild(c)})},_createRelationshipQueries:function(a){var c=!1,d={},
e=/\d+/,f;if(f=a.popupInfo.description.match(/\{relationships\/\d+\//gm))c=!0,A.forEach(f,function(c){var f=c.match(e)[0];d.hasOwnProperty(f)||(c=new C,c.outFields=["*"],c.relationshipId=f,c.returnGeometry=!1,d[f]={operLayer:a,relatedQuery:c})});return c?d:null},_enableSourceInputs:function(a){var c=u.byId("sourceInputsSectionScrim");a?q.add(c,"hidden"):(a=F.getMarginBox(u.byId("sourceInputsSection")),F.setMarginBox(c,a),q.remove(c,"hidden"))},_doBufferSearch:function(a){this._onStartBuffer();(!this._origin||
this._origin&&0>=this._origin.length)&&a&&0<a.length&&this._unionNonBufferdFeatures(null,a);this._queryer.createBufferFromGeometries(this._origin,this._bufferDistanceMeters).then(x.hitch(this,function(c){a&&0<a.length?this._unionNonBufferdFeatures(c,a):(this._bufferGeometry=c,ia.featureAction.zoomTo(this.map,[this._bufferGeometry]),this._updateAddresseesFromBufferGeometry())}),x.hitch(this,function(a){this._onEndBuffer();console.log(a)}))},_unionNonBufferdFeatures:function(a,c){c=A.map(c,function(a){return a.geometry});
a=a?[a].concat(c):c;this._queryer.createUnionOfGeometries(a).then(x.hitch(this,function(a){this._bufferGeometry=a;ia.featureAction.zoomTo(this.map,[this._bufferGeometry]);this._updateAddresseesFromBufferGeometry()}),x.hitch(this,function(a){this._onEndBuffer();console.log(a)}))},_updateAddresseesFromBufferGeometry:function(){this._onStartBuffer();this._bufferGeometry?(this.indeterminateProgress.set({value:Number.POSITIVE_INFINITY}),z.set(this.indeterminateProgress.domNode,"display","block"),this._createAndAddGraphic(this._bufferGeometry,
this._bufferSymbology,this._bufferLayer),this._queryer.find(this._bufferGeometry,this._addresseeSources[this.addresseeSelect.value].url,["*"],"addressee").then(x.hitch(this,function(a){a.features&&Array.isArray(a.features)&&0<a.features.length?(this._foundAddressees=a.features,z.set(this.indeterminateProgress.domNode,"display","none"),this._highlighter.highlightFeatures(this._foundAddressees,x.hitch(this,this._createAndAddGraphic),this._addresseeSymbology,this._bufferLayer,x.hitch(this,this._setProgressPercentage))):
this._activeDrawToolNode&&(this._activeDrawToolNode.focus(),this._activeDrawToolNode=null);this._onEndBuffer()}),x.hitch(this,function(a){this._onEndBuffer();console.log(a)}))):this._onEndBuffer()},_setProgressPercentage:function(a){0>=a?(this.determinateProgress.set({value:0}),z.set(this.determinateProgress.domNode,"display","block")):100<=a?(this.determinateProgress.set({value:100}),z.set(this.determinateProgress.domNode,"display","none")):this.determinateProgress.set({value:a})},_createAndAddGraphic:function(a,
c,d){(a=this._highlighter.createGraphic(a,c))&&d.add(a)},_onBufferDistanceKeyup:function(a){a.keyCode===y.ENTER&&this._updateDisplayedBuffer(this._searchDistance.getData())},_onSearchDistanceChanged:function(a){var c;c="undefined"===typeof this._searchDistanceSource?this.config.searchSourceSettings.drawing.buffer:this.config.searchSourceSettings.search.sources[this._searchDistanceSource].buffer;c.bufferDistance=a.distance;c.bufferUnits=a.unit;this._updateDisplayedBuffer(a)},_onSearchResults:function(a){var c=
a.results,d=a.activeSourceIndex;this._clearAll();0<a.numResults&&c&&Z.objEach(c,function(a,c){a&&0<a.length&&(this._origin=[a[0].feature.geometry],this._createAndAddGraphic(a[0].feature,this._searchResultSymbology,this.map.graphics),this._createSearchDistanceDisplay("all"===d?c:d),this._doBufferSearch())},this)},_onClearSearch:function(){this._clearAll()},_onDrawIconSelected:function(a){this._selectTool&&this._selectTool.isActive()&&this._selectTool.deactivate();this._activeDrawToolNode=a;this.map.disableDoubleClickZoom();
this.map.navigationManager.setImmediateClick(!0);this.map.setInfoWindowOnClick(!1);this._clearAll();this._createSearchDistanceDisplay()},_onDrawEnd:function(a){this._dblClickZoom&&this.map.enableDoubleClickZoom();this.map.navigationManager.setImmediateClick(!1);this._origin=[a.geometry];this._doBufferSearch()},_onDrawClear:function(){this.map.setInfoWindowOnClick(!0);this._clearAll()},_onSelectSelected:function(){this._onSelectClear()},_onSelectClear:function(){this._clearAll();this._createSearchDistanceDisplay()},
_onStartBuffer:function(){this._enableSourceInputs(!1);this._clearBufferGraphics();this.indeterminateProgress.set({value:Number.POSITIVE_INFINITY});z.set(this.indeterminateProgress.domNode,"display","block")},_onEndBuffer:function(){this._enableSourceInputs(!0);z.set(this.indeterminateProgress.domNode,"display","none");this._checkDownloadBtnEnable()},_clearAll:function(){this._origin=void 0;this._prevSelectedFeatures=null;this._foundAddressees=[];this._foundLabels=[];this._clearSelections();this.map.graphics.clear();
this._drawTool&&this._drawTool.drawLayer&&this._drawTool.drawLayer.clear();this._clearBufferGraphics();this._checkDownloadBtnEnable()},_clearSelections:function(){A.forEach(this.mapSelectionLayers,function(a){a.clearSelection()})},_clearBufferGraphics:function(){this._foundAddressees=[];this._foundLabels=[];this._bufferLayer&&this._bufferLayer.clear();this._checkDownloadBtnEnable()},_checkDownloadBtnEnable:function(){0<this._addresseeSources.length&&Z.createLabelsFromFeatures(this._foundAddressees,
this._addresseeSources[this.addresseeSelect.value].labelLineTemplates).then(x.hitch(this,function(a){var c=u.byId("numAddresseesFound"),e="";this._foundLabels=a;0<this._foundLabels.length?(e=d.substitute(this.nls.numAddresseesFound,{count:this._foundLabels.length}),q.remove(this.downloadBtn,"hidden"),k.set(this.downloadBtn,"aria-label",e+" "+this.downloadBtn.innerHTML),ia.initLastFocusNode(this.domNode,this.downloadBtn),this.downloadBtn.focus()):(q.add(this.downloadBtn,"hidden"),ia.initLastFocusNode(this.domNode,
this.formatSelect.domNode));c.innerHTML=e}))},_onDownloadBtnClicked:function(){var a,c;c=x.clone(this.config.notificationSettings.labelPageOptions);a=this.config.notificationSettings.labelFormats[this.formatSelect.value+1];switch(a.labelSpec.type){case "AVERY":this._formatCodeHandlerInstances[a.labelSpec.type]=new Ga;c.guidance.printSuggestion=this.nls.tooltips.printSuggestion;break;case "CSV":this._formatCodeHandlerInstances[a.labelSpec.type]=new Ha}this._doSave(this._formatCodeHandlerInstances[a.labelSpec.type],
a.labelSpec,c)},_doSave:function(a,c,d){var e;a&&0!==this._foundLabels.length&&(e=this._addresseeSources[this.addresseeSelect.value].name,this.determinateProgress.set({value:0}),z.set(this.determinateProgress.domNode,"display","block"),console.log("Downloading ",this._foundLabels.length," labels"),setTimeout(x.hitch(this,function(){a.save(this._foundLabels,e,c,d,this.domNode,this.determinateProgress).then(x.hitch(this,function(a){console.log("PDF document(s) "+(a?"":"not ")+"created");this.determinateProgress.set({value:100});
z.set(this.determinateProgress.domNode,"display","none")}))}),10))}})});
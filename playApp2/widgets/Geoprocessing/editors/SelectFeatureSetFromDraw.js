// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"url:widgets/Geoprocessing/editors/SelectFeatureSetFromDraw.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"inputNode"\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"featuresetNode"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n'}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dijit/_TemplatedMixin jimu/dijit/DrawBox esri/symbols/jsonUtils esri/tasks/FeatureSet esri/geometry/Polygon esri/graphic esri/graphicsUtils ./BaseFeatureSetEditor dojo/text!./SelectFeatureSetFromDraw.html ../LayerOrderUtil".split(" "),function(e,f,g,b,h,k,l,m,n,d,p,q,r,t){return e([q,h],{editorName:"SelectFeatureSetFromDraw",templateString:r,constructor:function(a){this.inherited(arguments);this.paramName=a.param.name;this.drawLayerId=
a.widgetUID+a.param.name},postCreate:function(){this.inherited(arguments);b.addClass(this.domNode,"jimu-gp-editor-draw");b.addClass(this.domNode,"jimu-gp-editor-base");var a={types:this.types,drawLayerId:this.drawLayerId,showClear:this.showClear,map:this.map};this.param.symbol&&(a[this.types[0]+"Symbol"]=l.fromJson(this.param.symbol));this.drawBox=new k(a);b.place(this.drawBox.domNode,this.inputNode);this.drawBox.startup();try{(new t(this.config,this.map)).calculateLayerIndex(this.paramName,this.widgetUID).then(f.hitch(this,
function(a){-1!==a&&this.map.reorderLayer(this.drawBox.drawLayer,a)}))}catch(c){console.error(c.message)}this.startup()},getValue:function(){return 0===this.activeViewIndex?this.drawBox.drawLayer&&0<this.drawBox.drawLayer.graphics.length?this._createFeatureSet(this.drawBox.drawLayer.graphics):null:this.getFeatureSet()},_createFeatureSet:function(a){var c=new m,b=[];a=p.getGeometries(a);g.forEach(a,function(a){a="extent"===a.type?new d(n.fromExtent(a)):new d(a);b.push(a)});c.features=b;return c}})});
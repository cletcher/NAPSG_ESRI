// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
define(["dojo/_base/declare","esri/request"],function(e,f){var a=null,d=e(null,{cache:{},getServiceDefinition:function(c,a){a||(a="json");var b=this.cache[c];0>=this._getDefStatus(b)&&(b=f({url:c,handleAs:a,content:{f:a},callbackParamName:"callback"}),this.cache[c]=b);return b},_getDefStatus:function(a){return a?a.isFulfilled()?a.isResolved()?2:-1:1:0}});d.getInstance=function(){a||(a=new d,window._serviceDefinitionManager=a);return a};return d});
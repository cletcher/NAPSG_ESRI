// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
define(["dojo/_base/lang","dojo/_base/html","dojo/_base/declare","./LayerChooserFromMap"],function(d,e,f,a){return f([a],{baseClass:"jimu-queryable-layer-chooser-from-map",declaredClass:"jimu.dijit.QueryableLayerChooserFromMap",showImageLayer:!0,mustSupportStatistics:!1,ignoreVirtualLayer:!1,postMixInProperties:function(){this.inherited(arguments);this.filter=this.showImageLayer?a.createQueryableLayerFilter(this.mustSupportStatistics):a.createFeaturelayerFilter(["point","polyline","polygon"],!1,!0,
this.mustSupportStatistics);this.ignoreVirtualLayer&&(this.filter=a.andCombineFilters([this.filter,d.hitch(this,this._ignoreVirtualLayerFilter)]))},_ignoreVirtualLayerFilter:function(a){return a.getLayerType().then(function(a){return!("ArcGISDynamicMapServiceLayer"===a||"ArcGISTiledMapServiceLayer"===a||"GroupLayer"===a)})},postCreate:function(){this.inherited(arguments);e.addClass(this.domNode,"jimu-basic-layer-chooser-from-map")},getHandledItem:function(a){var c=this.inherited(arguments),b=a&&a.layerInfo,
b=b&&b.layerObject;c.url=b&&b.url||"";return c}})});
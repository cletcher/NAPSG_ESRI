// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
define("dojo/_base/declare dojo/_base/html dijit/_WidgetBase dojo/_base/lang dojo/_base/array jimu/utils dgrid/OnDemandGrid dgrid/extensions/ColumnResizer dgrid/extensions/ColumnReorder".split(" "),function(b,f,h,g,e,k,l,m,n){return b([h],{declaredClass:"jimu.dijit.DataPreviewTable",baseClass:"jimu-data-preview-table",featureSet:null,loadingIndicator:null,_AUTO_WIDTH_COLS:6,postCreate:function(){this.inherited(arguments);k.loadStyleLink("dgrid",apiUrl+"dgrid/css/dgrid.css");this.tableContainer=f.create("div",
{"class":"table-container"},this.domNode);this.height&&f.style(this.tableContainer,"height",this.height-80+"px");var a=this._getColumns();this.grid=new (b([l,m,n]))({columns:a},this.tableContainer);a=this._getData();this.grid.renderArray(a)},_getColumns:function(){var a="auto";this.featureSet.fields&&this.featureSet.fields.length&&this.featureSet.fields.length>this._AUTO_WIDTH_COLS&&(a=120);var c={};e.forEach(this.featureSet.fields,function(d){c[d.name]={label:d.alias,width:a}});return c},_getData:function(){var a=
[];e.forEach(this.featureSet.features,function(c,d){var b={};e.forEach(this.featureSet.fields,function(a){b[a.name]=c.attributes[a.name]},this);a.push(g.clone(g.mixin({id:d+1},b)))},this);return a}})});